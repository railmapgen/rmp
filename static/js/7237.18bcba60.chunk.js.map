{"version":3,"file":"static/js/7237.18bcba60.chunk.js","mappings":"2RAUaA,EAAgBC,EAAAA,YAAiB,SAACC,EAA2BC,GACtE,IACIC,EAMAF,EANAE,KACAC,EAKAH,EALAG,WACAC,EAIAJ,EAJAI,KAHJ,EAOIJ,EAFAK,iBAAAA,OALJ,MAKgC,OAATD,EAAgB,OAAS,UALhD,EAMOE,GANP,OAOIN,EAPJ,GASA,OAAOD,EAAAA,SACH,kBACI,cAAGE,IAAKA,EAAR,UACe,OAATG,GAAgB,OAAIF,GAAMK,UAAYL,GAAMM,KAAI,SAACC,EAAGC,GAAJ,OAC9C,iCAEIC,IAAKD,EAAIP,EAAa,IAAe,OAATC,GAAiB,EAAI,GACjDC,iBAAkBA,GACdC,GAJR,aAMKG,IALIA,UAUrB,CAACG,KAAKC,UAAUX,GAAOC,EAAYC,EAAMQ,KAAKC,UAAUP,QAMhER,EAAcgB,YAAc,gBAKrB,IAAMC,GAAW,eACnBC,EAAAA,EAAAA,QAAuB,KADJ,SAEnBA,EAAAA,EAAAA,QAAuB,IAFJ,GASXC,EAMT,CACAC,IAAK,CACDC,SAAU,EACVhB,WAAYY,EAAYC,EAAAA,EAAAA,SACxBI,UAAW,GAEfC,OAAQ,CACJF,SAAU,EACVhB,WAAY,EACZiB,SAAU,GAEdE,OAAQ,CACJH,SAAU,EACVhB,WAAYY,EAAYC,EAAAA,EAAAA,SACxBI,SAAU,IC8BZG,GAA+D,kBAC9DC,EAAAA,GAD8D,IAEjEC,YAAa,QACbC,YAAa,MACbC,OAAQ,EACRC,OAAQ,GACRC,MAAO,KAGLC,EAA0B,CAC5B,CACIC,KAAM,WACNC,MAAO,0CACPC,MAAO,SAACC,GAAD,OACH,OAACA,QAAD,IAACA,EAAAA,EAASX,GAAoCY,MAAM,GAAGC,WAAW,KAAM,OAC5EC,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUhB,EAIxB,OAFAW,EAAMC,MAAM,GAAKG,EAAIE,WAAWJ,WAAW,KAAM,MAE1CF,IAGf,CACIH,KAAM,WACNC,MAAO,0CACPC,MAAO,SAACC,GAAD,OACH,OAACA,QAAD,IAACA,EAAAA,EAASX,GAAoCY,MAAM,GAAGC,WAAW,KAAM,OAC5EC,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUhB,EAIxB,OAFAW,EAAMC,MAAM,GAAKG,EAAIE,WAAWJ,WAAW,KAAM,MAE1CF,IAGf,CACIH,KAAM,SACNC,MAAO,+CACPC,MAAO,SAACC,GAAD,OAAyC,OAACA,QAAD,IAACA,EAAAA,EAASX,GAAoCE,aAC9FgB,QAAS,CAAEC,KAAM,OAAQrB,OAAQ,SAAUsB,MAAO,SAClDC,gBAAiB,SAACV,GAAD,MAAiE,YAAlB,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOR,aAA2B,CAAC,UAAY,IAC1GW,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUhB,EAIxB,OAFAW,EAAMT,YAAca,EAEbJ,IAGf,CACIH,KAAM,SACNC,MAAO,+CACPC,MAAO,SAACC,GAAD,OAAyC,OAACA,QAAD,IAACA,EAAAA,EAASX,GAAoCG,aAC9Fe,QAAS,CAAEvB,IAAK,MAAOG,OAAQ,SAAUC,OAAQ,UACjDsB,gBAAiB,SAACV,GAAD,MAAiE,YAAlB,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOT,aAA2B,CAAC,UAAY,IAC1GY,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUhB,EAIxB,OAFAW,EAAMR,YAAcY,EAEbJ,IAGf,CACIH,KAAM,QACNC,MAAO,0CACPC,MAAO,SAACC,GAAD,OAAyC,OAACA,QAAD,IAACA,EAAAA,EAASX,GAAoCK,QAC9FiB,UAAW,SAACP,GAAD,OAAiBQ,OAAOC,UAAUT,IAC7CD,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUhB,EAIxB,OAFAW,EAAMN,OAASkB,OAAOR,GAEfJ,IAGf,CACIH,KAAM,QACNC,MAAO,yCACPC,MAAO,SAACC,GAAD,OAAyC,OAACA,QAAD,IAACA,EAAAA,EAASX,GAAoCM,OAC9FgB,UAAW,SAACP,GAAD,OAAiBQ,OAAOC,UAAUT,IAC7CD,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUhB,EAIxB,OAFAW,EAAML,MAAQiB,OAAOR,GAEdJ,IAGf,CACIH,KAAM,QACNC,MAAO,0CACPC,MAAO,SAACC,GAAD,OAAyC,OAACA,QAAD,IAACA,EAAAA,EAASX,GAAoCI,QAC9FkB,UAAW,SAACP,GAAD,OAAiBQ,OAAOC,UAAUT,IAAQQ,OAAOR,IAAQ,GAAKQ,OAAOR,GAAO,KACvFD,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUhB,EAIxB,OAFAW,EAAMP,OAASqB,KAAKC,IAAIH,OAAOR,IAAQ,IAEhCJ,KA2BnB,EAhBgE,CAC5DgB,UAlNsB,SAAClD,GAAkC,IAAD,EAChDmD,EAA2EnD,EAA3EmD,GAAIC,EAAuEpD,EAAvEoD,EAAGC,EAAoErD,EAApEqD,EAAGnB,EAAiElC,EAAjEkC,MAAOoB,EAA0DtD,EAA1DsD,kBAAmBC,EAAuCvD,EAAvCuD,kBAAmBC,EAAoBxD,EAApBwD,gBAC/D,YAOItB,EAAMuB,EAAAA,EAAAA,mBAPV,QAOqClC,EAPrC,IACIY,MAAAA,OADJ,MACYX,EAAAA,EAAAA,MADZ,MAEIC,YAAAA,OAFJ,MAEkBF,EAAmCE,YAFrD,MAGIC,YAAAA,OAHJ,MAGkBH,EAAmCG,YAHrD,MAIIC,OAAAA,OAJJ,MAIaJ,EAAmCI,OAJhD,MAKIE,MAAAA,OALJ,MAKYN,EAAmCM,MAL/C,MAMID,OAAAA,OANJ,MAMaL,EAAmCK,OANhD,EASM8B,EAAgB3D,EAAAA,aAClB,SAAC4D,GAAD,OAAuCL,EAAkBH,EAAIQ,KAC7D,CAACR,EAAIG,IAEHM,EAAgB7D,EAAAA,aAClB,SAAC4D,GAAD,OAAuCJ,EAAkBJ,EAAIQ,KAC7D,CAACR,EAAII,IAEHM,EAAc9D,EAAAA,aAChB,SAAC4D,GAAD,OAAuCH,EAAgBL,EAAIQ,KAC3D,CAACR,EAAIK,IAGHM,EAAwB,SAAhBrC,GAA0B,GAAqB,UAAhBA,EAA0B,GAAK,EAKtEsC,GAHD5B,EAAMlB,EAAQS,GAAaP,UAAU6C,MAAM,MAAMC,OAAS,GAC3DhD,EAAQS,GAAavB,WACrBc,EAAQS,GAAaN,UACe,QAAhBM,GAAyB,GAAqB,WAAhBA,EAA2B,GAAK,GAChFwC,EAA6B,SAAhBzC,EAAyB,MAAwB,UAAhBA,EAA0B,QAAU,SAExF,OAAO1B,EAAAA,SACH,kBACI,eAAGoD,GAAIA,EAAP,WACI,cAAGgB,UAAS,oBAAef,EAAf,aAAqBC,EAArB,mBAAiC1B,EAAjC,KAAZ,UACI,iBACIwB,GAAE,mBAAcA,GAChBC,GAAIvB,EAAQ,EACZwB,GAAIzB,EAAS,EACbA,OAAQA,EACRC,MAAOA,EACPuC,GAAIxC,EAAS,EACbyC,OAAO,QACPC,KAAK,QACLZ,cAAeA,EACfE,cAAeA,EACfC,YAAaA,EACbU,MAAO,CAAEC,OAAQ,aAGzB,eACIL,UAAS,oBAAef,EAAIU,EAAnB,aAA6BT,EAAIU,EAAjC,KACTG,WAAYA,EACZO,UAAU,mBAHd,WAKI,SAAC3E,EAAD,CACII,KAAMiC,EAAM,GAAG6B,MAAM,MACrBU,SAAU,GACVvE,WAAY,GACZC,KAAK,KACLqE,UAAU,kBAEd,SAAC3E,EAAD,CACII,KAAMiC,EAAM,GAAG6B,MAAM,MACrBU,SAAU,GACVvE,WAAY,GACZC,KAAK,OACLqE,UAAU,yBApCvB,CAyCFtB,EAAIC,EAAGC,GAzCL,eAyCWlB,GAzCX,CAyCkBV,EAAaC,EAAaC,EAAQE,EAAOD,EAAQ8B,EAAeE,EAAeC,MA0IxGc,MAPA,gBAAKC,QAAQ,YAAYhD,OAAQ,GAAIC,MAAO,GAAIgD,WAAW,EAA3D,UACI,iBAAMzB,EAAE,MAAMC,EAAE,IAAIzB,OAAO,KAAKC,MAAM,KAAKuC,GAAG,IAAIC,OAAO,eAAeC,KAAK,WAOjFQ,aAAcvD,EAGdwD,OAAQjD,EACRkD,SAAU,CACNlE,YAAa,+CACbmE,OAAQ,CAACC,EAAAA,GAAAA,UACTC,OAAQ,CAACC,EAAAA,GAAAA,SACTC,WAAY,CAACC,EAAAA,GAAAA,OACbC,KAAM,CAAC,iBCrJTC,GAAmE,kBAClEhE,EAAAA,GADkE,IAErEC,YAAa,QACbC,YAAa,QAGX+D,EAA4B,CAC9B,CACI1D,KAAM,WACNC,MAAO,4CACPC,MAAO,SAACC,GAAD,OACH,OAACA,QAAD,IAACA,EAAAA,EAASsD,GAAsCrD,MAAM,GAAGC,WAAW,KAAM,OAC9EC,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUiD,EAIxB,OAFAtD,EAAMC,MAAM,GAAKG,EAAIE,WAAWJ,WAAW,KAAM,MAE1CF,IAGf,CACIH,KAAM,WACNC,MAAO,4CACPC,MAAO,SAACC,GAAD,OACH,OAACA,QAAD,IAACA,EAAAA,EAASsD,GAAsCrD,MAAM,GAAGC,WAAW,KAAM,OAC9EC,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUiD,EAIxB,OAFAtD,EAAMC,MAAM,GAAKG,EAAIE,WAAWJ,WAAW,KAAM,MAE1CF,IAGf,CACIH,KAAM,SACNC,MAAO,iDACPC,MAAO,SAACC,GAAD,OAA2C,OAACA,QAAD,IAACA,EAAAA,EAASsD,GAAsC/D,aAClGgB,QAAS,CAAEC,KAAM,OAAQrB,OAAQ,SAAUsB,MAAO,SAClDC,gBAAiB,SAACV,GAAD,MAAmE,YAAlB,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOR,aAA2B,CAAC,UAAY,IAC5GW,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUiD,EAIxB,OAFAtD,EAAMT,YAAca,EAEbJ,IAGf,CACIH,KAAM,SACNC,MAAO,iDACPC,MAAO,SAACC,GAAD,OAA2C,OAACA,QAAD,IAACA,EAAAA,EAASsD,GAAsC9D,aAClGe,QAAS,CAAEvB,IAAK,MAAOG,OAAQ,SAAUC,OAAQ,UACjDsB,gBAAiB,SAACV,GAAD,MAAmE,YAAlB,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOT,aAA2B,CAAC,UAAY,IAC5GY,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUiD,EAIxB,OAFAtD,EAAMR,YAAcY,EAEbJ,KA2BnB,EAhBoE,CAChEgB,UAlJwB,SAAClD,GAAkC,IAAD,EAClDmD,EAA2EnD,EAA3EmD,GAAIC,EAAuEpD,EAAvEoD,EAAGC,EAAoErD,EAApEqD,EAAGnB,EAAiElC,EAAjEkC,MAAOoB,EAA0DtD,EAA1DsD,kBAAmBC,EAAuCvD,EAAvCuD,kBAAmBC,EAAoBxD,EAApBwD,gBAC/D,YAIItB,EAAMuB,EAAAA,EAAAA,qBAJV,QAIuC+B,EAJvC,IACIrD,MAAAA,OADJ,MACYX,EAAAA,EAAAA,MADZ,MAEIC,YAAAA,OAFJ,MAEkB+D,EAAqC/D,YAFvD,MAGIC,YAAAA,OAHJ,MAGkB8D,EAAqC9D,YAHvD,EAMMgC,EAAgB3D,EAAAA,aAClB,SAAC4D,GAAD,OAAuCL,EAAkBH,EAAIQ,KAC7D,CAACR,EAAIG,IAEHM,EAAgB7D,EAAAA,aAClB,SAAC4D,GAAD,OAAuCJ,EAAkBJ,EAAIQ,KAC7D,CAACR,EAAII,IAEHM,EAAc9D,EAAAA,aAChB,SAAC4D,GAAD,OAAuCH,EAAgBL,EAAIQ,KAC3D,CAACR,EAAIK,IAGHM,EAAwB,SAAhBrC,GAA0B,GAAqB,UAAhBA,EAA0B,GAAK,EAKtEsC,GAHD5B,EAAMlB,EAAQS,GAAaP,UAAU6C,MAAM,MAAMC,OAAS,GAC3DhD,EAAQS,GAAavB,WACrBc,EAAQS,GAAaN,UACe,QAAhBM,GAAyB,GAAqB,WAAhBA,EAA2B,GAAK,GAChFwC,EAA6B,SAAhBzC,EAAyB,MAAwB,UAAhBA,EAA0B,QAAU,SAExF,OAAO1B,EAAAA,SACH,kBACI,eAAGoD,GAAIA,EAAIgB,UAAS,oBAAef,EAAf,aAAqBC,EAArB,KAApB,WACI,mBACIF,GAAE,mBAAcA,GAChBuC,EAAG,EACHrB,OAAO,QACPC,KAAK,QACLZ,cAAeA,EACfE,cAAeA,EACfC,YAAaA,EACbU,MAAO,CAAEC,OAAQ,WAErB,eAAGL,UAAS,oBAAeL,EAAf,aAAyBC,EAAzB,KAAmCG,WAAYA,EAAYO,UAAU,mBAAjF,WACI,SAAC3E,EAAD,CACII,KAAMiC,EAAM,GAAG6B,MAAM,MACrBU,SAAU,GACVvE,WAAY,GACZC,KAAK,KACLqE,UAAU,kBAEd,SAAC3E,EAAD,CACII,KAAMiC,EAAM,GAAG6B,MAAM,MACrBU,SAAU,GACVvE,WAAY,GACZC,KAAK,OACLqE,UAAU,yBA1BvB,CA+BFtB,EAAIC,EAAGC,GA/BL,eA+BWlB,GA/BX,CA+BkBV,EAAaC,EAAagC,EAAeE,EAAeC,MAuFjFc,MAPA,gBAAKC,QAAQ,YAAYhD,OAAQ,GAAIC,MAAO,GAAIgD,WAAW,EAA3D,UACI,mBAAQc,GAAG,KAAKC,GAAG,KAAKF,EAAE,IAAIrB,OAAO,eAAeC,KAAK,WAO7DQ,aAAcU,EAGdT,OAAQU,EACRT,SAAU,CACNlE,YAAa,iDACbmE,OAAQ,CAACC,EAAAA,GAAAA,UACTC,OAAQ,CAACC,EAAAA,GAAAA,SACTC,WAAY,CAACC,EAAAA,GAAAA,OACbC,KAAM,K,UC5JRM,EASF,CACA,EAAG,CACCC,OAAQ,EACRC,QAAS,GACT7B,WAAY,SACZ/C,SAAU,EACVhB,WAAY,GACZiB,UAAW,GAEf,GAAI,CACA0E,OAAQ,GACRC,QAAS,GACT7B,WAAY,QACZ/C,SAAU,EACVhB,WAAY,GACZiB,UAAW,GAEf,GAAI,CACA0E,OAAQ,GACRC,OAAQ,EACR7B,WAAY,QACZ/C,SAAU,EACVhB,WAAY,EACZiB,SAAU,GAEd,IAAK,CACD0E,OAAQ,GACRC,OAAQ,GACR7B,WAAY,QACZ/C,SAAU,EACVhB,WAAY,GACZiB,SAAU,GAEd,IAAK,CACD0E,OAAQ,EACRC,OAAQ,GACR7B,WAAY,SACZ/C,SAAU,EACVhB,WAAY,GACZiB,SAAU,GAEd,IAAK,CACD0E,QAAS,GACTC,OAAQ,GACR7B,WAAY,MACZ/C,SAAU,EACVhB,WAAY,GACZiB,SAAU,GAEd,IAAK,CACD0E,QAAS,GACTC,OAAQ,EACR7B,WAAY,MACZ/C,SAAU,EACVhB,WAAY,EACZiB,SAAU,GAEd,IAAK,CACD0E,QAAS,GACTC,QAAS,GACT7B,WAAY,MACZ/C,SAAU,EACVhB,WAAY,GACZiB,UAAW,IAkFb4E,GAA2E,kBAC1ExE,EAAAA,GAD0E,IAE7EG,OAAQ,EACRsE,MAAO,CAACf,EAAAA,GAAAA,SAAmB,MAAO,UAAWgB,EAAAA,GAAAA,SAG3CC,EAAgC,CAClC,CACIpE,KAAM,WACNC,MAAO,gDACPC,MAAO,SAACC,GAAD,OACH,OAACA,QAAD,IAACA,EAAAA,EAAS8D,GAA0C7D,MAAM,GAAGC,WAAW,KAAM,OAClFK,QAAS,CAAEC,KAAM,OAAQrB,OAAQ,SAAUsB,MAAO,SAClDN,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUyD,EAIxB,OAFA9D,EAAMC,MAAM,GAAKG,EAAIE,WAAWJ,WAAW,KAAM,MAE1CF,IAGf,CACIH,KAAM,WACNC,MAAO,gDACPC,MAAO,SAACC,GAAD,OACH,OAACA,QAAD,IAACA,EAAAA,EAAS8D,GAA0C7D,MAAM,GAAGC,WAAW,KAAM,OAClFK,QAAS,CAAEC,KAAM,OAAQrB,OAAQ,SAAUsB,MAAO,SAClDN,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUyD,EAIxB,OAFA9D,EAAMC,MAAM,GAAKG,EAAIE,WAAWJ,WAAW,KAAM,MAE1CF,IAGf,CACIH,KAAM,SACNC,MAAO,gDACPC,MAAO,SAACC,GAAD,OACH,OAACA,QAAD,IAACA,EAAAA,EAAS8D,GAA0CrE,QACxDc,QAAS,CAAE,EAAG,IAAK,GAAI,KAAM,GAAI,KAAM,IAAK,MAAO,IAAK,MAAO,IAAK,MAAO,IAAK,MAAO,IAAK,OAC5FJ,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUyD,EAIxB,OAFA9D,EAAMP,OAASmB,OAAOR,GAEfJ,IAGf,CACIH,KAAM,SACNmB,WACI,SAAC,IAAD,CAAYnB,KAAM0B,EAAAA,EAAAA,iBAA8BqB,aAAckB,MA2B1E,EAhB4E,CACxE9C,UAjJ4B,SAAClD,GAAkC,IAAD,EACtDmD,EAA2EnD,EAA3EmD,GAAIC,EAAuEpD,EAAvEoD,EAAGC,EAAoErD,EAApEqD,EAAGnB,EAAiElC,EAAjEkC,MAAOoB,EAA0DtD,EAA1DsD,kBAAmBC,EAAuCvD,EAAvCuD,kBAAmBC,EAAoBxD,EAApBwD,gBAC/D,YAIItB,EAAMuB,EAAAA,EAAAA,yBAJV,QAI2CuC,EAJ3C,IACI7D,MAAAA,OADJ,MACYX,EAAAA,EAAAA,MADZ,MAEIyE,MAAAA,OAFJ,MAEYD,EAAyCC,MAFrD,MAGItE,OAAAA,OAHJ,MAGaqE,EAAyCrE,OAHtD,EAMMoE,EACFF,EAAalE,GAAQoE,QACpB5D,EAAM0D,EAAalE,GAAQR,UAAU6C,MAAM,MAAMC,OAAS,GACvD4B,EAAalE,GAAQxB,WACrB0F,EAAalE,GAAQP,SAEvBsC,EAAgB3D,EAAAA,aAClB,SAAC4D,GAAD,OAAuCL,EAAkBH,EAAIQ,KAC7D,CAACR,EAAIG,IAEHM,EAAgB7D,EAAAA,aAClB,SAAC4D,GAAD,OAAuCJ,EAAkBJ,EAAIQ,KAC7D,CAACR,EAAII,IAEHM,EAAc9D,EAAAA,aAChB,SAAC4D,GAAD,OAAuCH,EAAgBL,EAAIQ,KAC3D,CAACR,EAAIK,IAGT,OAAOzD,EAAAA,SACH,kBACI,eAAGoD,GAAIA,EAAP,WACI,cAAGgB,UAAS,oBAAef,EAAf,aAAqBC,EAArB,mBAAiC1B,EAAjC,KAAZ,UACI,iBACIwB,GAAE,mBAAcA,GAChBC,EAAE,OACFC,EAAE,MACFxB,MAAM,IACND,OAAO,KACPyC,OAAO,OACPC,KAAM2B,EAAM,GACZvC,cAAeA,EACfE,cAAeA,EACfC,YAAaA,EACbU,MAAO,CAAEC,OAAQ,aAGzB,eACIL,UAAS,oBAAef,EAAIyC,EAAalE,GAAQmE,OAAxC,aAAmDzC,EAAI0C,EAAvD,KACT7B,WAAY2B,EAAalE,GAAQuC,WACjCO,UAAU,mBAHd,WAKI,SAAC3E,EAAD,CACII,KAAMiC,EAAM,GAAG6B,MAAM,MACrBU,SAAU,GACVvE,WAAY,GACZC,KAAK,KACLqE,UAAU,kBAEd,SAAC3E,EAAD,CACII,KAAMiC,EAAM,GAAG6B,MAAM,MACrBU,SAAU,GACVvE,WAAY,GACZC,KAAK,OACLqE,UAAU,yBAnCvB,CAwCFtB,EAAIC,EAAGC,GAxCL,eAwCWlB,GAxCX,CAwCkBR,EAAQsE,EAAOvC,EAAeE,EAAeC,MA+EtEc,MAPA,gBAAKC,QAAQ,YAAYhD,OAAQ,GAAIC,MAAO,GAAIgD,WAAW,EAA3D,UACI,iBAAMzB,EAAE,IAAIC,EAAE,IAAIxB,MAAM,KAAKD,OAAO,IAAIyC,OAAO,eAAeC,KAAK,mBAOvEQ,aAAckB,EAGdjB,OAAQoB,EACRnB,SAAU,CACNlE,YAAa,qDACbmE,OAAQ,CAACC,EAAAA,GAAAA,UACTC,OAAQ,CAACC,EAAAA,GAAAA,SACTC,WAAY,CAACC,EAAAA,GAAAA,OACbC,KAAM,K,UCxORa,EAAO,kFACPC,EAAiB,KAMVC,EAAgB,SAACtG,GAC1B,IAAQuG,EAAuCvG,EAAvCuG,YAAaC,EAA0BxG,EAA1BwG,SAAUC,EAAgBzG,EAAhByG,YAEzBC,EAAa3G,EAAAA,OAAoC,MACjD4G,EAAY5G,EAAAA,OAAoC,MAEtD,EAAwCA,EAAAA,SAAe,CAAE8B,MAAO,IAAhE,eAAO+E,EAAP,KAAqBC,EAArB,KACA,EAAsC9G,EAAAA,SAAe,CAAE8B,MAAO,IAA9D,eAAOiF,EAAP,KAAoBC,EAApB,KAEAhH,EAAAA,WAAgB,WACZ8G,EAAgBH,EAAWM,QAASC,WACpCF,EAAeJ,EAAUK,QAASC,aACnC,CAACT,EAAUC,IAEd,IAAMS,EAAgBb,EAAiBrD,KAAKmE,IAAId,EAAgBO,EAAa/E,OACvEuF,EACkB,IAApBZ,EAASvC,QAAuC,IAAvBwC,EAAYxC,OAC/BiD,EACAb,EAAiBrD,KAAKmE,IAAId,EAAgBS,EAAYjF,OAEhE,OACI,0BACI,iBAAMwF,EAAGjB,EAAMkB,YAAY,IAAIjD,OAAQkC,EAAajC,KAAK,QAAQH,UAAU,iBAC3E,eAAGD,WAAW,SAAS7D,iBAAiB,SAASqE,SAAS,IAA1D,WACI,cAAGP,UAAS,+BAA0B+C,EAA1B,KAAZ,UACI,iBAAMjH,IAAKyG,EAAYjC,UAAU,eAAjC,SACK+B,OAGT,cAAGrC,UAAS,8BAAyBiD,EAAzB,KAAZ,UACI,iBAAMnH,IAAK0G,EAAWlC,UAAU,eAAhC,SACKgC,aAqGnBc,GAA+D,kBAC9D/F,EAAAA,GAD8D,IAEjEC,YAAa,QACbC,YAAa,MACbuE,MAAO,CAACf,EAAAA,GAAAA,UAAoB,MAAO,UAAWgB,EAAAA,GAAAA,OAC9CM,SAAU,IACVC,YAAa,OAGXe,EAA0B,CAC5B,CACIzF,KAAM,WACNC,MAAO,0CACPC,MAAO,SAACC,GAAD,OACH,OAACA,QAAD,IAACA,EAAAA,EAASqF,GAAoCpF,MAAM,GAAGC,WAAW,KAAM,OAC5EC,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUgF,EAIxB,OAFArF,EAAMC,MAAM,GAAKG,EAAIE,WAAWJ,WAAW,KAAM,MAE1CF,IAGf,CACIH,KAAM,WACNC,MAAO,0CACPC,MAAO,SAACC,GAAD,OACH,OAACA,QAAD,IAACA,EAAAA,EAASqF,GAAoCpF,MAAM,GAAGC,WAAW,KAAM,OAC5EC,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUgF,EAIxB,OAFArF,EAAMC,MAAM,GAAKG,EAAIE,WAAWJ,WAAW,KAAM,MAE1CF,IAGf,CACIH,KAAM,SACNC,MAAO,+CACPC,MAAO,SAACC,GAAD,OAAyC,OAACA,QAAD,IAACA,EAAAA,EAASqF,GAAoC9F,aAC9FgB,QAAS,CAAEC,KAAM,OAAQrB,OAAQ,SAAUsB,MAAO,SAClDN,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUgF,EAIxB,OAFArF,EAAMT,YAAca,EAEbJ,IAGf,CACIH,KAAM,SACNC,MAAO,+CACPC,MAAO,SAACC,GAAD,OAAyC,OAACA,QAAD,IAACA,EAAAA,EAASqF,GAAoC7F,aAC9Fe,QAAS,CAAEvB,IAAK,MAAOG,OAAQ,SAAUC,OAAQ,UACjDe,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUgF,EAIxB,OAFArF,EAAMR,YAAcY,EAEbJ,IAGf,CACIH,KAAM,SACNmB,WAAW,SAAC,IAAD,CAAYnB,KAAM0B,EAAAA,EAAAA,WAAwBqB,aAAcyC,KAEvE,CACIxF,KAAM,QACNC,MAAO,4CACPC,MAAO,SAACC,GAAD,OAAyC,OAACA,QAAD,IAACA,EAAAA,EAASqF,GAAoCf,UAC9FnE,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUgF,EAIxB,OAFArF,EAAMsE,SAAWlE,EAAIE,WAEdN,IAGf,CACIH,KAAM,QACNC,MAAO,+CACPC,MAAO,SAACC,GAAD,OAAyC,OAACA,QAAD,IAACA,EAAAA,EAASqF,GAAoCd,aAC9FpE,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUgF,EAIxB,OAFArF,EAAMuE,YAAcnE,EAAIE,WAEjBN,KA6BnB,EAhBgE,CAC5DgB,UAxMsB,SAAClD,GAAkC,IAAD,EAChDmD,EAA2EnD,EAA3EmD,GAAIC,EAAuEpD,EAAvEoD,EAAGC,EAAoErD,EAApEqD,EAAGnB,EAAiElC,EAAjEkC,MAAOoB,EAA0DtD,EAA1DsD,kBAAmBC,EAAuCvD,EAAvCuD,kBAAmBC,EAAoBxD,EAApBwD,gBAC/D,YAOItB,EAAMuB,EAAAA,EAAAA,mBAPV,QAOqC8D,EAPrC,IACIpF,MAAAA,OADJ,MACYX,EAAAA,EAAAA,MADZ,MAEIC,YAAAA,OAFJ,MAEkB8F,EAAmC9F,YAFrD,MAGIC,YAAAA,OAHJ,MAGkB6F,EAAmC7F,YAHrD,MAIIuE,MAAAA,OAJJ,MAIYsB,EAAmCtB,MAJ/C,MAKIO,SAAAA,OALJ,MAKee,EAAmCf,SALlD,MAMIC,YAAAA,OANJ,MAMkBc,EAAmCd,YANrD,EASM/C,EAAgB3D,EAAAA,aAClB,SAAC4D,GAAD,OAAuCL,EAAkBH,EAAIQ,KAC7D,CAACR,EAAIG,IAEHM,EAAgB7D,EAAAA,aAClB,SAAC4D,GAAD,OAAuCJ,EAAkBJ,EAAIQ,KAC7D,CAACR,EAAII,IAEHM,EAAc9D,EAAAA,aAChB,SAAC4D,GAAD,OAAuCH,EAAgBL,EAAIQ,KAC3D,CAACR,EAAIK,IAGHM,EAAwB,SAAhBrC,GAA0B,GAAqB,UAAhBA,EAA0B,GAAK,EAKtEsC,GAHD5B,EAAMlB,EAAQS,GAAaP,UAAU6C,MAAM,MAAMC,OAAS,GAC3DhD,EAAQS,GAAavB,WACrBc,EAAQS,GAAaN,UACe,QAAhBM,GAAyB,GAAqB,WAAhBA,EAA2B,GAAK,GAChFwC,EAA6B,SAAhBzC,EAAyB,MAAwB,UAAhBA,EAA0B,QAAU,SAExF,OAAO1B,EAAAA,SACH,kBACI,eAAGoD,GAAIA,EAAIgB,UAAS,oBAAef,EAAf,aAAqBC,EAArB,KAApB,WACI,SAACiD,EAAD,CAAeC,YAAaN,EAAM,GAAIO,SAAUA,EAAUC,YAAaA,KACvE,eAAGtC,UAAS,oBAAeL,EAAf,aAAyBC,EAAzB,KAAmCG,WAAYA,EAAYO,UAAU,mBAAjF,WACI,SAAC3E,EAAD,CACII,KAAMiC,EAAM,GAAG6B,MAAM,MACrBU,SAAU,GACVvE,WAAY,GACZC,KAAK,KACLqE,UAAU,kBAEd,SAAC3E,EAAD,CACII,KAAMiC,EAAM,GAAG6B,MAAM,MACrBU,SAAU,GACVvE,WAAY,GACZC,KAAK,OACLqE,UAAU,qBAIlB,iBACItB,GAAE,mBAAcA,GAChBkE,EAAGjB,EACH9B,KAAK,QACLmD,YAAY,IACZ/D,cAAeA,EACfE,cAAeA,EACfC,YAAaA,EACbU,MAAO,CAAEC,OAAQ,QACjBL,UAAU,qBA9BnB,CAmCChB,EACAC,EACAC,GArCD,eAsCIlB,GAtCJ,CAuCCV,EACAC,EACAuE,EACAO,EACAC,EACA/C,EACAE,EACAC,MA2HRc,MATA,gBAAKC,QAAQ,YAAYhD,OAAQ,GAAIC,MAAO,GAAIgD,WAAW,EAA3D,UACI,cAAGV,UAAU,6BAAb,UACI,SAACmC,EAAD,CAAeC,YAAY,OAAOC,SAAS,IAAIC,YAAY,WAQnE3B,aAAcyC,EAGdxC,OAAQyC,EACRxC,SAAU,CACNlE,YAAa,+CACbmE,OAAQ,CAACC,EAAAA,GAAAA,WACTC,OAAQ,CAACC,EAAAA,GAAAA,SACTC,WAAY,CAACC,EAAAA,GAAAA,OACbC,KAAM,K,sJC9PC,SAASmC,EAAgB1H,GAA8B,IAAD,EACzD2H,EAA+C3H,EAA/C2H,gBAAiBC,EAA8B5H,EAA9B4H,MAAOC,EAAuB7H,EAAvB6H,SAAUC,EAAa9H,EAAb8H,SAElCrH,GAAMsH,EAAAA,EAAAA,MAANtH,EAER,GAAsCuH,EAAAA,EAAAA,WAAS,GAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAA0CF,EAAAA,EAAAA,UAAS,GAAnD,eAAOG,EAAP,KAAsBC,EAAtB,KAEMC,EAAwCV,EAAgBnH,KAAI,SAAC8H,EAAI5H,GAAL,MAAW,CACzE,CACIqB,KAAM,QACNC,MAAOvB,EAAE,2CACTwB,MAAOqG,EAAG,GACVC,KAAM,OACNlG,SAAU,SAAAC,GAAG,cAAIwF,QAAJ,IAAIA,OAAJ,EAAIA,EAAWpH,EAAG,CAAC4H,EAAG,GAAIA,EAAG,GAAIA,EAAG,GAAIA,EAAG,GAAIhG,EAAKgG,EAAG,OAExE,CACIvG,KAAM,QACNC,MAAOvB,EAAE,8CACTwB,MAAOqG,EAAG,GACVC,KAAM,OACNlG,SAAU,SAAAC,GAAG,cAAIwF,QAAJ,IAAIA,OAAJ,EAAIA,EAAWpH,EAAG,CAAC4H,EAAG,GAAIA,EAAG,GAAIA,EAAG,GAAIA,EAAG,GAAIA,EAAG,GAAIhG,UAI3E,OACI,UAAC,KAAD,CAASkG,UAAU,SAAnB,UACgC,IAA3Bb,EAAgB1D,SACb,UAAC,IAAD,CAAQwE,QAAS,GAAK,uCAAtB,WACI,SAAC,IAAD,CAAMC,GAAG,IAAIC,KAAM,EAAGC,MAAM,SAASlE,SAAS,KAAKmE,YAAY,OAA/D,SACKpI,EAAE,uDAGP,SAAC,IAAD,CACIqI,KAAK,KACLC,QAAQ,QACR,aAAYtI,EAAE,yCACduI,QAAS,yBAAMpB,QAAN,IAAMA,OAAN,EAAMA,EAAQ,CAAC1C,EAAAA,GAAAA,SAAmB,GAAI,UAAWgB,EAAAA,GAAAA,MAAkB,GAAI,MAChFvB,MAAM,SAAC,MAAD,SAKjBgD,EAAgBnH,KAAI,SAAC8H,EAAI5H,GAAL,OACjB,UAAC,IAAD,CAAgB+H,QAAS,GAAK,+CAAuC/H,GAArE,WACI,SAAC,KAAD,CAAUsB,MAAOvB,EAAE,SAAU8H,KAAK,OAAOU,QAAe,IAANvI,EAAlD,UACI,SAAC,IAAD,CACIwI,MAAO,CAACZ,EAAG,GAAIA,EAAG,GAAIA,EAAG,GAAIA,EAAG,IAChCU,QAAS,WACLd,GAAe,GACfE,EAAiB1H,SAK7B,SAAC,KAAD,CAAWqE,OAAQsD,EAAkB3H,GAAIuI,QAAe,IAANvI,IAEjDkH,GAASlH,IAAM2H,EAAkBpE,OAAS,GAAKoE,EAAkBpE,OAAS,GACvE,SAAC,IAAD,CACI6E,KAAK,KACLC,QAAQ,QACR,aAAYtI,EAAE,0CACduI,QAAS,yBAAMpB,QAAN,IAAMA,OAAN,EAAMA,EAAQD,EAAgBwB,OAAO,GAAG,KACjDxE,MAAM,SAAC,MAAD,OAGV,SAAC,KAAD,CAAK4D,KAAM,IAGdV,IACG,SAAC,IAAD,CACIiB,KAAK,KACLC,QAAQ,QACR,aAAYtI,EAAE,4CACduI,QAAS,yBAAMnB,QAAN,IAAMA,OAAN,EAAMA,EAAWnH,IAC1BiE,MAAM,SAAC,MAAD,QA/BLjE,OAqCjB,SAAC,IAAD,CACI0I,OAAQnB,EACRoB,QAAS,kBAAMnB,GAAe,IAC9BoB,aAAY,UAAE3B,EAAgBQ,UAAlB,aAAE,EAAgCgB,MAAM,EAAG,GACvDrB,SAAU,SAAAoB,GAAK,cACXpB,QADW,IACXA,OADW,EACXA,EAAWK,EAAH,kBACDe,GADC,CAEJvB,EAAgBQ,GAAe,GAC/BR,EAAgBQ,GAAe,YC3EhD,I,EAAMoB,EAAmB,SAACvJ,GAG1B,IAAD,EACMwJ,EAA8BxJ,EAA9BwJ,YAAa1E,EAAiB9E,EAAjB8E,aAEbrE,GAAMsH,EAAAA,EAAAA,MAANtH,EACFgJ,GAAWC,EAAAA,EAAAA,MAEXC,EAAc5J,EAAAA,aAAkB,WAClC0J,GAASG,EAAAA,EAAAA,OACTH,GAASI,EAAAA,EAAAA,IAAUC,EAAM9C,QAAQ+C,aAClC,CAACN,EAAUG,EAAAA,GAAYC,EAAAA,KAClBG,GAAaC,EAAAA,EAAAA,KAAgB,SAAAC,GAAK,OAAIA,EAAMC,WAA5CH,SACFI,EAAgBJ,EAASK,GAAG,GAC5BP,EAAQ/J,EAAAA,OAAauK,OAAOR,OAE5BS,EACFH,GACAN,EAAM9C,QAAQwD,QAAQJ,IACtBN,EAAM9C,QAAQyD,iBAAiBL,EAAe,UAAYZ,EACnDM,EAAM9C,QAAQyD,iBAAiBL,EAAeZ,GAC/C1E,EACJ4F,EAAQ,UAAGH,EAAKG,gBAAR,QAAoB5F,EAAa4F,SAEzCC,EAAY,SAACC,GAAD,OAAsB,SAACC,GACrC,IAAMC,EAAuClK,KAAKmK,MAAMnK,KAAKC,UAAU6J,IACvE,GAAII,EAAgB7G,QAAU2G,EAC1B,IAAK,IAAIlK,EAAIoK,EAAgB7G,OAAQvD,GAAKkK,EAAUlK,IAChDoK,EAAgBpK,GAAK,GAG7BoK,EAAgBF,GAAUI,KAAKH,GAE/BN,EAAKG,SAAWI,EAChBhB,EAAM9C,QAAQiE,oBAAoBjB,GAAlC,UAA+CR,EAAce,IAC7DZ,MAeEuB,EAAe,SAACN,GAAD,OAAsB,SAACO,EAA0BN,GAClE,GAAIH,EAASzG,OAAS2G,GAAYF,EAASE,GAAU3G,OAASkH,EAAkB,CAC5E,IAAML,EAAkBJ,EAASlK,KAAI,SAAC4K,EAAKC,GAAN,OACjCA,IAAWT,EACLQ,EAAI5K,KAAI,SAAC8K,EAAKC,GAAN,OACJA,IAAWJ,EACJ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAG3K,KAAI,SAAAE,GAAC,YACE8K,IAAvBX,EAAgBnK,GAAmB4K,EAAI5K,GAAKmK,EAAgBnK,MAEhE4K,KAEVF,KAGVb,EAAKG,SAAWI,EAChBhB,EAAM9C,QAAQiE,oBAAoBjB,GAAlC,UAA+CR,EAAce,IAC7DZ,OAOR,OACI,UAAC,IAAD,CAAQf,MAAM,aAAd,UACK2B,EAAKG,SAASlK,KAAI,SAACiL,EAAU/K,GAAX,OACf,UAAC,EAAAgL,SAAD,YACI,SAAC,IAAD,CAAW5C,KAAK,KAAhB,SAEUrI,EADC,IAANC,EACO,2CACI,IAANA,EACE,+CACA,kDAGZ,SAACgH,EAAD,CACIC,gBAAiB8D,EACjB7D,MAAO+C,EAAUjK,GACjBmH,UAlDE+C,EAkDqBlK,EAlDA,SAACyK,GACxC,GAAIT,EAASzG,OAAS2G,GAAYF,EAASE,GAAU3G,OAASkH,EAAkB,CAC5E,IAAML,EAAkBJ,EAASlK,KAAI,SAAC4K,EAAKC,GAAN,OACjCA,IAAWT,EAAWQ,EAAIO,QAAO,SAACC,EAAGL,GAAJ,OAAeA,IAAWJ,KAAoBC,KAGnFb,EAAKG,SAAWI,EAChBhB,EAAM9C,QAAQiE,oBAAoBjB,GAAlC,UAA+CR,EAAce,IAC7DZ,OA2CY7B,SAAUoD,EAAaxK,OAbhBA,GAtCN,IAACkK,KAwDbL,EAAKG,SAASzG,OAAS,IACpB,SAAC,IAAD,CACI6E,KAAK,KACLC,QAAQ,QACR8C,UAAU,WACVC,UAAU,SAAC,MAAD,IACV9C,QA9BkB,kBAC9B2B,EAAUJ,EAAKG,SAASzG,OAAxB0G,CAAgC,CAACzF,EAAAA,GAAAA,UAAoB,GAAI,UAAWgB,EAAAA,GAAAA,MAAkB,GAAI,MAwBlF,SAOKzF,EAAE,oDCvHjBsL,GAAW,CACb,CAAC,CAAC,EAAG,IACL,CAAC,CAAC,EAAG,IACL,CACI,EAAE,GAAI,GACN,CAAC,GAAI,IAET,CACI,EAAE,QAAS,GACX,CAAC,QAAS,GACV,CAAC,EAAG,MA0LNC,IAA2D,kBAC1DxK,EAAAA,GAD0D,IAE7DC,YAAa,QACbC,YAAa,MACbgJ,SAAU,CAAC,GAAI,MAGbuB,GAAwB,CAC1B,CACIlK,KAAM,WACNC,MAAO,wCACPC,MAAO,SAACC,GAAD,OACH,OAACA,QAAD,IAACA,EAAAA,EAAS8J,IAAkC7J,MAAM,GAAGC,WAAW,KAAM,OAC1EC,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUyJ,GAIxB,OAFA9J,EAAMC,MAAM,GAAKG,EAAIE,WAAWJ,WAAW,KAAM,MAE1CF,IAGf,CACIH,KAAM,WACNC,MAAO,wCACPC,MAAO,SAACC,GAAD,OACH,OAACA,QAAD,IAACA,EAAAA,EAAS8J,IAAkC7J,MAAM,GAAGC,WAAW,KAAM,OAC1EC,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUyJ,GAIxB,OAFA9J,EAAMC,MAAM,GAAKG,EAAIE,WAAWJ,WAAW,KAAM,MAE1CF,IAGf,CACIH,KAAM,SACNC,MAAO,6CACPC,MAAO,SAACC,GAAD,OAAuC,OAACA,QAAD,IAACA,EAAAA,EAAS8J,IAAkCvK,aAC1FgB,QAAS,CAAEC,KAAM,OAAQC,MAAO,SAChCN,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUyJ,GAIxB,OAFA9J,EAAMT,YAAca,EAEbJ,IAGf,CACIH,KAAM,SACNC,MAAO,6CACPC,MAAO,SAACC,GAAD,OAAuC,OAACA,QAAD,IAACA,EAAAA,EAAS8J,IAAkCtK,aAC1Fe,QAAS,CAAEvB,IAAK,MAAOI,OAAQ,UAC/Be,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUyJ,GAIxB,OAFA9J,EAAMR,YAAcY,EAEbJ,IAGf,CACIH,KAAM,SACNmB,WACI,SAACqG,EAAD,CAAkBC,YAAa/F,EAAAA,EAAAA,SAAsBqB,aAAckH,OAqC/E,GAhB4D,CACxD9I,UA/QoB,SAAClD,GAAkC,IAAD,8BAC9CmD,EAA2EnD,EAA3EmD,GAAIC,EAAuEpD,EAAvEoD,EAAGC,EAAoErD,EAApEqD,EAAGnB,EAAiElC,EAAjEkC,MAAOoB,EAA0DtD,EAA1DsD,kBAAmBC,EAAuCvD,EAAvCuD,kBAAmBC,EAAoBxD,EAApBwD,gBAC/D,YAKItB,EAAMuB,EAAAA,EAAAA,iBALV,QAKmCuI,GALnC,IACI7J,MAAAA,OADJ,MACYX,EAAAA,EAAAA,MADZ,MAEIC,YAAAA,OAFJ,MAEkBuK,GAAiCvK,YAFnD,MAGIC,YAAAA,OAHJ,MAGkBsK,GAAiCtK,YAHnD,MAIIgJ,SAAAA,OAJJ,MAIesB,GAAiCtB,SAJhD,EAOMhH,EAAgB3D,EAAAA,aAClB,SAAC4D,GAAD,OAAuCL,EAAkBH,EAAIQ,KAC7D,CAACR,EAAIG,IAEHM,EAAgB7D,EAAAA,aAClB,SAAC4D,GAAD,OAAuCJ,EAAkBJ,EAAIQ,KAC7D,CAACR,EAAII,IAEHM,EAAc9D,EAAAA,aAChB,SAAC4D,GAAD,OAAuCH,EAAgBL,EAAIQ,KAC3D,CAACR,EAAIK,IAGHM,EAAwB,SAAhBrC,GAA0B,GAAqB,UAAhBA,EAA0B,GAAK,EAKtEsC,GAHD5B,EAAMlB,EAAQS,GAAaP,UAAU6C,MAAM,MAAMC,OAAS,GAC3DhD,EAAQS,GAAavB,WACrBc,EAAQS,GAAaN,UACe,QAAhBM,GAAyB,GAAqB,WAAhBA,EAA2B,GAAK,GAChFwC,EAA6B,SAAhBzC,EAAyB,MAAwB,UAAhBA,EAA0B,QAAU,SAElFyK,EAAcxB,EAASyB,OAAOhD,MAAM,EAAG,GACvCiD,EAAa,CACf,CAAC,QAAS,SACV,qBAACF,EAAY7B,GAAG,UAAhB,aAAC,EAAmBA,GAAG,UAAvB,QAA6B,QAA7B,oBAAsC6B,EAAY7B,GAAG,UAArD,aAAsC,EAAmBA,GAAG,UAA5D,QAAkE,SAClE,qBAAC6B,EAAY7B,GAAG,UAAhB,aAAC,EAAmBA,GAAG,UAAvB,QAA6B,QAA7B,oBAAsC6B,EAAY7B,GAAG,UAArD,aAAsC,EAAmBA,GAAG,UAA5D,QAAkE,SAClE,qBAAC6B,EAAY7B,GAAG,UAAhB,aAAC,EAAmBA,GAAG,UAAvB,QAA6B,QAA7B,oBAAsC6B,EAAY7B,GAAG,UAArD,aAAsC,EAAmBA,GAAG,UAA5D,QAAkE,QAAlE,oBAA2E6B,EAAY7B,GAAG,UAA1F,aAA2E,EAAmBA,GAAG,UAAjG,QAAuG,UAG3G,OAAOtK,EAAAA,SACH,wBACI,eAAGoD,GAAIA,EAAIgB,UAAS,oBAAef,EAAf,aAAqBC,EAArB,KAApB,WACI,mBAAQqC,EAA0B,IAAvBwG,EAAYjI,OAAe,OAAS,GAAIK,KAAK,UACvD4H,EACI1L,KAAI,SAAA6L,GAAI,OAAIA,EAAK,MACjBV,QAAO,SAAC1F,EAAOvF,EAAG4L,GAAX,OAAmBA,EAAIC,QAAQtG,KAAWvF,KACjDF,KAAI,SAAAyF,GAAK,OACN,mBAEI9C,GAAE,0BAAqB8C,GACvBuG,YAAY,IACZC,aAAa,IACbC,KAAK,IACLC,KAAK,OACLC,OAAO,OAPX,UASI,oBAASC,OAAO,gBAAgBvI,KAAM2B,KAT1C,0BAC4BA,OAWnCiG,EAAYjI,QAAU,IACnB,0BAEI,iBAAMoD,EAAE,gEAAgE/C,KAAK,WAC7E,iBACI+C,EAAE,iCACF/C,KAAK,OACLD,OAAQ+H,EAAWF,EAAYjI,QAAQ,GACvCqD,YAAY,IACZwF,UAAS,+BAA0BV,EAAWF,EAAYjI,QAAQ,GAAzD,QAEb,iBACIoD,EAAE,+BACF/C,KAAK,OACLD,OAAQ+H,EAAWF,EAAYjI,QAAQ,GACvCqD,YAAY,IACZwF,UAAS,+BAA0BV,EAAWF,EAAYjI,QAAQ,GAAzD,UAIpBiI,EAAYjI,QAAU,IACnB,0BACI,iBACIoD,EAAE,qDACF/C,KAAK,OACLD,OAAQ+H,EAAWF,EAAYjI,QAAQ,GACvCqD,YAAY,IACZwF,UAAS,+BAA0BV,EAAWF,EAAYjI,QAAQ,GAAzD,QAEb,iBACIoD,EAAE,oDACF/C,KAAK,OACLD,OAAQ+H,EAAWF,EAAYjI,QAAQ,GACvCqD,YAAY,IACZwF,UAAS,+BAA0BV,EAAWF,EAAYjI,QAAQ,GAAzD,QAEb,iBACIoD,EAAE,2DACF/C,KAAK,OACLD,OAAQ+H,EAAWF,EAAYjI,QAAQ,GACvCqD,YAAY,IACZwF,UAAS,+BAA0BV,EAAWF,EAAYjI,QAAQ,GAAzD,QAGb,iBACIoD,EAAE,qDACF/C,KAAK,OACLyI,cAAc,IACd1I,OAAO,QACPiD,YAAY,IACZwF,UAAS,+BAA0BV,EAAWF,EAAYjI,QAAQ,GAAzD,QAEb,iBACIoD,EAAE,oDACF/C,KAAK,OACLyI,cAAc,IACd1I,OAAO,QACPiD,YAAY,IACZwF,UAAS,+BAA0BV,EAAWF,EAAYjI,QAAQ,GAAzD,UA5EzB,UAiFKyG,EAAS,UAjFd,aAiFK,EAAalK,KAAI,SAAC6L,EAAM3L,EAAG4L,GAAV,OACd,cAEInI,UAAS,oBAAe4H,GAASO,EAAIrI,QAAQvD,GAAG,GAAvC,YAA6CqL,GAASO,EAAIrI,QAAQvD,GAAG,GAArE,KAFb,UAII,SAAC4F,EAAD,CAAeC,YAAa8F,EAAK,GAAI7F,SAAU6F,EAAK,GAAI5F,YAAa4F,EAAK,MAJ9E,oBACsBlJ,EADtB,gBACgCzC,QAQpC,mBACIyC,GAAE,mBAAcA,GAChBuC,EAA0B,IAAvBwG,EAAYjI,OAAe,OAAS,GACvCK,KAAK,QACLmD,YAAY,IACZ/D,cAAeA,EACfE,cAAeA,EACfC,YAAaA,EACbU,MAAO,CAAEC,OAAQ,WAErB,eAAGL,UAAS,oBAAeL,EAAf,aAAyBC,EAAzB,KAAmCG,WAAYA,EAAYO,UAAU,mBAAjF,WACI,SAAC3E,EAAD,CACII,KAAMiC,EAAM,GAAG6B,MAAM,MACrBU,SAAU,GACVvE,WAAY,GACZC,KAAK,KACLqE,UAAU,kBAEd,SAAC3E,EAAD,CACII,KAAMiC,EAAM,GAAG6B,MAAM,MACrBU,SAAU,GACVvE,WAAY,GACZC,KAAK,OACLqE,UAAU,yBAK1B,CACItB,EACAC,EACAC,EACAzC,KAAKC,UAAUsB,GACfV,EACAC,EACAd,KAAKC,UAAUqL,GACfxI,EACAE,EACAC,KAuGRc,MAjBA,iBAAKC,QAAQ,YAAYhD,OAAQ,GAAIC,MAAO,GAAIgD,WAAW,EAA3D,WACI,cAAGV,UAAU,4BAAb,UACI,SAACmC,EAAD,CAAeC,YAAY,OAAOC,SAAS,IAAIC,YAAY,UAE/D,cAAGtC,UAAU,6BAAb,UACI,SAACmC,EAAD,CAAeC,YAAY,OAAOC,SAAS,IAAIC,YAAY,UAE/D,mBAAQtD,GAAG,QAAQqJ,YAAY,IAAIC,aAAa,IAAIC,KAAK,IAAIC,KAAK,OAAOC,OAAO,OAAhF,UACI,oBAASC,OAAO,qBAEpB,iBAAMxF,EAAE,yBAAyB/C,KAAK,OAAOD,OAAO,eAAeiD,YAAY,IAAIwF,UAAU,iBAC7F,iBAAMzF,EAAE,2BAA2B/C,KAAK,OAAOD,OAAO,eAAeiD,YAAY,IAAIwF,UAAU,mBAOnGhI,aAAckH,GAGdjH,OAAQkH,GACRjH,SAAU,CACNlE,YAAa,6CACbmE,OAAQ,CAACC,EAAAA,GAAAA,WACTC,OAAQ,CAACC,EAAAA,GAAAA,SACTC,WAAY,CAACC,EAAAA,GAAAA,OACbC,KAAM,KClNRyH,IAAqE,kBACpExL,EAAAA,GADoE,IAEvEC,YAAa,QACbC,YAAa,MACbuL,MAAM,IAGJC,GAA6B,CAC/B,CACInL,KAAM,WACNC,MAAO,6CACPC,MAAO,SAACC,GAAD,OACH,OAACA,QAAD,IAACA,EAAAA,EAAS8K,IAAuC7K,MAAM,GAAGC,WAAW,KAAM,OAC/EC,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUyK,GAIxB,OAFA9K,EAAMC,MAAM,GAAKG,EAAIE,WAAWJ,WAAW,KAAM,MAE1CF,IAGf,CACIH,KAAM,WACNC,MAAO,6CACPC,MAAO,SAACC,GAAD,OACH,OAACA,QAAD,IAACA,EAAAA,EAAS8K,IAAuC7K,MAAM,GAAGC,WAAW,KAAM,OAC/EC,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUyK,GAIxB,OAFA9K,EAAMC,MAAM,GAAKG,EAAIE,WAAWJ,WAAW,KAAM,MAE1CF,IAGf,CACIH,KAAM,SACNC,MAAO,kDACPC,MAAO,SAACC,GAAD,OAA4C,OAACA,QAAD,IAACA,EAAAA,EAAS8K,IAAuCvL,aACpGgB,QAAS,CAAEC,KAAM,OAAQrB,OAAQ,SAAUsB,MAAO,SAClDC,gBAAiB,SAACV,GAAD,MACU,YAAlB,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOR,aAA2B,CAAC,UAAY,IACnDW,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUyK,GAIxB,OAFA9K,EAAMT,YAAca,EAEbJ,IAGf,CACIH,KAAM,SACNC,MAAO,kDACPC,MAAO,SAACC,GAAD,OAA4C,OAACA,QAAD,IAACA,EAAAA,EAAS8K,IAAuCtL,aACpGe,QAAS,CAAEvB,IAAK,MAAOG,OAAQ,SAAUC,OAAQ,UACjDsB,gBAAiB,SAACV,GAAD,MACU,YAAlB,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOT,aAA2B,CAAC,UAAY,IACnDY,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUyK,GAIxB,OAFA9K,EAAMR,YAAcY,EAEbJ,IAGf,CACIH,KAAM,SACNC,MAAO,2CACPmL,SAAS,EACTC,UAAW,SAAClL,GAAD,OAA4C,OAACA,QAAD,IAACA,EAAAA,EAAS8K,IAAuCC,MACxG5K,SAAU,SAACC,EAAcC,GAErB,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUyK,GAIxB,OAFA9K,EAAM+K,KAAO3K,EAENJ,KA2BnB,GAhBsE,CAClEgB,UAnLyB,SAAClD,GAAkC,IAAD,EACnDmD,EAA2EnD,EAA3EmD,GAAIC,EAAuEpD,EAAvEoD,EAAGC,EAAoErD,EAApEqD,EAAGnB,EAAiElC,EAAjEkC,MAAOoB,EAA0DtD,EAA1DsD,kBAAmBC,EAAuCvD,EAAvCuD,kBAAmBC,EAAoBxD,EAApBwD,gBAC/D,YAKItB,EAAMuB,EAAAA,EAAAA,sBALV,QAKwCuJ,GALxC,IACI7K,MAAAA,OADJ,MACYX,EAAAA,EAAAA,MADZ,MAEIC,YAAAA,OAFJ,MAEkBuL,GAAsCvL,YAFxD,MAGIC,YAAAA,OAHJ,MAGkBsL,GAAsCtL,YAHxD,MAIIuL,KAAAA,OAJJ,MAIWD,GAAsCC,KAJjD,EAOMvJ,EAAgB3D,EAAAA,aAClB,SAAC4D,GAAD,OAAuCL,EAAkBH,EAAIQ,KAC7D,CAACR,EAAIG,IAEHM,EAAgB7D,EAAAA,aAClB,SAAC4D,GAAD,OAAuCJ,EAAkBJ,EAAIQ,KAC7D,CAACR,EAAII,IAEHM,EAAc9D,EAAAA,aAChB,SAAC4D,GAAD,OAAuCH,EAAgBL,EAAIQ,KAC3D,CAACR,EAAIK,IAGHM,EAAwB,SAAhBrC,GAA0B,GAAqB,UAAhBA,EAA0B,GAAK,EAKtEsC,GAHD5B,EAAMlB,EAAQS,GAAaP,UAAU6C,MAAM,MAAMC,OAAS,GAAqB,QAAhBvC,GAA0BuL,EAAW,EAAJ,IACjGhM,EAAQS,GAAavB,WACrBc,EAAQS,GAAaN,UACe,QAAhBM,GAAyB,GAAqB,WAAhBA,EAA2B,GAAK,GAChFwC,EAA6B,SAAhBzC,EAAyB,MAAwB,UAAhBA,EAA0B,QAAU,SAExF,OAAO1B,EAAAA,SACH,kBACI,eAAGoD,GAAIA,EAAIgB,UAAS,oBAAef,EAAf,aAAqBC,EAArB,KAApB,WACI,mBACIF,GAAE,mBAAcA,GAChBuC,EAAG,EACHrB,OAAO,QACPgJ,gBAAiBJ,OAAOzB,EAAY,MACpClH,KAAK,QACLZ,cAAeA,EACfE,cAAeA,EACfC,YAAaA,EACbU,MAAO,CAAEC,OAAQ,WAErB,eAAGL,UAAS,oBAAeL,EAAf,aAAyBC,EAAzB,KAAmCG,WAAYA,EAAYO,UAAU,mBAAjF,WACI,SAAC3E,EAAD,CACII,KAAMiC,EAAM,GAAG6B,MAAM,MACrBU,SAAU3D,EAAYuM,GACtBnN,WAAYY,EAAYuM,GACxBlN,KAAK,KACLqE,UAAU,kBAEd,SAAC3E,EAAD,CACII,KAAMiC,EAAM,GAAG6B,MAAM,MACrBU,SAAU3D,EAAYwM,GACtBpN,WAAYY,EAAYwM,GACxBnN,KAAK,OACLqE,UAAU,kBAEZwI,IACE,iBACItM,GAAIwB,EAAM,GAAG6B,MAAM,MAAMC,OAASlD,EAAYwM,GAAK,EACnD7I,SAAU3D,EAAYwM,GACtBlN,iBAAiB,UACjBoE,UAAU,eAJd,gDA9Bb,CA0CFtB,EAAIC,EAAGC,GA1CL,eA0CWlB,GA1CX,CA0CkBV,EAAaC,EAAauL,EAAMvJ,EAAeE,EAAeC,MA4GvFc,MAPA,gBAAKC,QAAQ,YAAYhD,OAAQ,GAAIC,MAAO,GAAIgD,WAAW,EAA3D,UACI,mBAAQc,GAAG,KAAKC,GAAG,KAAKF,EAAE,IAAIrB,OAAO,eAAeC,KAAK,WAO7DQ,aAAckI,GAGdjI,OAAQmI,GACRlI,SAAU,CACNlE,YAAa,kDACbmE,OAAQ,CAACC,EAAAA,GAAAA,UACTC,OAAQ,CAACC,EAAAA,GAAAA,SACTC,WAAY,CAACC,EAAAA,GAAAA,OACbC,KAAM,KC9LRiI,GACF,yTACEC,GACF,+5rBAoFEC,IAAiE,kBAChElM,EAAAA,GADgE,IAEnEC,YAAa,QACbC,YAAa,QAGXiM,GAA2B,CAC7B,CACI5L,KAAM,WACNC,MAAO,2CACPC,MAAO,SAACC,GAAD,OACH,OAACA,QAAD,IAACA,EAAAA,EAASwL,IAAqCvL,MAAM,GAAGC,WAAW,KAAM,OAC7EC,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUmL,GAIxB,OAFAxL,EAAMC,MAAM,GAAKG,EAAIE,WAAWJ,WAAW,KAAM,MAE1CF,IAGf,CACIH,KAAM,WACNC,MAAO,2CACPC,MAAO,SAACC,GAAD,OACH,OAACA,QAAD,IAACA,EAAAA,EAASwL,IAAqCvL,MAAM,GAAGC,WAAW,KAAM,OAC7EC,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUmL,GAIxB,OAFAxL,EAAMC,MAAM,GAAKG,EAAIE,WAAWJ,WAAW,KAAM,MAE1CF,IAGf,CACIH,KAAM,SACNC,MAAO,gDACPC,MAAO,SAACC,GAAD,OAA0C,OAACA,QAAD,IAACA,EAAAA,EAASwL,IAAqCjM,aAChGgB,QAAS,CAAEC,KAAM,OAAQrB,OAAQ,SAAUsB,MAAO,SAClDC,gBAAiB,SAACV,GAAD,MAAkE,YAAlB,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOR,aAA2B,CAAC,UAAY,IAC3GW,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUmL,GAIxB,OAFAxL,EAAMT,YAAca,EAEbJ,IAGf,CACIH,KAAM,SACNC,MAAO,gDACPC,MAAO,SAACC,GAAD,OAA0C,OAACA,QAAD,IAACA,EAAAA,EAASwL,IAAqChM,aAChGe,QAAS,CAAEvB,IAAK,MAAOG,OAAQ,SAAUC,OAAQ,UACjDsB,gBAAiB,SAACV,GAAD,MAAkE,YAAlB,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOT,aAA2B,CAAC,UAAY,IAC3GY,SAAU,SAACC,EAAsBC,GAE7B,IAAML,EAAK,OAAGK,QAAH,IAAGA,EAAAA,EAAUmL,GAIxB,OAFAxL,EAAMR,YAAcY,EAEbJ,KA8BnB,GAhBkE,CAC9DgB,UA/JuB,SAAClD,GAAkC,IAAD,EACjDmD,EAA2EnD,EAA3EmD,GAAIC,EAAuEpD,EAAvEoD,EAAGC,EAAoErD,EAApEqD,EAAGnB,EAAiElC,EAAjEkC,MAAOoB,EAA0DtD,EAA1DsD,kBAAmBC,EAAuCvD,EAAvCuD,kBAAmBC,EAAoBxD,EAApBwD,gBAC/D,YAIItB,EAAMuB,EAAAA,EAAAA,oBAJV,QAIsCiK,GAJtC,IACIvL,MAAAA,OADJ,MACYX,EAAAA,EAAAA,MADZ,MAEIC,YAAAA,OAFJ,MAEkBiM,GAAoCjM,YAFtD,MAGIC,YAAAA,OAHJ,MAGkBgM,GAAoChM,YAHtD,EAMMgC,EAAgB3D,EAAAA,aAClB,SAAC4D,GAAD,OAAuCL,EAAkBH,EAAIQ,KAC7D,CAACR,EAAIG,IAEHM,EAAgB7D,EAAAA,aAClB,SAAC4D,GAAD,OAAuCJ,EAAkBJ,EAAIQ,KAC7D,CAACR,EAAII,IAEHM,EAAc9D,EAAAA,aAChB,SAAC4D,GAAD,OAAuCH,EAAgBL,EAAIQ,KAC3D,CAACR,EAAIK,IAGHM,EAAwB,SAAhBrC,GAA0B,GAAqB,UAAhBA,EAA0B,GAAK,EAKtEsC,GAHD5B,EAAMlB,EAAQS,GAAaP,UAAU6C,MAAM,MAAMC,OAAS,GAC3DhD,EAAQS,GAAavB,WACrBc,EAAQS,GAAaN,UACe,QAAhBM,GAAyB,GAAqB,WAAhBA,EAA2B,GAAK,GAChFwC,EAA6B,SAAhBzC,EAAyB,MAAwB,UAAhBA,EAA0B,QAAU,SAExF,OAAO1B,EAAAA,SACH,kBACI,eAAGoD,GAAIA,EAAP,WACI,eAAGgB,UAAS,oBAAef,EAAI,EAAnB,aAAyBC,EAAI,EAA7B,KAAZ,WACI,iBAAMgE,EAAGmG,GAAalJ,KAAK,OAAOD,OAAO,OAAOiD,YAAY,WAC5D,iBAAMD,EAAGoG,GAAYpJ,OAAO,OAAOiD,YAAY,WAC/C,iBACInE,GAAE,mBAAcA,GAChBkE,EAAGmG,GACHlJ,KAAK,OACLmD,YAAY,IACZpD,OAAO,OACPiD,YAAY,QACZ5D,cAAeA,EACfE,cAAeA,EACfC,YAAaA,EACbU,MAAO,CAAEC,OAAQ,cAGzB,eACIL,UAAS,oBAAef,EAAIU,EAAnB,aAA6BT,EAAIU,EAAjC,KACTG,WAAYA,EACZO,UAAU,mBAHd,WAKI,SAAC3E,EAAD,CACII,KAAMiC,EAAM,GAAG6B,MAAM,MACrBU,SAAU,GACVvE,WAAY,GACZC,KAAK,KACLqE,UAAU,kBAEd,SAAC3E,EAAD,CACII,KAAMiC,EAAM,GAAG6B,MAAM,MACrBU,SAAU,GACVvE,WAAY,GACZC,KAAK,OACLqE,UAAU,yBApCvB,CAyCFtB,EAAIC,EAAGC,GAzCL,eAyCWlB,GAzCX,CAyCkBV,EAAaC,EAAagC,EAAeE,EAAeC,MA0FjFc,MAVA,gBAAKC,QAAQ,YAAYhD,OAAQ,GAAIC,MAAO,GAAIgD,WAAW,EAA3D,UACI,eAAGV,UAAU,kBAAb,WACI,iBAAMkD,EAAGmG,GAAalJ,KAAK,OAAOD,OAAO,OAAOiD,YAAY,WAC5D,iBAAMD,EAAGoG,GAAYpJ,OAAO,OAAOiD,YAAY,eAQvDxC,aAAc4I,GAGd3I,OAAQ4I,GACR3I,SAAU,CACNlE,YAAa,gDACbmE,OAAQ,CAACC,EAAAA,GAAAA,UACTC,OAAQ,CAACC,EAAAA,GAAAA,SACTC,WAAY,CAACC,EAAAA,GAAAA,OACbC,KAAM,CAAC,iBC1Kf,IAVc,eACT9B,EAAAA,EAAAA,aAA2BmK,IADlB,SAETnK,EAAAA,EAAAA,iBAA+BoK,IAFtB,SAGTpK,EAAAA,EAAAA,WAAyBqK,IAHhB,SAITrK,EAAAA,EAAAA,WAAyBsK,IAJhB,SAKTtK,EAAAA,EAAAA,SAAuBuK,KALd,SAMTvK,EAAAA,EAAAA,cAA4BwK,KANnB,SAOTxK,EAAAA,EAAAA,YAA0ByK,IAPjB,I,oBC6DP,IAAK9I,EAQAE,EAUA6I,E,iFAXT,SAPS/I,GAAAA,EAAAA,QAAAA,UAAAA,EAAAA,SAAAA,WAOT,CAPSA,IAAAA,EAAAA,KAiBT,SATSE,GAAAA,EAAAA,MAAAA,QAAAA,EAAAA,aAAAA,eAAAA,EAAAA,UAAAA,YAAAA,EAAAA,SAAAA,WAST,CATSA,IAAAA,EAAAA,KAUZ,SAAY6I,GAAAA,EAAAA,SAAAA,WAAZ,CAAYA,IAAAA,EAAAA","sources":["components/svgs/common/multiline-text.tsx","components/svgs/stations/shmetro-int.tsx","components/svgs/stations/shmetro-basic.tsx","components/svgs/stations/shmetro-basic-2020.tsx","components/svgs/stations/gzmtr-basic.tsx","components/panels/details/interchange-card.tsx","components/panels/details/interchange-field.tsx","components/svgs/stations/gzmtr-int.tsx","components/svgs/stations/bjsubway-basic.tsx","components/svgs/stations/bjsubway-int.tsx","components/svgs/stations/stations.ts","constants/constants.ts"],"sourcesContent":["import React from 'react';\nimport { LanguageCode } from '@railmapgen/rmg-translate';\nimport { NameOffsetY } from '../../../constants/stations';\n\ninterface MultilineTextProps extends React.SVGProps<SVGTextElement> {\n    text: string[];\n    lineHeight: number;\n    grow: 'up' | 'down';\n}\n\nexport const MultilineText = React.forwardRef((props: MultilineTextProps, ref: React.Ref<SVGGElement>) => {\n    const {\n        text,\n        lineHeight,\n        grow,\n        // if dominantBaseline is defined, use it, or we calculate the dominantBaseline for you\n        dominantBaseline = grow === 'up' ? 'auto' : 'hanging',\n        ...otherSvgTextProps\n    } = props;\n\n    return React.useMemo(\n        () => (\n            <g ref={ref}>\n                {(grow === 'up' ? [...text].reverse() : text).map((t, i) => (\n                    <text\n                        key={t}\n                        dy={(i * lineHeight + 2) * (grow === 'up' ? -1 : 1)}\n                        dominantBaseline={dominantBaseline}\n                        {...otherSvgTextProps}\n                    >\n                        {t}\n                    </text>\n                ))}\n            </g>\n        ),\n        [JSON.stringify(text), lineHeight, grow, JSON.stringify(otherSvgTextProps)]\n    );\n});\n\n// Display component name in debugging.\n// Required by eslint react/display-name.\nMultilineText.displayName = 'MultilineText';\n\n/**\n * This is the default const of name height in different languages..\n */\nexport const LINE_HEIGHT = {\n    [LanguageCode.Chinese]: 16,\n    [LanguageCode.English]: 10,\n};\n\n/**\n * This is the default const of name dy calculation.\n * It is suitable for names that has 2 elements with 16px/10px font size.\n */\nexport const NAME_DY: {\n    [key in NameOffsetY]: {\n        namesPos: number; // index of the names we need to calculate dy\n        lineHeight: number;\n        polarity: -1 | 0 | 1; // in which direction\n    };\n} = {\n    top: {\n        namesPos: 1,\n        lineHeight: LINE_HEIGHT[LanguageCode.Chinese],\n        polarity: -1,\n    },\n    middle: {\n        namesPos: 0,\n        lineHeight: 0,\n        polarity: 0,\n    },\n    bottom: {\n        namesPos: 0,\n        lineHeight: LINE_HEIGHT[LanguageCode.English],\n        polarity: 1,\n    },\n};\n","import React from 'react';\nimport { CityCode } from '@railmapgen/rmg-palette-resources';\nimport { CanvasType, CategoriesType } from '../../../constants/constants';\nimport {\n    defaultStationAttributes,\n    NameOffsetX,\n    NameOffsetY,\n    Station,\n    StationAttributes,\n    StationComponentProps,\n    StationType,\n} from '../../../constants/stations';\nimport { MultilineText, NAME_DY } from '../common/multiline-text';\n\nconst ShmetroIntStation = (props: StationComponentProps) => {\n    const { id, x, y, attrs, handlePointerDown, handlePointerMove, handlePointerUp } = props;\n    const {\n        names = defaultStationAttributes.names,\n        nameOffsetX = defaultShmetroIntStationAttributes.nameOffsetX,\n        nameOffsetY = defaultShmetroIntStationAttributes.nameOffsetY,\n        rotate = defaultShmetroIntStationAttributes.rotate,\n        width = defaultShmetroIntStationAttributes.width,\n        height = defaultShmetroIntStationAttributes.height,\n    } = attrs[StationType.ShmetroInt] ?? defaultShmetroIntStationAttributes;\n\n    const onPointerDown = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerDown(id, e),\n        [id, handlePointerDown]\n    );\n    const onPointerMove = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerMove(id, e),\n        [id, handlePointerMove]\n    );\n    const onPointerUp = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerUp(id, e),\n        [id, handlePointerUp]\n    );\n\n    const textX = nameOffsetX === 'left' ? -12 : nameOffsetX === 'right' ? 12 : 0;\n    const textDy =\n        (names[NAME_DY[nameOffsetY].namesPos].split('\\\\').length - 1) *\n        NAME_DY[nameOffsetY].lineHeight *\n        NAME_DY[nameOffsetY].polarity;\n    const textY = textDy + (nameOffsetY === 'top' ? -24 : nameOffsetY === 'bottom' ? 24 : 0);\n    const textAnchor = nameOffsetX === 'left' ? 'end' : nameOffsetX === 'right' ? 'start' : 'middle';\n\n    return React.useMemo(\n        () => (\n            <g id={id}>\n                <g transform={`translate(${x}, ${y})rotate(${rotate})`}>\n                    <rect\n                        id={`stn_core_${id}`}\n                        x={-width / 2}\n                        y={-height / 2}\n                        height={height}\n                        width={width}\n                        ry={height / 2}\n                        stroke=\"black\"\n                        fill=\"white\"\n                        onPointerDown={onPointerDown}\n                        onPointerMove={onPointerMove}\n                        onPointerUp={onPointerUp}\n                        style={{ cursor: 'move' }}\n                    />\n                </g>\n                <g\n                    transform={`translate(${x + textX}, ${y + textY})`}\n                    textAnchor={textAnchor}\n                    className=\"rmp-name-station\"\n                >\n                    <MultilineText\n                        text={names[0].split('\\\\')}\n                        fontSize={16}\n                        lineHeight={16}\n                        grow=\"up\"\n                        className=\"rmp-name__zh\"\n                    />\n                    <MultilineText\n                        text={names[1].split('\\\\')}\n                        fontSize={10}\n                        lineHeight={10}\n                        grow=\"down\"\n                        className=\"rmp-name__en\"\n                    />\n                </g>\n            </g>\n        ),\n        [id, x, y, ...names, nameOffsetX, nameOffsetY, rotate, width, height, onPointerDown, onPointerMove, onPointerUp]\n    );\n};\n\n/**\n * <ShmetroIntStation /> specific props.\n */\nexport interface ShmetroIntStationAttributes extends StationAttributes {\n    nameOffsetX: NameOffsetX;\n    nameOffsetY: NameOffsetY;\n    /**\n     * 0 <= rotate < 180\n     */\n    rotate: number;\n    width: number;\n    height: number;\n}\n\nconst defaultShmetroIntStationAttributes: ShmetroIntStationAttributes = {\n    ...defaultStationAttributes,\n    nameOffsetX: 'right',\n    nameOffsetY: 'top',\n    rotate: 0,\n    height: 10,\n    width: 15,\n};\n\nconst shmetroIntStationFields = [\n    {\n        type: 'textarea',\n        label: 'panel.details.station.shmetroInt.nameZh',\n        value: (attrs?: ShmetroIntStationAttributes) =>\n            (attrs ?? defaultShmetroIntStationAttributes).names[0].replaceAll('\\\\', '\\n'),\n        onChange: (val: string | number, attrs_: ShmetroIntStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultShmetroIntStationAttributes;\n            // set value\n            attrs.names[0] = val.toString().replaceAll('\\n', '\\\\');\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'textarea',\n        label: 'panel.details.station.shmetroInt.nameEn',\n        value: (attrs?: ShmetroIntStationAttributes) =>\n            (attrs ?? defaultShmetroIntStationAttributes).names[1].replaceAll('\\\\', '\\n'),\n        onChange: (val: string | number, attrs_: ShmetroIntStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultShmetroIntStationAttributes;\n            // set value\n            attrs.names[1] = val.toString().replaceAll('\\n', '\\\\');\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'select',\n        label: 'panel.details.station.shmetroInt.nameOffsetX',\n        value: (attrs?: ShmetroIntStationAttributes) => (attrs ?? defaultShmetroIntStationAttributes).nameOffsetX,\n        options: { left: 'left', middle: 'middle', right: 'right' },\n        disabledOptions: (attrs?: ShmetroIntStationAttributes) => (attrs?.nameOffsetY === 'middle' ? ['middle'] : []),\n        onChange: (val: string | number, attrs_: ShmetroIntStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultShmetroIntStationAttributes;\n            // set value\n            attrs.nameOffsetX = val as NameOffsetX;\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'select',\n        label: 'panel.details.station.shmetroInt.nameOffsetY',\n        value: (attrs?: ShmetroIntStationAttributes) => (attrs ?? defaultShmetroIntStationAttributes).nameOffsetY,\n        options: { top: 'top', middle: 'middle', bottom: 'bottom' },\n        disabledOptions: (attrs?: ShmetroIntStationAttributes) => (attrs?.nameOffsetX === 'middle' ? ['middle'] : []),\n        onChange: (val: string | number, attrs_: ShmetroIntStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultShmetroIntStationAttributes;\n            // set value\n            attrs.nameOffsetY = val as NameOffsetY;\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'input',\n        label: 'panel.details.station.shmetroInt.height',\n        value: (attrs?: ShmetroIntStationAttributes) => (attrs ?? defaultShmetroIntStationAttributes).height,\n        validator: (val: string) => Number.isInteger(val),\n        onChange: (val: string | number, attrs_: ShmetroIntStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultShmetroIntStationAttributes;\n            // set value\n            attrs.height = Number(val);\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'input',\n        label: 'panel.details.station.shmetroInt.width',\n        value: (attrs?: ShmetroIntStationAttributes) => (attrs ?? defaultShmetroIntStationAttributes).width,\n        validator: (val: string) => Number.isInteger(val),\n        onChange: (val: string | number, attrs_: ShmetroIntStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultShmetroIntStationAttributes;\n            // set value\n            attrs.width = Number(val);\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'input',\n        label: 'panel.details.station.shmetroInt.rotate',\n        value: (attrs?: ShmetroIntStationAttributes) => (attrs ?? defaultShmetroIntStationAttributes).rotate,\n        validator: (val: string) => Number.isInteger(val) && Number(val) >= 0 && Number(val) < 180,\n        onChange: (val: string | number, attrs_: ShmetroIntStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultShmetroIntStationAttributes;\n            // set value\n            attrs.rotate = Math.abs(Number(val)) % 180;\n            // return modified attrs\n            return attrs;\n        },\n    },\n];\n\nconst shmetroIntStationIcon = (\n    <svg viewBox=\"0 0 24 24\" height={40} width={40} focusable={false}>\n        <rect x=\"4.5\" y=\"7\" height=\"10\" width=\"15\" ry=\"5\" stroke=\"currentColor\" fill=\"none\" />\n    </svg>\n);\n\nconst shmetroIntStation: Station<ShmetroIntStationAttributes> = {\n    component: ShmetroIntStation,\n    icon: shmetroIntStationIcon,\n    defaultAttrs: defaultShmetroIntStationAttributes,\n    // TODO: fix this\n    // @ts-ignore-error\n    fields: shmetroIntStationFields,\n    metadata: {\n        displayName: 'panel.details.station.shmetroInt.displayName',\n        cities: [CityCode.Shanghai],\n        canvas: [CanvasType.RailMap],\n        categories: [CategoriesType.Metro],\n        tags: ['interchange'],\n    },\n};\n\nexport default shmetroIntStation;\n","import React from 'react';\nimport { CityCode } from '@railmapgen/rmg-palette-resources';\nimport { CanvasType, CategoriesType } from '../../../constants/constants';\nimport {\n    defaultStationAttributes,\n    NameOffsetX,\n    NameOffsetY,\n    Station,\n    StationAttributes,\n    StationComponentProps,\n    StationType,\n} from '../../../constants/stations';\nimport { MultilineText, NAME_DY } from '../common/multiline-text';\n\nconst ShmetroBasicStation = (props: StationComponentProps) => {\n    const { id, x, y, attrs, handlePointerDown, handlePointerMove, handlePointerUp } = props;\n    const {\n        names = defaultStationAttributes.names,\n        nameOffsetX = defaultShmetroBasicStationAttributes.nameOffsetX,\n        nameOffsetY = defaultShmetroBasicStationAttributes.nameOffsetY,\n    } = attrs[StationType.ShmetroBasic] ?? defaultShmetroBasicStationAttributes;\n\n    const onPointerDown = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerDown(id, e),\n        [id, handlePointerDown]\n    );\n    const onPointerMove = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerMove(id, e),\n        [id, handlePointerMove]\n    );\n    const onPointerUp = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerUp(id, e),\n        [id, handlePointerUp]\n    );\n\n    const textX = nameOffsetX === 'left' ? -12 : nameOffsetX === 'right' ? 12 : 0;\n    const textDy =\n        (names[NAME_DY[nameOffsetY].namesPos].split('\\\\').length - 1) *\n        NAME_DY[nameOffsetY].lineHeight *\n        NAME_DY[nameOffsetY].polarity;\n    const textY = textDy + (nameOffsetY === 'top' ? -24 : nameOffsetY === 'bottom' ? 24 : 0);\n    const textAnchor = nameOffsetX === 'left' ? 'end' : nameOffsetX === 'right' ? 'start' : 'middle';\n\n    return React.useMemo(\n        () => (\n            <g id={id} transform={`translate(${x}, ${y})`}>\n                <circle\n                    id={`stn_core_${id}`}\n                    r={5}\n                    stroke=\"black\"\n                    fill=\"white\"\n                    onPointerDown={onPointerDown}\n                    onPointerMove={onPointerMove}\n                    onPointerUp={onPointerUp}\n                    style={{ cursor: 'move' }}\n                />\n                <g transform={`translate(${textX}, ${textY})`} textAnchor={textAnchor} className=\"rmp-name-station\">\n                    <MultilineText\n                        text={names[0].split('\\\\')}\n                        fontSize={16}\n                        lineHeight={16}\n                        grow=\"up\"\n                        className=\"rmp-name__zh\"\n                    />\n                    <MultilineText\n                        text={names[1].split('\\\\')}\n                        fontSize={10}\n                        lineHeight={10}\n                        grow=\"down\"\n                        className=\"rmp-name__en\"\n                    />\n                </g>\n            </g>\n        ),\n        [id, x, y, ...names, nameOffsetX, nameOffsetY, onPointerDown, onPointerMove, onPointerUp]\n    );\n};\n\n/**\n * <ShmetroBasicStation /> specific props.\n */\nexport interface ShmetroBasicStationAttributes extends StationAttributes {\n    nameOffsetX: NameOffsetX;\n    nameOffsetY: NameOffsetY;\n}\n\nconst defaultShmetroBasicStationAttributes: ShmetroBasicStationAttributes = {\n    ...defaultStationAttributes,\n    nameOffsetX: 'right',\n    nameOffsetY: 'top',\n};\n\nconst shmetroBasicStationFields = [\n    {\n        type: 'textarea',\n        label: 'panel.details.station.shmetroBasic.nameZh',\n        value: (attrs?: ShmetroBasicStationAttributes) =>\n            (attrs ?? defaultShmetroBasicStationAttributes).names[0].replaceAll('\\\\', '\\n'),\n        onChange: (val: string | number, attrs_: ShmetroBasicStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultShmetroBasicStationAttributes;\n            // set value\n            attrs.names[0] = val.toString().replaceAll('\\n', '\\\\');\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'textarea',\n        label: 'panel.details.station.shmetroBasic.nameEn',\n        value: (attrs?: ShmetroBasicStationAttributes) =>\n            (attrs ?? defaultShmetroBasicStationAttributes).names[1].replaceAll('\\\\', '\\n'),\n        onChange: (val: string | number, attrs_: ShmetroBasicStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultShmetroBasicStationAttributes;\n            // set value\n            attrs.names[1] = val.toString().replaceAll('\\n', '\\\\');\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'select',\n        label: 'panel.details.station.shmetroBasic.nameOffsetX',\n        value: (attrs?: ShmetroBasicStationAttributes) => (attrs ?? defaultShmetroBasicStationAttributes).nameOffsetX,\n        options: { left: 'left', middle: 'middle', right: 'right' },\n        disabledOptions: (attrs?: ShmetroBasicStationAttributes) => (attrs?.nameOffsetY === 'middle' ? ['middle'] : []),\n        onChange: (val: string | number, attrs_: ShmetroBasicStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultShmetroBasicStationAttributes;\n            // set value\n            attrs.nameOffsetX = val as NameOffsetX;\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'select',\n        label: 'panel.details.station.shmetroBasic.nameOffsetY',\n        value: (attrs?: ShmetroBasicStationAttributes) => (attrs ?? defaultShmetroBasicStationAttributes).nameOffsetY,\n        options: { top: 'top', middle: 'middle', bottom: 'bottom' },\n        disabledOptions: (attrs?: ShmetroBasicStationAttributes) => (attrs?.nameOffsetX === 'middle' ? ['middle'] : []),\n        onChange: (val: string | number, attrs_: ShmetroBasicStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultShmetroBasicStationAttributes;\n            // set value\n            attrs.nameOffsetY = val as NameOffsetY;\n            // return modified attrs\n            return attrs;\n        },\n    },\n];\n\nconst shmetroBasicStationIcon = (\n    <svg viewBox=\"0 0 24 24\" height={40} width={40} focusable={false}>\n        <circle cx=\"12\" cy=\"12\" r=\"5\" stroke=\"currentColor\" fill=\"none\" />\n    </svg>\n);\n\nconst shmetroBasicStation: Station<ShmetroBasicStationAttributes> = {\n    component: ShmetroBasicStation,\n    icon: shmetroBasicStationIcon,\n    defaultAttrs: defaultShmetroBasicStationAttributes,\n    // TODO: fix this\n    // @ts-ignore-error\n    fields: shmetroBasicStationFields,\n    metadata: {\n        displayName: 'panel.details.station.shmetroBasic.displayName',\n        cities: [CityCode.Shanghai],\n        canvas: [CanvasType.RailMap],\n        categories: [CategoriesType.Metro],\n        tags: [],\n    },\n};\n\nexport default shmetroBasicStation;\n","import React from 'react';\nimport { CityCode, MonoColour } from '@railmapgen/rmg-palette-resources';\nimport { CanvasType, CategoriesType } from '../../../constants/constants';\nimport {\n    defaultStationAttributes,\n    Station,\n    StationAttributes,\n    StationComponentProps,\n    StationType,\n} from '../../../constants/stations';\nimport { ColorField, AttributesWithColor } from '../../panels/details/color-field';\nimport { MultilineText, NAME_DY } from '../common/multiline-text';\n\ntype ROTATE = 0 | 45 | 90 | 135 | 180 | 225 | 270 | 315;\n\nconst ROTATE_CONST: {\n    [rotate: number]: {\n        textDx: number;\n        textDy: number;\n        textAnchor: 'start' | 'middle' | 'end';\n        namesPos: 0 | 1;\n        lineHeight: 0 | 10 | 16;\n        polarity: -1 | 0 | 1;\n    };\n} = {\n    0: {\n        textDx: 0,\n        textDy: -27,\n        textAnchor: 'middle',\n        namesPos: 1,\n        lineHeight: 10,\n        polarity: -1,\n    },\n    45: {\n        textDx: 12,\n        textDy: -15,\n        textAnchor: 'start',\n        namesPos: 1,\n        lineHeight: 10,\n        polarity: -1,\n    },\n    90: {\n        textDx: 12,\n        textDy: 0,\n        textAnchor: 'start',\n        namesPos: 0,\n        lineHeight: 0,\n        polarity: 0,\n    },\n    135: {\n        textDx: 12,\n        textDy: 15,\n        textAnchor: 'start',\n        namesPos: 0,\n        lineHeight: 16,\n        polarity: 1,\n    },\n    180: {\n        textDx: 0,\n        textDy: 27,\n        textAnchor: 'middle',\n        namesPos: 0,\n        lineHeight: 16,\n        polarity: 1,\n    },\n    225: {\n        textDx: -12,\n        textDy: 15,\n        textAnchor: 'end',\n        namesPos: 0,\n        lineHeight: 16,\n        polarity: 1,\n    },\n    270: {\n        textDx: -12,\n        textDy: 0,\n        textAnchor: 'end',\n        namesPos: 0,\n        lineHeight: 0,\n        polarity: 0,\n    },\n    315: {\n        textDx: -12,\n        textDy: -15,\n        textAnchor: 'end',\n        namesPos: 1,\n        lineHeight: 10,\n        polarity: -1,\n    },\n};\n\nconst ShmetroBasic2020Station = (props: StationComponentProps) => {\n    const { id, x, y, attrs, handlePointerDown, handlePointerMove, handlePointerUp } = props;\n    const {\n        names = defaultStationAttributes.names,\n        color = defaultShmetroBasic2020StationAttributes.color,\n        rotate = defaultShmetroBasic2020StationAttributes.rotate,\n    } = attrs[StationType.ShmetroBasic2020] ?? defaultShmetroBasic2020StationAttributes;\n\n    const textDy =\n        ROTATE_CONST[rotate].textDy + // fixed dy for each rotation\n        (names[ROTATE_CONST[rotate].namesPos].split('\\\\').length - 1) *\n            ROTATE_CONST[rotate].lineHeight *\n            ROTATE_CONST[rotate].polarity; // dynamic dy of n lines (either zh or en)\n\n    const onPointerDown = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerDown(id, e),\n        [id, handlePointerDown]\n    );\n    const onPointerMove = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerMove(id, e),\n        [id, handlePointerMove]\n    );\n    const onPointerUp = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerUp(id, e),\n        [id, handlePointerUp]\n    );\n\n    return React.useMemo(\n        () => (\n            <g id={id}>\n                <g transform={`translate(${x}, ${y})rotate(${rotate})`}>\n                    <rect\n                        id={`stn_core_${id}`}\n                        x=\"-2.5\"\n                        y=\"-10\"\n                        width=\"5\"\n                        height=\"10\"\n                        stroke=\"none\"\n                        fill={color[2]}\n                        onPointerDown={onPointerDown}\n                        onPointerMove={onPointerMove}\n                        onPointerUp={onPointerUp}\n                        style={{ cursor: 'move' }}\n                    />\n                </g>\n                <g\n                    transform={`translate(${x + ROTATE_CONST[rotate].textDx}, ${y + textDy})`}\n                    textAnchor={ROTATE_CONST[rotate].textAnchor}\n                    className=\"rmp-name-station\"\n                >\n                    <MultilineText\n                        text={names[0].split('\\\\')}\n                        fontSize={16}\n                        lineHeight={16}\n                        grow=\"up\"\n                        className=\"rmp-name__zh\"\n                    />\n                    <MultilineText\n                        text={names[1].split('\\\\')}\n                        fontSize={10}\n                        lineHeight={10}\n                        grow=\"down\"\n                        className=\"rmp-name__en\"\n                    />\n                </g>\n            </g>\n        ),\n        [id, x, y, ...names, rotate, color, onPointerDown, onPointerMove, onPointerUp]\n    );\n};\n\n/**\n * <ShmetroBasic2020Station /> specific props.\n */\nexport interface ShmetroBasic2020StationAttributes extends StationAttributes, AttributesWithColor {\n    rotate: ROTATE;\n}\n\nconst defaultShmetroBasic2020StationAttributes: ShmetroBasic2020StationAttributes = {\n    ...defaultStationAttributes,\n    rotate: 0,\n    color: [CityCode.Shanghai, 'sh1', '#E4002B', MonoColour.white],\n};\n\nconst shmetroBasic2020StationFields = [\n    {\n        type: 'textarea',\n        label: 'panel.details.station.shmetroBasic2020.nameZh',\n        value: (attrs?: ShmetroBasic2020StationAttributes) =>\n            (attrs ?? defaultShmetroBasic2020StationAttributes).names[0].replaceAll('\\\\', '\\n'),\n        options: { left: 'left', middle: 'middle', right: 'right' },\n        onChange: (val: string | number, attrs_: ShmetroBasic2020StationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultShmetroBasic2020StationAttributes;\n            // set value\n            attrs.names[0] = val.toString().replaceAll('\\n', '\\\\');\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'textarea',\n        label: 'panel.details.station.shmetroBasic2020.nameEn',\n        value: (attrs?: ShmetroBasic2020StationAttributes) =>\n            (attrs ?? defaultShmetroBasic2020StationAttributes).names[1].replaceAll('\\\\', '\\n'),\n        options: { left: 'left', middle: 'middle', right: 'right' },\n        onChange: (val: string | number, attrs_: ShmetroBasic2020StationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultShmetroBasic2020StationAttributes;\n            // set value\n            attrs.names[1] = val.toString().replaceAll('\\n', '\\\\');\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'select',\n        label: 'panel.details.station.shmetroBasic2020.rotate',\n        value: (attrs?: ShmetroBasic2020StationAttributes) =>\n            (attrs ?? defaultShmetroBasic2020StationAttributes).rotate,\n        options: { 0: '0', 45: '45', 90: '90', 135: '135', 180: '180', 225: '225', 270: '270', 315: '315' },\n        onChange: (val: string | number, attrs_: ShmetroBasic2020StationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultShmetroBasic2020StationAttributes;\n            // set value\n            attrs.rotate = Number(val) as ROTATE;\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'custom',\n        component: (\n            <ColorField type={StationType.ShmetroBasic2020} defaultAttrs={defaultShmetroBasic2020StationAttributes} />\n        ),\n    },\n];\n\nconst shmetroBasic2020StationIcon = (\n    <svg viewBox=\"0 0 24 24\" height={40} width={40} focusable={false}>\n        <rect x=\"6\" y=\"9\" width=\"12\" height=\"6\" stroke=\"currentColor\" fill=\"currentColor\" />\n    </svg>\n);\n\nconst shmetroBasic2020Station: Station<ShmetroBasic2020StationAttributes> = {\n    component: ShmetroBasic2020Station,\n    icon: shmetroBasic2020StationIcon,\n    defaultAttrs: defaultShmetroBasic2020StationAttributes,\n    // TODO: fix this\n    // @ts-ignore-error\n    fields: shmetroBasic2020StationFields,\n    metadata: {\n        displayName: 'panel.details.station.shmetroBasic2020.displayName',\n        cities: [CityCode.Shanghai],\n        canvas: [CanvasType.RailMap],\n        categories: [CategoriesType.Metro],\n        tags: [],\n    },\n};\n\nexport default shmetroBasic2020Station;\n","import React from 'react';\nimport { CityCode, ColourHex, MonoColour } from '@railmapgen/rmg-palette-resources';\nimport { CanvasType, CategoriesType } from '../../../constants/constants';\nimport {\n    defaultStationAttributes,\n    NameOffsetX,\n    NameOffsetY,\n    Station,\n    StationAttributes,\n    StationComponentProps,\n    StationType,\n} from '../../../constants/stations';\nimport { AttributesWithColor, ColorField } from '../../panels/details/color-field';\nimport { MultilineText, NAME_DY } from '../common/multiline-text';\n\nconst PATH = 'M0,9.25 V-9.25 H-9.25 a9.25,9.25 0 0,0 0,18.5 h18.5 a9.25,9.25 0 0,0 0,-18.5 H0';\nconst TEXT_MAX_WIDTH = 12.5;\n\n/**\n * A StationNumber sub component for both gzmtr-basic and gzmtr-int station.\n * It draws the code of the line and the station with a capsule icon outside it.\n */\nexport const StationNumber = (props: { strokeColor: ColourHex; lineCode: string; stationCode: string }) => {\n    const { strokeColor, lineCode, stationCode } = props;\n\n    const lineCodeEl = React.useRef<SVGTextElement | null>(null);\n    const stnCodeEl = React.useRef<SVGTextElement | null>(null);\n\n    const [lineCodeBBox, setlineCodeBBox] = React.useState({ width: 0 } as DOMRect);\n    const [stnCodeBBox, setstnCodeBBox] = React.useState({ width: 0 } as DOMRect);\n\n    React.useEffect(() => {\n        setlineCodeBBox(lineCodeEl.current!.getBBox());\n        setstnCodeBBox(stnCodeEl.current!.getBBox());\n    }, [lineCode, stationCode]);\n\n    const lineCodeScale = TEXT_MAX_WIDTH / Math.max(TEXT_MAX_WIDTH, lineCodeBBox.width);\n    const stnCodeScale =\n        lineCode.length === 2 && stationCode.length === 2\n            ? lineCodeScale\n            : TEXT_MAX_WIDTH / Math.max(TEXT_MAX_WIDTH, stnCodeBBox.width);\n\n    return (\n        <g>\n            <path d={PATH} strokeWidth=\"2\" stroke={strokeColor} fill=\"white\" transform=\"scale(0.75)\" />\n            <g textAnchor=\"middle\" dominantBaseline=\"middle\" fontSize=\"8\">\n                <g transform={`translate(-6,0)scale(${lineCodeScale})`}>\n                    <text ref={lineCodeEl} className=\"rmp-name__zh\">\n                        {lineCode}\n                    </text>\n                </g>\n                <g transform={`translate(6,0)scale(${stnCodeScale})`}>\n                    <text ref={stnCodeEl} className=\"rmp-name__zh\">\n                        {stationCode}\n                    </text>\n                </g>\n            </g>\n        </g>\n    );\n};\n\nconst GzmtrBasicStation = (props: StationComponentProps) => {\n    const { id, x, y, attrs, handlePointerDown, handlePointerMove, handlePointerUp } = props;\n    const {\n        names = defaultStationAttributes.names,\n        nameOffsetX = defaultGzmtrBasicStationAttributes.nameOffsetX,\n        nameOffsetY = defaultGzmtrBasicStationAttributes.nameOffsetY,\n        color = defaultGzmtrBasicStationAttributes.color,\n        lineCode = defaultGzmtrBasicStationAttributes.lineCode,\n        stationCode = defaultGzmtrBasicStationAttributes.stationCode,\n    } = attrs[StationType.GzmtrBasic] ?? defaultGzmtrBasicStationAttributes;\n\n    const onPointerDown = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerDown(id, e),\n        [id, handlePointerDown]\n    );\n    const onPointerMove = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerMove(id, e),\n        [id, handlePointerMove]\n    );\n    const onPointerUp = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerUp(id, e),\n        [id, handlePointerUp]\n    );\n\n    const textX = nameOffsetX === 'left' ? -18 : nameOffsetX === 'right' ? 18 : 0;\n    const textDy =\n        (names[NAME_DY[nameOffsetY].namesPos].split('\\\\').length - 1) *\n        NAME_DY[nameOffsetY].lineHeight *\n        NAME_DY[nameOffsetY].polarity;\n    const textY = textDy + (nameOffsetY === 'top' ? -21 : nameOffsetY === 'bottom' ? 27 : 0);\n    const textAnchor = nameOffsetX === 'left' ? 'end' : nameOffsetX === 'right' ? 'start' : 'middle';\n\n    return React.useMemo(\n        () => (\n            <g id={id} transform={`translate(${x}, ${y})`}>\n                <StationNumber strokeColor={color[2]} lineCode={lineCode} stationCode={stationCode} />\n                <g transform={`translate(${textX}, ${textY})`} textAnchor={textAnchor} className=\"rmp-name-station\">\n                    <MultilineText\n                        text={names[0].split('\\\\')}\n                        fontSize={16}\n                        lineHeight={16}\n                        grow=\"up\"\n                        className=\"rmp-name__zh\"\n                    />\n                    <MultilineText\n                        text={names[1].split('\\\\')}\n                        fontSize={10}\n                        lineHeight={10}\n                        grow=\"down\"\n                        className=\"rmp-name__en\"\n                    />\n                </g>\n                {/* Below is an overlay element that has all event hooks but can not be seen. */}\n                <path\n                    id={`stn_core_${id}`}\n                    d={PATH}\n                    fill=\"white\"\n                    fillOpacity=\"0\"\n                    onPointerDown={onPointerDown}\n                    onPointerMove={onPointerMove}\n                    onPointerUp={onPointerUp}\n                    style={{ cursor: 'move' }}\n                    transform=\"scale(0.75)\"\n                />\n            </g>\n        ),\n        [\n            id,\n            x,\n            y,\n            ...names,\n            nameOffsetX,\n            nameOffsetY,\n            color,\n            lineCode,\n            stationCode,\n            onPointerDown,\n            onPointerMove,\n            onPointerUp,\n        ]\n    );\n};\n\n/**\n * <GzmtrStation /> specific props.\n */\nexport interface GzmtrBasicStationAttributes extends StationAttributes, AttributesWithColor {\n    nameOffsetX: NameOffsetX;\n    nameOffsetY: NameOffsetY;\n    lineCode: string;\n    stationCode: string;\n}\n\nconst defaultGzmtrBasicStationAttributes: GzmtrBasicStationAttributes = {\n    ...defaultStationAttributes,\n    nameOffsetX: 'right',\n    nameOffsetY: 'top',\n    color: [CityCode.Guangzhou, 'gz1', '#F3D03E', MonoColour.black],\n    lineCode: '1',\n    stationCode: '01',\n};\n\nconst gzmtrBasicStationFields = [\n    {\n        type: 'textarea',\n        label: 'panel.details.station.gzmtrBasic.nameZh',\n        value: (attrs?: GzmtrBasicStationAttributes) =>\n            (attrs ?? defaultGzmtrBasicStationAttributes).names[0].replaceAll('\\\\', '\\n'),\n        onChange: (val: string | number, attrs_: GzmtrBasicStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultGzmtrBasicStationAttributes;\n            // set value\n            attrs.names[0] = val.toString().replaceAll('\\n', '\\\\');\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'textarea',\n        label: 'panel.details.station.gzmtrBasic.nameEn',\n        value: (attrs?: GzmtrBasicStationAttributes) =>\n            (attrs ?? defaultGzmtrBasicStationAttributes).names[1].replaceAll('\\\\', '\\n'),\n        onChange: (val: string | number, attrs_: GzmtrBasicStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultGzmtrBasicStationAttributes;\n            // set value\n            attrs.names[1] = val.toString().replaceAll('\\n', '\\\\');\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'select',\n        label: 'panel.details.station.gzmtrBasic.nameOffsetX',\n        value: (attrs?: GzmtrBasicStationAttributes) => (attrs ?? defaultGzmtrBasicStationAttributes).nameOffsetX,\n        options: { left: 'left', middle: 'middle', right: 'right' },\n        onChange: (val: string | number, attrs_: GzmtrBasicStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultGzmtrBasicStationAttributes;\n            // set value\n            attrs.nameOffsetX = val as NameOffsetX;\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'select',\n        label: 'panel.details.station.gzmtrBasic.nameOffsetY',\n        value: (attrs?: GzmtrBasicStationAttributes) => (attrs ?? defaultGzmtrBasicStationAttributes).nameOffsetY,\n        options: { top: 'top', middle: 'middle', bottom: 'bottom' },\n        onChange: (val: string | number, attrs_: GzmtrBasicStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultGzmtrBasicStationAttributes;\n            // set value\n            attrs.nameOffsetY = val as NameOffsetY;\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'custom',\n        component: <ColorField type={StationType.GzmtrBasic} defaultAttrs={defaultGzmtrBasicStationAttributes} />,\n    },\n    {\n        type: 'input',\n        label: 'panel.details.station.gzmtrBasic.lineCode',\n        value: (attrs?: GzmtrBasicStationAttributes) => (attrs ?? defaultGzmtrBasicStationAttributes).lineCode,\n        onChange: (val: string | number, attrs_: GzmtrBasicStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultGzmtrBasicStationAttributes;\n            // set value\n            attrs.lineCode = val.toString();\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'input',\n        label: 'panel.details.station.gzmtrBasic.stationCode',\n        value: (attrs?: GzmtrBasicStationAttributes) => (attrs ?? defaultGzmtrBasicStationAttributes).stationCode,\n        onChange: (val: string | number, attrs_: GzmtrBasicStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultGzmtrBasicStationAttributes;\n            // set value\n            attrs.stationCode = val.toString();\n            // return modified attrs\n            return attrs;\n        },\n    },\n];\n\nconst gzmtrBasicStationIcon = (\n    <svg viewBox=\"0 0 24 24\" height={40} width={40} focusable={false}>\n        <g transform=\"translate(12,12)scale(0.6)\">\n            <StationNumber strokeColor=\"#000\" lineCode=\"1\" stationCode=\"01\" />\n        </g>\n    </svg>\n);\n\nconst gzmtrBasicStation: Station<GzmtrBasicStationAttributes> = {\n    component: GzmtrBasicStation,\n    icon: gzmtrBasicStationIcon,\n    defaultAttrs: defaultGzmtrBasicStationAttributes,\n    // TODO: fix this\n    // @ts-ignore-error\n    fields: gzmtrBasicStationFields,\n    metadata: {\n        displayName: 'panel.details.station.gzmtrBasic.displayName',\n        cities: [CityCode.Guangzhou],\n        canvas: [CanvasType.RailMap],\n        categories: [CategoriesType.Metro],\n        tags: [],\n    },\n};\n\nexport default gzmtrBasicStation;\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Box, HStack, IconButton, Text } from '@chakra-ui/react';\nimport { RmgCard, RmgFields, RmgFieldsField, RmgLabel } from '@railmapgen/rmg-components';\nimport { CityCode, MonoColour } from '@railmapgen/rmg-palette-resources';\nimport { Theme } from '../../../constants/constants';\nimport { InterchangeInfo } from './interchange-field';\nimport { MdAdd, MdContentCopy, MdDelete } from 'react-icons/md';\nimport ColourModal from '../colour-modal/colour-modal';\nimport ThemeButton from '../theme-button';\n\ninterface InterchangeCardProps {\n    interchangeList: InterchangeInfo[];\n    onAdd?: (info: InterchangeInfo) => void;\n    onDelete?: (index: number) => void;\n    onUpdate?: (index: number, info: InterchangeInfo) => void;\n}\n\nexport default function InterchangeCard(props: InterchangeCardProps) {\n    const { interchangeList, onAdd, onDelete, onUpdate } = props;\n\n    const { t } = useTranslation();\n\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [selectedIndex, setSelectedIndex] = useState(0);\n\n    const interchangeFields: RmgFieldsField[][] = interchangeList.map((it, i) => [\n        {\n            type: 'input',\n            label: t('panel.details.station.gzmtrInt.lineCode'),\n            value: it[4],\n            minW: '80px',\n            onChange: val => onUpdate?.(i, [it[0], it[1], it[2], it[3], val, it[5]]),\n        },\n        {\n            type: 'input',\n            label: t('panel.details.station.gzmtrInt.stationCode'),\n            value: it[5],\n            minW: '80px',\n            onChange: val => onUpdate?.(i, [it[0], it[1], it[2], it[3], it[4], val]),\n        },\n    ]);\n\n    return (\n        <RmgCard direction=\"column\">\n            {interchangeList.length === 0 && (\n                <HStack spacing={0.5} data-testid={`interchange-card-stack`}>\n                    <Text as=\"i\" flex={1} align=\"center\" fontSize=\"md\" colorScheme=\"gray\">\n                        {t('panel.details.station.interchange.noInterchanges')}\n                    </Text>\n\n                    <IconButton\n                        size=\"sm\"\n                        variant=\"ghost\"\n                        aria-label={t('panel.details.station.interchange.add')}\n                        onClick={() => onAdd?.([CityCode.Shanghai, '', '#aaaaaa', MonoColour.white, '', ''])}\n                        icon={<MdAdd />}\n                    />\n                </HStack>\n            )}\n\n            {interchangeList.map((it, i) => (\n                <HStack key={i} spacing={0.5} data-testid={`interchange-card-stack-${i}`}>\n                    <RmgLabel label={t('color')} minW=\"40px\" noLabel={i !== 0}>\n                        <ThemeButton\n                            theme={[it[0], it[1], it[2], it[3]]}\n                            onClick={() => {\n                                setIsModalOpen(true);\n                                setSelectedIndex(i);\n                            }}\n                        />\n                    </RmgLabel>\n\n                    <RmgFields fields={interchangeFields[i]} noLabel={i !== 0} />\n\n                    {onAdd && i === interchangeFields.length - 1 && interchangeFields.length < 3 ? (\n                        <IconButton\n                            size=\"sm\"\n                            variant=\"ghost\"\n                            aria-label={t('panel.details.station.interchange.copy')}\n                            onClick={() => onAdd?.(interchangeList.slice(-1)[0])} // duplicate last leg\n                            icon={<MdContentCopy />}\n                        />\n                    ) : (\n                        <Box minW={8} />\n                    )}\n\n                    {onDelete && (\n                        <IconButton\n                            size=\"sm\"\n                            variant=\"ghost\"\n                            aria-label={t('panel.details.station.interchange.remove')}\n                            onClick={() => onDelete?.(i)}\n                            icon={<MdDelete />}\n                        />\n                    )}\n                </HStack>\n            ))}\n\n            <ColourModal\n                isOpen={isModalOpen}\n                onClose={() => setIsModalOpen(false)}\n                defaultTheme={interchangeList[selectedIndex]?.slice(0, 4) as Theme}\n                onUpdate={theme =>\n                    onUpdate?.(selectedIndex, [\n                        ...theme,\n                        interchangeList[selectedIndex][4],\n                        interchangeList[selectedIndex][5],\n                    ])\n                }\n            />\n        </RmgCard>\n    );\n}\n","import React, { Fragment } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { MdAdd } from 'react-icons/md';\nimport { Button, FormLabel, VStack } from '@chakra-ui/react';\nimport { CityCode, MonoColour } from '@railmapgen/rmg-palette-resources';\nimport { Theme } from '../../../constants/constants';\nimport { StationAttributes, StationType } from '../../../constants/stations';\nimport { useRootDispatch, useRootSelector } from '../../../redux';\nimport { saveGraph } from '../../../redux/param/param-slice';\nimport { setRefresh } from '../../../redux/runtime/runtime-slice';\nimport InterchangeCard from './interchange-card';\n\n/**\n * InterchangeInfo with theme, line code, station code.\n */\nexport type InterchangeInfo = [...Theme, ...string[]];\n\n/**\n * A StationAttributes that have a transfer field.\n * Extend this interface if you want to use <InterchangeField />.\n */\nexport interface StationAttributesWithInterchange extends StationAttributes {\n    transfer: InterchangeInfo[][];\n}\n\n/**\n * This component provides an easy way to modify interchanges in the details panel.\n * It will read the first id in `selected` and change the `transfer` field in the related attrs.\n *\n * Make sure your station has a transfer field in the extended StationAttributes. (a.k.a extends StationAttributesWithInterchange)\n * Fail to do this will result in a redundant transfer field in your StationAttributes.\n */\nexport const InterchangeField = (props: {\n    stationType: StationType;\n    defaultAttrs: StationAttributesWithInterchange;\n}) => {\n    const { stationType, defaultAttrs } = props;\n\n    const { t } = useTranslation();\n    const dispatch = useRootDispatch();\n\n    const hardRefresh = React.useCallback(() => {\n        dispatch(setRefresh());\n        dispatch(saveGraph(graph.current.export()));\n    }, [dispatch, setRefresh, saveGraph]);\n    const { selected } = useRootSelector(state => state.runtime);\n    const selectedFirst = selected.at(0);\n    const graph = React.useRef(window.graph);\n\n    const attr =\n        selectedFirst &&\n        graph.current.hasNode(selectedFirst) &&\n        graph.current.getNodeAttribute(selectedFirst, 'type') === stationType\n            ? (graph.current.getNodeAttribute(selectedFirst, stationType) as StationAttributesWithInterchange)\n            : defaultAttrs;\n    const transfer = attr.transfer ?? defaultAttrs.transfer;\n\n    const handleAdd = (setIndex: number) => (interchangeInfo: InterchangeInfo) => {\n        const newTransferInfo: InterchangeInfo[][] = JSON.parse(JSON.stringify(transfer));\n        if (newTransferInfo.length <= setIndex) {\n            for (let i = newTransferInfo.length; i <= setIndex; i++) {\n                newTransferInfo[i] = [];\n            }\n        }\n        newTransferInfo[setIndex].push(interchangeInfo);\n\n        attr.transfer = newTransferInfo;\n        graph.current.mergeNodeAttributes(selected, { [stationType]: attr });\n        hardRefresh();\n    };\n\n    const handleDelete = (setIndex: number) => (interchangeIndex: number) => {\n        if (transfer.length > setIndex && transfer[setIndex].length > interchangeIndex) {\n            const newTransferInfo = transfer.map((set, setIdx) =>\n                setIdx === setIndex ? set.filter((_, intIdx) => intIdx !== interchangeIndex) : set\n            );\n\n            attr.transfer = newTransferInfo;\n            graph.current.mergeNodeAttributes(selected, { [stationType]: attr });\n            hardRefresh();\n        }\n    };\n\n    const handleUpdate = (setIndex: number) => (interchangeIndex: number, interchangeInfo: InterchangeInfo) => {\n        if (transfer.length > setIndex && transfer[setIndex].length > interchangeIndex) {\n            const newTransferInfo = transfer.map((set, setIdx) =>\n                setIdx === setIndex\n                    ? set.map((int, intIdx) =>\n                          intIdx === interchangeIndex\n                              ? ([0, 1, 2, 3, 4, 5].map(i =>\n                                    interchangeInfo[i] === undefined ? int[i] : interchangeInfo[i]\n                                ) as InterchangeInfo)\n                              : int\n                      )\n                    : set\n            );\n\n            attr.transfer = newTransferInfo;\n            graph.current.mergeNodeAttributes(selected, { [stationType]: attr });\n            hardRefresh();\n        }\n    };\n\n    const handleAddInterchangeGroup = () =>\n        handleAdd(attr.transfer.length)([CityCode.Guangzhou, '', '#AAAAAA', MonoColour.white, '', '']);\n\n    return (\n        <VStack align=\"flex-start\">\n            {attr.transfer.map((infoList, i) => (\n                <Fragment key={i}>\n                    <FormLabel size=\"xs\">\n                        {i === 0\n                            ? t('panel.details.station.interchange.within')\n                            : i === 1\n                            ? t('panel.details.station.interchange.outStation')\n                            : t('panel.details.station.interchange.outSystem')}\n                    </FormLabel>\n\n                    <InterchangeCard\n                        interchangeList={infoList}\n                        onAdd={handleAdd(i)}\n                        onDelete={handleDelete(i)}\n                        onUpdate={handleUpdate(i)}\n                    />\n                </Fragment>\n            ))}\n\n            {attr.transfer.length < 2 && (\n                <Button\n                    size=\"xs\"\n                    variant=\"ghost\"\n                    alignSelf=\"flex-end\"\n                    leftIcon={<MdAdd />}\n                    onClick={handleAddInterchangeGroup}\n                >\n                    {t('panel.details.station.interchange.addGroup')}\n                </Button>\n            )}\n        </VStack>\n    );\n};\n","import React from 'react';\nimport { CityCode } from '@railmapgen/rmg-palette-resources';\nimport { CanvasType, CategoriesType } from '../../../constants/constants';\nimport {\n    defaultStationAttributes,\n    NameOffsetX,\n    NameOffsetY,\n    Station,\n    StationAttributes,\n    StationComponentProps,\n    StationType,\n} from '../../../constants/stations';\nimport { StationNumber } from './gzmtr-basic';\nimport { InterchangeField, StationAttributesWithInterchange } from '../../panels/details/interchange-field';\nimport { MultilineText, NAME_DY } from '../common/multiline-text';\n\nconst CODE_POS = [\n    [[0, 0]],\n    [[0, 0]],\n    [\n        [-18, 0],\n        [18, 0],\n    ],\n    [\n        [-15.588, -9],\n        [15.588, -9],\n        [0, 18],\n    ],\n];\n\nconst GzmtrIntStation = (props: StationComponentProps) => {\n    const { id, x, y, attrs, handlePointerDown, handlePointerMove, handlePointerUp } = props;\n    const {\n        names = defaultStationAttributes.names,\n        nameOffsetX = defaultGzmtrIntStationAttributes.nameOffsetX,\n        nameOffsetY = defaultGzmtrIntStationAttributes.nameOffsetY,\n        transfer = defaultGzmtrIntStationAttributes.transfer,\n    } = attrs[StationType.GzmtrInt] ?? defaultGzmtrIntStationAttributes;\n\n    const onPointerDown = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerDown(id, e),\n        [id, handlePointerDown]\n    );\n    const onPointerMove = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerMove(id, e),\n        [id, handlePointerMove]\n    );\n    const onPointerUp = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerUp(id, e),\n        [id, handlePointerUp]\n    );\n\n    const textX = nameOffsetX === 'left' ? -20 : nameOffsetX === 'right' ? 20 : 0;\n    const textDy =\n        (names[NAME_DY[nameOffsetY].namesPos].split('\\\\').length - 1) *\n        NAME_DY[nameOffsetY].lineHeight *\n        NAME_DY[nameOffsetY].polarity;\n    const textY = textDy + (nameOffsetY === 'top' ? -24 : nameOffsetY === 'bottom' ? 24 : 0);\n    const textAnchor = nameOffsetX === 'left' ? 'end' : nameOffsetX === 'right' ? 'start' : 'middle';\n\n    const transferAll = transfer.flat().slice(0, 3); // slice to make sure at most 3 transfers\n    const arrowColor = [\n        ['black', 'black'],\n        [transferAll.at(0)?.at(2) ?? 'black', transferAll.at(0)?.at(2) ?? 'black'],\n        [transferAll.at(0)?.at(2) ?? 'black', transferAll.at(1)?.at(2) ?? 'black'],\n        [transferAll.at(0)?.at(2) ?? 'black', transferAll.at(1)?.at(2) ?? 'black', transferAll.at(2)?.at(2) ?? 'black'],\n    ];\n\n    return React.useMemo(\n        () => (\n            <g id={id} transform={`translate(${x}, ${y})`}>\n                <circle r={transferAll.length === 3 ? 22.395 : 18} fill=\"white\" />\n                {transferAll\n                    .map(info => info[2])\n                    .filter((color, i, arr) => arr.indexOf(color) === i)\n                    .map(color => (\n                        <marker\n                            key={`gzmtr_int_arrow_${color}`}\n                            id={`gzmtr_int_arrow_${color}`}\n                            markerWidth=\"5\"\n                            markerHeight=\"5\"\n                            refX=\"1\"\n                            refY=\"1.25\"\n                            orient=\"auto\"\n                        >\n                            <polygon points=\"0,0 0,3 2,1.5\" fill={color} />\n                        </marker>\n                    ))}\n                {transferAll.length <= 2 && (\n                    <g>\n                        {/* A simple white mask to hide all underlying lines. */}\n                        <path d=\"M -18,-12 A 24 24 0 0 1 18,-12 L 18,12 A 24 24 0 0 1 -18,12 Z\" fill=\"white\" />\n                        <path\n                            d=\"M -18,-12 A 24 24 0 0 1 18,-12\"\n                            fill=\"none\"\n                            stroke={arrowColor[transferAll.length][0]}\n                            strokeWidth=\"5\"\n                            markerEnd={`url(#gzmtr_int_arrow_${arrowColor[transferAll.length][0]})`}\n                        />\n                        <path\n                            d=\"M 18,12 A 24 24 0 0 1 -18,12\"\n                            fill=\"none\"\n                            stroke={arrowColor[transferAll.length][1]}\n                            strokeWidth=\"5\"\n                            markerEnd={`url(#gzmtr_int_arrow_${arrowColor[transferAll.length][1]})`}\n                        />\n                    </g>\n                )}\n                {transferAll.length >= 3 && (\n                    <g>\n                        <path\n                            d=\"M -19.3948,11.1976 A 22.395 22.395 0 0 1 0,-22.395\"\n                            fill=\"none\"\n                            stroke={arrowColor[transferAll.length][0]}\n                            strokeWidth=\"5\"\n                            markerEnd={`url(#gzmtr_int_arrow_${arrowColor[transferAll.length][0]})`}\n                        />\n                        <path\n                            d=\"M 0,-22.395 A 22.395 22.395 0 0 1 19.3948,11.1976\"\n                            fill=\"none\"\n                            stroke={arrowColor[transferAll.length][1]}\n                            strokeWidth=\"5\"\n                            markerEnd={`url(#gzmtr_int_arrow_${arrowColor[transferAll.length][1]})`}\n                        />\n                        <path\n                            d=\"M 19.3948,11.1976 A 22.395 22.395 0 0 1 -19.3948,11.1976\"\n                            fill=\"none\"\n                            stroke={arrowColor[transferAll.length][2]}\n                            strokeWidth=\"5\"\n                            markerEnd={`url(#gzmtr_int_arrow_${arrowColor[transferAll.length][2]})`}\n                        />\n                        {/* Add another 2 transparent arrows with marker to cover bottom arrows */}\n                        <path\n                            d=\"M -19.3948,11.1976 A 22.395 22.395 0 0 1 0,-22.395\"\n                            fill=\"none\"\n                            strokeOpacity=\"0\"\n                            stroke=\"white\"\n                            strokeWidth=\"5\"\n                            markerEnd={`url(#gzmtr_int_arrow_${arrowColor[transferAll.length][0]})`}\n                        />\n                        <path\n                            d=\"M 0,-22.395 A 22.395 22.395 0 0 1 19.3948,11.1976\"\n                            fill=\"none\"\n                            strokeOpacity=\"0\"\n                            stroke=\"white\"\n                            strokeWidth=\"5\"\n                            markerEnd={`url(#gzmtr_int_arrow_${arrowColor[transferAll.length][1]})`}\n                        />\n                    </g>\n                )}\n\n                {transfer[0]?.map((info, i, arr) => (\n                    <g\n                        key={`gzmtr_int_${id}_stn_${i}`}\n                        transform={`translate(${CODE_POS[arr.length][i][0]},${CODE_POS[arr.length][i][1]})`}\n                    >\n                        <StationNumber strokeColor={info[2]} lineCode={info[4]} stationCode={info[5]} />\n                    </g>\n                ))}\n\n                {/* Below is an overlay element that has all event hooks but can not be seen. */}\n                <circle\n                    id={`stn_core_${id}`}\n                    r={transferAll.length === 3 ? 22.395 : 18}\n                    fill=\"white\"\n                    fillOpacity=\"0\"\n                    onPointerDown={onPointerDown}\n                    onPointerMove={onPointerMove}\n                    onPointerUp={onPointerUp}\n                    style={{ cursor: 'move' }}\n                />\n                <g transform={`translate(${textX}, ${textY})`} textAnchor={textAnchor} className=\"rmp-name-station\">\n                    <MultilineText\n                        text={names[0].split('\\\\')}\n                        fontSize={16}\n                        lineHeight={16}\n                        grow=\"up\"\n                        className=\"rmp-name__zh\"\n                    />\n                    <MultilineText\n                        text={names[1].split('\\\\')}\n                        fontSize={10}\n                        lineHeight={10}\n                        grow=\"down\"\n                        className=\"rmp-name__en\"\n                    />\n                </g>\n            </g>\n        ),\n        [\n            id,\n            x,\n            y,\n            JSON.stringify(names),\n            nameOffsetX,\n            nameOffsetY,\n            JSON.stringify(transferAll),\n            onPointerDown,\n            onPointerMove,\n            onPointerUp,\n        ]\n    );\n};\n\n/**\n * <GzmtrStation /> specific props.\n */\nexport interface GzmtrIntStationAttributes extends StationAttributes, StationAttributesWithInterchange {\n    nameOffsetX: Exclude<NameOffsetX, 'middle'>;\n    nameOffsetY: Exclude<NameOffsetY, 'middle'>;\n}\n\nconst defaultGzmtrIntStationAttributes: GzmtrIntStationAttributes = {\n    ...defaultStationAttributes,\n    nameOffsetX: 'right',\n    nameOffsetY: 'top',\n    transfer: [[], []],\n};\n\nconst gzmtrIntStationFields = [\n    {\n        type: 'textarea',\n        label: 'panel.details.station.gzmtrInt.nameZh',\n        value: (attrs?: GzmtrIntStationAttributes) =>\n            (attrs ?? defaultGzmtrIntStationAttributes).names[0].replaceAll('\\\\', '\\n'),\n        onChange: (val: string | number, attrs_: GzmtrIntStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultGzmtrIntStationAttributes;\n            // set value\n            attrs.names[0] = val.toString().replaceAll('\\n', '\\\\');\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'textarea',\n        label: 'panel.details.station.gzmtrInt.nameEn',\n        value: (attrs?: GzmtrIntStationAttributes) =>\n            (attrs ?? defaultGzmtrIntStationAttributes).names[1].replaceAll('\\\\', '\\n'),\n        onChange: (val: string | number, attrs_: GzmtrIntStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultGzmtrIntStationAttributes;\n            // set value\n            attrs.names[1] = val.toString().replaceAll('\\n', '\\\\');\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'select',\n        label: 'panel.details.station.gzmtrInt.nameOffsetX',\n        value: (attrs?: GzmtrIntStationAttributes) => (attrs ?? defaultGzmtrIntStationAttributes).nameOffsetX,\n        options: { left: 'left', right: 'right' },\n        onChange: (val: string | number, attrs_: GzmtrIntStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultGzmtrIntStationAttributes;\n            // set value\n            attrs.nameOffsetX = val as Exclude<NameOffsetX, 'middle'>;\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'select',\n        label: 'panel.details.station.gzmtrInt.nameOffsetY',\n        value: (attrs?: GzmtrIntStationAttributes) => (attrs ?? defaultGzmtrIntStationAttributes).nameOffsetY,\n        options: { top: 'top', bottom: 'bottom' },\n        onChange: (val: string | number, attrs_: GzmtrIntStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultGzmtrIntStationAttributes;\n            // set value\n            attrs.nameOffsetY = val as Exclude<NameOffsetY, 'middle'>;\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'custom',\n        component: (\n            <InterchangeField stationType={StationType.GzmtrInt} defaultAttrs={defaultGzmtrIntStationAttributes} />\n        ),\n    },\n];\n\nconst gzmtrIntStationIcon = (\n    <svg viewBox=\"0 0 24 24\" height={40} width={40} focusable={false}>\n        <g transform=\"translate(6,12)scale(0.4)\">\n            <StationNumber strokeColor=\"#000\" lineCode=\"1\" stationCode=\"09\" />\n        </g>\n        <g transform=\"translate(18,12)scale(0.4)\">\n            <StationNumber strokeColor=\"#000\" lineCode=\"2\" stationCode=\"13\" />\n        </g>\n        <marker id=\"arrow\" markerWidth=\"5\" markerHeight=\"5\" refX=\"1\" refY=\"1.25\" orient=\"auto\">\n            <polygon points=\"0,0 0,3 2,1.5\" />\n        </marker>\n        <path d=\"M 6,6 A 8 8 0 0 1 18,6\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" markerEnd=\"url(#arrow)\" />\n        <path d=\"M 18,18 A 8 8 0 0 1 6,18\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" markerEnd=\"url(#arrow)\" />\n    </svg>\n);\n\nconst gzmtrIntStation: Station<GzmtrIntStationAttributes> = {\n    component: GzmtrIntStation,\n    icon: gzmtrIntStationIcon,\n    defaultAttrs: defaultGzmtrIntStationAttributes,\n    // TODO: fix this\n    // @ts-ignore-error\n    fields: gzmtrIntStationFields,\n    metadata: {\n        displayName: 'panel.details.station.gzmtrInt.displayName',\n        cities: [CityCode.Guangzhou],\n        canvas: [CanvasType.RailMap],\n        categories: [CategoriesType.Metro],\n        tags: [],\n    },\n};\n\nexport default gzmtrIntStation;\n","import React from 'react';\nimport { CityCode } from '@railmapgen/rmg-palette-resources';\nimport { CanvasType, CategoriesType } from '../../../constants/constants';\nimport {\n    defaultStationAttributes,\n    NameOffsetX,\n    NameOffsetY,\n    Station,\n    StationAttributes,\n    StationComponentProps,\n    StationType,\n} from '../../../constants/stations';\nimport { MultilineText, LINE_HEIGHT, NAME_DY } from '../common/multiline-text';\n\nconst BjsubwayBasicStation = (props: StationComponentProps) => {\n    const { id, x, y, attrs, handlePointerDown, handlePointerMove, handlePointerUp } = props;\n    const {\n        names = defaultStationAttributes.names,\n        nameOffsetX = defaultBjsubwayBasicStationAttributes.nameOffsetX,\n        nameOffsetY = defaultBjsubwayBasicStationAttributes.nameOffsetY,\n        open = defaultBjsubwayBasicStationAttributes.open,\n    } = attrs[StationType.BjsubwayBasic] ?? defaultBjsubwayBasicStationAttributes;\n\n    const onPointerDown = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerDown(id, e),\n        [id, handlePointerDown]\n    );\n    const onPointerMove = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerMove(id, e),\n        [id, handlePointerMove]\n    );\n    const onPointerUp = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerUp(id, e),\n        [id, handlePointerUp]\n    );\n\n    const textX = nameOffsetX === 'left' ? -12 : nameOffsetX === 'right' ? 12 : 0;\n    const textDy =\n        (names[NAME_DY[nameOffsetY].namesPos].split('\\\\').length - 1 + (nameOffsetY === 'top' && !open ? 1 : 0)) *\n        NAME_DY[nameOffsetY].lineHeight *\n        NAME_DY[nameOffsetY].polarity;\n    const textY = textDy + (nameOffsetY === 'top' ? -24 : nameOffsetY === 'bottom' ? 24 : 0);\n    const textAnchor = nameOffsetX === 'left' ? 'end' : nameOffsetX === 'right' ? 'start' : 'middle';\n\n    return React.useMemo(\n        () => (\n            <g id={id} transform={`translate(${x}, ${y})`}>\n                <circle\n                    id={`stn_core_${id}`}\n                    r={5}\n                    stroke=\"black\"\n                    strokeDasharray={open ? undefined : '1.5'}\n                    fill=\"white\"\n                    onPointerDown={onPointerDown}\n                    onPointerMove={onPointerMove}\n                    onPointerUp={onPointerUp}\n                    style={{ cursor: 'move' }}\n                />\n                <g transform={`translate(${textX}, ${textY})`} textAnchor={textAnchor} className=\"rmp-name-station\">\n                    <MultilineText\n                        text={names[0].split('\\\\')}\n                        fontSize={LINE_HEIGHT.zh}\n                        lineHeight={LINE_HEIGHT.zh}\n                        grow=\"up\"\n                        className=\"rmp-name__zh\"\n                    />\n                    <MultilineText\n                        text={names[1].split('\\\\')}\n                        fontSize={LINE_HEIGHT.en}\n                        lineHeight={LINE_HEIGHT.en}\n                        grow=\"down\"\n                        className=\"rmp-name__en\"\n                    />\n                    {!open && (\n                        <text\n                            dy={names[1].split('\\\\').length * LINE_HEIGHT.en + 2}\n                            fontSize={LINE_HEIGHT.en}\n                            dominantBaseline=\"hanging\"\n                            className=\"rmp-name__zh\"\n                        >\n                            ()\n                        </text>\n                    )}\n                </g>\n            </g>\n        ),\n        [id, x, y, ...names, nameOffsetX, nameOffsetY, open, onPointerDown, onPointerMove, onPointerUp]\n    );\n};\n\n/**\n * <BjsubwayBasicStation /> specific props.\n */\nexport interface BjsubwayBasicStationAttributes extends StationAttributes {\n    nameOffsetX: NameOffsetX;\n    nameOffsetY: NameOffsetY;\n    /**\n     * Whether to show a () hint.\n     */\n    open: boolean;\n}\n\nconst defaultBjsubwayBasicStationAttributes: BjsubwayBasicStationAttributes = {\n    ...defaultStationAttributes,\n    nameOffsetX: 'right',\n    nameOffsetY: 'top',\n    open: true,\n};\n\nconst bjsubwayBasicStationFields = [\n    {\n        type: 'textarea',\n        label: 'panel.details.station.bjsubwayBasic.nameZh',\n        value: (attrs?: BjsubwayBasicStationAttributes) =>\n            (attrs ?? defaultBjsubwayBasicStationAttributes).names[0].replaceAll('\\\\', '\\n'),\n        onChange: (val: string | number, attrs_: BjsubwayBasicStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultBjsubwayBasicStationAttributes;\n            // set value\n            attrs.names[0] = val.toString().replaceAll('\\n', '\\\\');\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'textarea',\n        label: 'panel.details.station.bjsubwayBasic.nameEn',\n        value: (attrs?: BjsubwayBasicStationAttributes) =>\n            (attrs ?? defaultBjsubwayBasicStationAttributes).names[1].replaceAll('\\\\', '\\n'),\n        onChange: (val: string | number, attrs_: BjsubwayBasicStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultBjsubwayBasicStationAttributes;\n            // set value\n            attrs.names[1] = val.toString().replaceAll('\\n', '\\\\');\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'select',\n        label: 'panel.details.station.bjsubwayBasic.nameOffsetX',\n        value: (attrs?: BjsubwayBasicStationAttributes) => (attrs ?? defaultBjsubwayBasicStationAttributes).nameOffsetX,\n        options: { left: 'left', middle: 'middle', right: 'right' },\n        disabledOptions: (attrs?: BjsubwayBasicStationAttributes) =>\n            attrs?.nameOffsetY === 'middle' ? ['middle'] : [],\n        onChange: (val: string | number, attrs_: BjsubwayBasicStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultBjsubwayBasicStationAttributes;\n            // set value\n            attrs.nameOffsetX = val as NameOffsetX;\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'select',\n        label: 'panel.details.station.bjsubwayBasic.nameOffsetY',\n        value: (attrs?: BjsubwayBasicStationAttributes) => (attrs ?? defaultBjsubwayBasicStationAttributes).nameOffsetY,\n        options: { top: 'top', middle: 'middle', bottom: 'bottom' },\n        disabledOptions: (attrs?: BjsubwayBasicStationAttributes) =>\n            attrs?.nameOffsetX === 'middle' ? ['middle'] : [],\n        onChange: (val: string | number, attrs_: BjsubwayBasicStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultBjsubwayBasicStationAttributes;\n            // set value\n            attrs.nameOffsetY = val as NameOffsetY;\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'switch',\n        label: 'panel.details.station.bjsubwayBasic.open',\n        oneLine: true,\n        isChecked: (attrs?: BjsubwayBasicStationAttributes) => (attrs ?? defaultBjsubwayBasicStationAttributes).open,\n        onChange: (val: boolean, attrs_: BjsubwayBasicStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultBjsubwayBasicStationAttributes;\n            // set value\n            attrs.open = val;\n            // return modified attrs\n            return attrs;\n        },\n    },\n];\n\nconst bjsubwayBasicStationIcon = (\n    <svg viewBox=\"0 0 24 24\" height={40} width={40} focusable={false}>\n        <circle cx=\"12\" cy=\"12\" r=\"5\" stroke=\"currentColor\" fill=\"none\" />\n    </svg>\n);\n\nconst bjsubwayBasicStation: Station<BjsubwayBasicStationAttributes> = {\n    component: BjsubwayBasicStation,\n    icon: bjsubwayBasicStationIcon,\n    defaultAttrs: defaultBjsubwayBasicStationAttributes,\n    // TODO: fix this\n    // @ts-ignore-error\n    fields: bjsubwayBasicStationFields,\n    metadata: {\n        displayName: 'panel.details.station.bjsubwayBasic.displayName',\n        cities: [CityCode.Shanghai],\n        canvas: [CanvasType.RailMap],\n        categories: [CategoriesType.Metro],\n        tags: [],\n    },\n};\n\nexport default bjsubwayBasicStation;\n","import React from 'react';\nimport { CityCode } from '@railmapgen/rmg-palette-resources';\nimport { CanvasType, CategoriesType } from '../../../constants/constants';\nimport {\n    defaultStationAttributes,\n    NameOffsetX,\n    NameOffsetY,\n    Station,\n    StationAttributes,\n    StationComponentProps,\n    StationType,\n} from '../../../constants/stations';\nimport { MultilineText, NAME_DY } from '../common/multiline-text';\n\nconst PATH_CIRCLE =\n    'M 11.28125 1.140625 L 13.640625 2.890625 L 15.140625 5.34375 L 15.59375 8.015625 L 14.84375 11.296875 L 13.09375 13.640625 L 10.640625 15.140625 L 8 15.59375 L 5.34375 15.140625 L 2.890625 13.640625 L 1.140625 11.28125 L 0.390625 8 L 1.140625 4.703125 L 2.890625 2.34375 L 5.34375 0.84375 L 8.015625 0.390625 Z';\nconst PATH_ARROW =\n    'M 11.440588 5.277981 C 11.453615 5.291885 11.587931 5.437238 11.747473 5.609957 C 11.907014 5.782675 12.1709 6.068339 12.333887 6.244765 C 12.496872 6.42119 12.721814 6.664686 12.833756 6.785865 C 12.945699 6.907044 13.131799 7.108507 13.247311 7.23356 C 13.362823 7.358612 13.541716 7.552304 13.644851 7.663987 C 13.747985 7.77567 13.832122 7.867293 13.831819 7.867597 C 13.831516 7.867898 13.796118 7.857393 13.753154 7.844253 C 13.710191 7.831111 13.586626 7.793118 13.478564 7.759822 C 13.370503 7.726526 13.149901 7.658427 12.988341 7.608488 C 12.826778 7.558551 12.651407 7.504336 12.598626 7.488013 C 12.545845 7.471689 12.444536 7.440359 12.373497 7.418388 C 12.302457 7.396419 12.24303 7.378104 12.241435 7.377691 C 12.238537 7.37694 12.238537 7.37694 12.238452 7.667598 C 12.238405 7.82746 12.237812 8.148848 12.237131 8.381794 C 12.23599 8.772066 12.235702 8.808723 12.233451 8.848493 C 12.232109 8.872231 12.230076 8.906435 12.228933 8.924503 C 12.227791 8.942573 12.225414 8.976198 12.223652 8.999228 C 12.221888 9.022256 12.218693 9.059649 12.216552 9.082325 C 12.214411 9.105 12.210642 9.141523 12.208177 9.163489 C 12.205711 9.185455 12.201398 9.221471 12.198589 9.243523 C 12.195782 9.265575 12.19115 9.299782 12.188296 9.319534 C 12.185443 9.339289 12.180499 9.371973 12.177308 9.392168 C 12.174119 9.412363 12.168339 9.446857 12.164465 9.468823 C 12.160591 9.490789 12.154195 9.525534 12.150251 9.546032 C 12.146309 9.56653 12.139606 9.599867 12.135357 9.620111 C 12.131108 9.640356 12.123926 9.673443 12.119399 9.693637 C 12.114869 9.713832 12.107058 9.747458 12.102037 9.76836 C 12.097017 9.789264 12.088536 9.823179 12.083192 9.843727 C 12.077847 9.864277 12.069181 9.896742 12.063936 9.915874 C 12.058692 9.935006 12.049478 9.967472 12.043463 9.98802 C 12.037446 10.00857 12.027314 10.042194 12.020947 10.062744 C 12.014578 10.083292 12.00405 10.116339 11.997549 10.136179 C 11.99105 10.156019 11.979944 10.188774 11.972873 10.208969 C 11.965799 10.229164 11.954216 10.261629 11.947129 10.281116 C 11.940045 10.300602 11.928874 10.330749 11.922305 10.348108 C 11.915738 10.365469 11.903365 10.397161 11.894812 10.418536 C 11.886259 10.439911 11.873086 10.472087 11.865542 10.490038 C 11.857997 10.50799 11.846004 10.536013 11.838888 10.552309 C 11.831774 10.568606 11.820028 10.594985 11.812787 10.610928 C 11.805546 10.626871 11.791868 10.656439 11.782393 10.676634 C 11.772919 10.696828 11.752564 10.738569 11.737161 10.769393 C 11.721758 10.800217 11.700079 10.842538 11.688987 10.863441 C 11.677894 10.884344 11.660975 10.91565 11.651391 10.933011 C 11.641806 10.950371 11.625526 10.979359 11.615214 10.997427 C 11.604902 11.015496 11.587982 11.044483 11.577617 11.061844 C 11.567249 11.079205 11.550732 11.106453 11.540911 11.122396 C 11.531089 11.138338 11.514559 11.164717 11.504177 11.181015 C 11.493794 11.197311 11.475755 11.22514 11.464087 11.242854 C 11.452422 11.260569 11.4325 11.290136 11.419816 11.308559 C 11.407133 11.326982 11.386632 11.35625 11.374257 11.373598 C 11.361882 11.390946 11.341907 11.418484 11.329866 11.434793 C 11.317827 11.451103 11.296664 11.479178 11.282838 11.497184 C 11.269012 11.515189 11.245138 11.545626 11.229783 11.564821 C 11.214428 11.584017 11.191522 11.612186 11.178879 11.62742 C 11.166237 11.642655 11.145446 11.667295 11.132679 11.682175 C 11.119911 11.697056 11.098126 11.721968 11.084268 11.737535 C 11.070409 11.753103 11.049216 11.776584 11.037173 11.789713 C 11.02513 11.802842 11.004583 11.82489 10.991514 11.838707 C 10.978446 11.852524 10.943078 11.888517 10.912921 11.918692 C 10.882765 11.948866 10.847586 11.983407 10.834745 11.99545 C 10.821907 12.007493 10.800434 12.027446 10.78703 12.039789 C 10.773625 12.052134 10.751954 12.071833 10.738873 12.083565 C 10.725789 12.095299 10.702621 12.115593 10.687387 12.128664 C 10.672152 12.141735 10.647802 12.16233 10.633277 12.174431 C 10.618752 12.186531 10.594981 12.20599 10.580456 12.217671 C 10.565929 12.229353 10.54245 12.247905 10.528278 12.258898 C 10.514107 12.26989 10.490626 12.287798 10.476101 12.298694 C 10.461575 12.309589 10.439254 12.326124 10.4265 12.335437 C 10.413746 12.344749 10.387367 12.363544 10.367881 12.377202 C 10.348394 12.390861 10.31535 12.413427 10.294446 12.42735 C 10.273542 12.441273 10.242983 12.461212 10.226537 12.471661 C 10.210089 12.482109 10.18313 12.498964 10.166629 12.509117 C 10.150127 12.519271 10.121055 12.536686 10.102024 12.547817 C 10.082994 12.558949 10.049368 12.578092 10.027301 12.590355 C 10.005234 12.602619 9.971236 12.621062 9.95175 12.63134 C 9.932264 12.641619 9.900668 12.657854 9.881536 12.66742 C 9.862405 12.676986 9.831677 12.691934 9.813254 12.700637 C 9.794832 12.709341 9.765844 12.722797 9.748838 12.73054 C 9.731832 12.738283 9.704004 12.750604 9.686998 12.757919 C 9.669992 12.765234 9.639845 12.777857 9.620005 12.785967 C 9.600165 12.794079 9.567785 12.806902 9.54805 12.814465 C 9.528315 12.822027 9.498457 12.833195 9.481701 12.839279 C 9.464944 12.845366 9.426305 12.858651 9.395836 12.868803 C 9.365367 12.878956 9.321305 12.893074 9.297922 12.900176 C 9.27454 12.907278 9.238595 12.917776 9.218046 12.923504 C 9.197497 12.929233 9.161552 12.938776 9.138169 12.944712 C 9.114786 12.950647 9.079132 12.959304 9.058937 12.963949 C 9.038743 12.968595 9.005407 12.975908 8.984859 12.980201 C 8.964309 12.984494 8.932134 12.990869 8.913356 12.994366 C 8.894578 12.997863 8.861647 13.00363 8.840174 13.00718 C 8.8187 13.010731 8.785074 13.015954 8.76545 13.018787 C 8.745825 13.021622 8.710927 13.026254 8.687899 13.029081 C 8.664869 13.031908 8.631534 13.03568 8.613819 13.037461 C 8.596105 13.039244 8.564508 13.042139 8.543605 13.043895 C 8.522702 13.04565 8.485599 13.048254 8.461152 13.049679 C 8.436706 13.051105 8.402791 13.052863 8.385785 13.053587 C 8.368778 13.054312 8.316022 13.05514 8.268547 13.05543 C 8.221071 13.05572 8.166865 13.055489 8.148088 13.054915 C 8.12931 13.054342 8.100034 13.053223 8.083027 13.052427 C 8.066021 13.051633 8.037904 13.050098 8.020543 13.049019 C 8.003182 13.047939 7.974485 13.04591 7.956771 13.04451 C 7.939056 13.04311 7.912387 13.040781 7.897508 13.039336 C 7.882627 13.037891 7.857698 13.035282 7.842109 13.033539 C 7.82652 13.031795 7.802291 13.028913 7.788266 13.027136 C 7.774241 13.025358 7.748733 13.021883 7.73158 13.019413 C 7.714427 13.016943 7.685609 13.012562 7.667541 13.009678 C 7.649472 13.006795 7.629471 13.00346 7.623095 13.002269 C 7.611501 13.000101 7.611501 13.000101 7.636622 12.994555 C 7.650439 12.991505 7.676527 12.985559 7.694595 12.981343 C 7.712664 12.977127 7.741941 12.969952 7.759656 12.9654 C 7.777371 12.960847 7.806117 12.953061 7.823535 12.948098 C 7.840954 12.943135 7.871102 12.934138 7.890529 12.928105 C 7.909956 12.922072 7.942084 12.911687 7.961924 12.905026 C 7.981764 12.898365 8.011671 12.887936 8.028384 12.881847 C 8.045095 12.87576 8.073503 12.86504 8.091512 12.858027 C 8.10952 12.851011 8.137588 12.839729 8.153885 12.832955 C 8.170182 12.826181 8.197142 12.814584 8.213793 12.807184 C 8.230444 12.799784 8.258852 12.786846 8.276921 12.778433 C 8.29499 12.77002 8.326876 12.754597 8.347779 12.74416 C 8.368682 12.733724 8.398539 12.718414 8.414128 12.710141 C 8.429717 12.701868 8.458994 12.685846 8.479189 12.674538 C 8.499383 12.66323 8.527211 12.647285 8.541029 12.639106 C 8.554846 12.630927 8.578036 12.616967 8.592562 12.608085 C 8.607087 12.599203 8.630278 12.58469 8.644094 12.575834 C 8.657912 12.566979 8.681393 12.551619 8.696272 12.5417 C 8.711152 12.531783 8.734632 12.515828 8.748449 12.506246 C 8.762267 12.496663 8.786036 12.479852 8.801271 12.468886 C 8.816506 12.457922 8.842595 12.438689 8.859246 12.426147 C 8.875897 12.413605 8.902262 12.393316 8.917833 12.381063 C 8.933404 12.368808 8.957463 12.349505 8.971299 12.338168 C 8.985134 12.326831 9.009177 12.306777 9.024728 12.293604 C 9.040278 12.280432 9.064918 12.258945 9.079482 12.245855 C 9.094046 12.232767 9.117557 12.21134 9.131728 12.198241 C 9.1459 12.185143 9.171699 12.160997 9.189058 12.144587 C 9.206419 12.128176 9.229666 12.105832 9.240718 12.094933 C 9.25177 12.084033 9.273801 12.061763 9.289675 12.045443 C 9.305548 12.029122 9.330596 12.00281 9.345335 11.986971 C 9.360076 11.97113 9.384564 11.944294 9.399755 11.927334 C 9.414946 11.910374 9.437705 11.884508 9.450331 11.869856 C 9.462957 11.855205 9.48393 11.830462 9.496936 11.814873 C 9.509942 11.799284 9.535174 11.768268 9.553007 11.745947 C 9.570842 11.723627 9.59689 11.690317 9.610895 11.671925 C 9.6249 11.653532 9.647423 11.623384 9.660946 11.604931 C 9.67447 11.586477 9.697331 11.554625 9.711749 11.534147 C 9.726167 11.513672 9.749086 11.480335 9.762682 11.46007 C 9.776278 11.439802 9.796456 11.409307 9.807524 11.392301 C 9.818591 11.375295 9.837319 11.345901 9.849143 11.326981 C 9.860967 11.308061 9.879974 11.277044 9.891383 11.258055 C 9.902793 11.239066 9.920535 11.209036 9.93081 11.19132 C 9.941086 11.173607 9.959478 11.14114 9.971683 11.119175 C 9.983888 11.097208 10.001452 11.065033 10.010717 11.047672 C 10.019982 11.030312 10.036373 10.999006 10.047143 10.978102 C 10.057912 10.957199 10.07368 10.925893 10.082182 10.908533 C 10.090686 10.891172 10.104289 10.863054 10.112412 10.846048 C 10.120536 10.829042 10.133455 10.801504 10.141122 10.784853 C 10.148788 10.768202 10.160986 10.741243 10.168226 10.724945 C 10.175467 10.708649 10.187742 10.680531 10.195504 10.662461 C 10.203266 10.644393 10.215696 10.614919 10.223126 10.596964 C 10.230556 10.57901 10.242644 10.549152 10.249988 10.530615 C 10.257331 10.512077 10.269513 10.480679 10.27706 10.460838 C 10.284605 10.440998 10.296892 10.407951 10.304365 10.387403 C 10.311838 10.366854 10.324866 10.33004 10.333318 10.305593 C 10.341768 10.281148 10.355087 10.241435 10.362916 10.217343 C 10.370745 10.193252 10.383221 10.153829 10.390639 10.129737 C 10.398059 10.105645 10.410211 10.064773 10.417645 10.03891 C 10.425078 10.013046 10.436652 9.971594 10.443365 9.946795 C 10.450078 9.921993 10.461591 9.877643 10.468948 9.848236 C 10.476308 9.81883 10.486477 9.776798 10.491548 9.754833 C 10.496618 9.732866 10.504164 9.699242 10.508314 9.680109 C 10.512465 9.660978 10.519329 9.628511 10.523567 9.607964 C 10.527805 9.587414 10.534791 9.55205 10.539091 9.529375 C 10.543391 9.506701 10.550352 9.468437 10.554559 9.444345 C 10.558767 9.420254 10.565132 9.381978 10.568707 9.359289 C 10.572279 9.3366 10.577805 9.300076 10.580984 9.278124 C 10.584165 9.256172 10.58911 9.22024 10.591976 9.198275 C 10.594842 9.176308 10.599497 9.138334 10.602321 9.113888 C 10.605145 9.089442 10.609192 9.052339 10.611313 9.031435 C 10.613434 9.010532 10.616921 8.973429 10.619061 8.948982 C 10.621201 8.924536 10.624384 8.884533 10.626135 8.860087 C 10.627887 8.835642 10.630222 8.800277 10.631326 8.7815 C 10.63243 8.762722 10.633892 8.737503 10.634575 8.725456 C 10.635258 8.713411 10.636455 8.576301 10.637235 8.420767 C 10.638015 8.265233 10.638457 7.967436 10.638219 7.758994 C 10.637981 7.550553 10.637424 7.379649 10.636982 7.379207 C 10.636539 7.378764 10.458989 7.433203 10.242425 7.500182 C 10.02586 7.567161 9.76983 7.646325 9.673469 7.676104 C 9.577106 7.705882 9.421153 7.753998 9.326905 7.783029 C 9.232657 7.812058 9.131698 7.843084 9.102551 7.851975 C 9.073404 7.860867 9.049296 7.86788 9.048977 7.867561 C 9.048658 7.867242 9.153096 7.753597 9.281062 7.615018 C 9.409027 7.476439 9.618952 7.249135 9.74756 7.1099 C 9.876167 6.970664 10.090381 6.738761 10.22359 6.594561 C 10.356798 6.45036 10.574782 6.2144 10.707998 6.070207 C 10.841214 5.926012 11.052899 5.696868 11.17841 5.560997 C 11.303921 5.425126 11.414255 5.305863 11.423599 5.29597 L 11.440588 5.277981 Z M 4.55901 11.11072 C 4.55854 11.110675 4.452765 10.996483 4.323955 10.85696 C 4.195145 10.717439 3.913253 10.412228 3.697528 10.178715 C 3.481803 9.945202 3.133676 9.568354 2.923913 9.341274 C 2.71415 9.114195 2.458143 8.837027 2.355008 8.725344 C 2.251874 8.61366 2.167738 8.522036 2.168041 8.521733 C 2.168343 8.521431 2.203741 8.531938 2.246704 8.545081 C 2.289667 8.558224 2.397287 8.591297 2.48586 8.618576 C 2.574433 8.645855 2.716191 8.689599 2.800876 8.715784 C 2.885562 8.741968 2.974553 8.769506 2.998635 8.776979 C 3.022717 8.784452 3.20279 8.840129 3.398797 8.900705 C 3.594804 8.961283 3.756557 9.011194 3.758248 9.011618 C 3.761323 9.01239 3.761323 9.01239 3.761408 8.720444 C 3.761455 8.559874 3.76205 8.238484 3.76273 8.006247 C 3.763869 7.617239 3.764159 7.580599 3.766408 7.540837 C 3.767752 7.5171 3.769785 7.482895 3.770927 7.464826 C 3.772069 7.446757 3.774446 7.413132 3.776209 7.390102 C 3.777972 7.367074 3.781167 7.32968 3.783308 7.307005 C 3.785449 7.28433 3.789219 7.247807 3.791686 7.225841 C 3.794152 7.203875 3.79822 7.169669 3.800725 7.149829 C 3.80323 7.129989 3.807594 7.097523 3.810423 7.077682 C 3.813252 7.057842 3.818159 7.025086 3.821327 7.004891 C 3.824494 6.984697 3.830009 6.951362 3.833582 6.930813 C 3.837154 6.910264 3.84355 6.87519 3.847794 6.852869 C 3.852038 6.830548 3.859245 6.794431 3.863809 6.772607 C 3.868372 6.750783 3.875839 6.716289 3.880401 6.695951 C 3.884963 6.675614 3.892802 6.641872 3.897822 6.62097 C 3.902842 6.600066 3.911323 6.566152 3.916668 6.545602 C 3.922013 6.525053 3.930678 6.492587 3.935923 6.473455 C 3.941168 6.454324 3.950381 6.421858 3.956397 6.401309 C 3.962413 6.38076 3.972545 6.347135 3.978913 6.326586 C 3.985281 6.306037 3.995809 6.272991 4.002309 6.253151 C 4.00881 6.233311 4.019915 6.200555 4.026988 6.180361 C 4.03406 6.160166 4.045644 6.1277 4.052729 6.108214 C 4.059815 6.088728 4.070986 6.058581 4.077553 6.041221 C 4.084122 6.02386 4.096494 5.992168 4.105048 5.970794 C 4.113602 5.949419 4.126773 5.917243 4.134318 5.899291 C 4.141862 5.881339 4.153857 5.853317 4.160971 5.837021 C 4.168086 5.820724 4.179832 5.794345 4.187073 5.778401 C 4.194314 5.762458 4.207991 5.732891 4.217466 5.712696 C 4.226941 5.692502 4.247297 5.65076 4.262701 5.619937 C 4.278105 5.589113 4.299471 5.547371 4.310183 5.527177 C 4.320894 5.506983 4.338125 5.475097 4.348473 5.456319 C 4.358821 5.437541 4.376262 5.406525 4.387228 5.387393 C 4.398195 5.368261 4.414826 5.339815 4.424186 5.32418 C 4.433546 5.308544 4.449215 5.282746 4.459005 5.26685 C 4.468796 5.250953 4.485301 5.224612 4.495683 5.208315 C 4.506065 5.192018 4.524105 5.16419 4.535771 5.146476 C 4.547438 5.128761 4.56736 5.099194 4.580043 5.08077 C 4.592726 5.062347 4.613228 5.03308 4.625603 5.015732 C 4.637978 4.998384 4.657954 4.970845 4.669993 4.954536 C 4.682033 4.938227 4.703196 4.910151 4.717021 4.892146 C 4.730846 4.874141 4.754722 4.843704 4.770077 4.824509 C 4.785432 4.805313 4.808339 4.777143 4.820981 4.761909 C 4.833623 4.746674 4.854413 4.722034 4.86718 4.707154 C 4.879948 4.692275 4.901733 4.667362 4.915592 4.651794 C 4.929451 4.636226 4.950643 4.612746 4.962686 4.599617 C 4.97473 4.586487 4.995276 4.56444 5.008345 4.550623 C 5.021414 4.536805 5.056781 4.500813 5.086938 4.470638 C 5.117095 4.440464 5.152274 4.405923 5.165114 4.39388 C 5.177953 4.381836 5.199425 4.361883 5.21283 4.34954 C 5.226234 4.337196 5.247905 4.317498 5.260988 4.305764 C 5.27407 4.294031 5.297238 4.273737 5.312473 4.260666 C 5.327707 4.247595 5.352057 4.226999 5.366583 4.214899 C 5.381108 4.202798 5.404879 4.18334 5.419404 4.171658 C 5.43393 4.159976 5.45741 4.141415 5.471581 4.130409 C 5.485753 4.119404 5.513871 4.098057 5.534066 4.082971 C 5.55426 4.067884 5.583538 4.046452 5.599126 4.035341 C 5.614715 4.024232 5.641384 4.005539 5.65839 3.993802 C 5.675395 3.982066 5.703128 3.963359 5.720018 3.952231 C 5.736908 3.941103 5.763287 3.924033 5.778637 3.9143 C 5.793987 3.904566 5.819302 3.888762 5.834891 3.879179 C 5.85048 3.869596 5.878805 3.852647 5.897835 3.841514 C 5.916866 3.830381 5.950491 3.811238 5.972558 3.798974 C 5.994626 3.786711 6.028624 3.768267 6.04811 3.757989 C 6.067595 3.747711 6.099192 3.731475 6.118323 3.72191 C 6.137455 3.712343 6.168761 3.697124 6.187893 3.688087 C 6.207025 3.679051 6.237953 3.664736 6.256621 3.656275 C 6.275289 3.647813 6.304566 3.634922 6.321681 3.627627 C 6.338797 3.620333 6.366433 3.608807 6.383097 3.602014 C 6.39976 3.59522 6.429907 3.583312 6.45009 3.575552 C 6.470273 3.567791 6.5007 3.556389 6.517706 3.550214 C 6.534712 3.544038 6.573555 3.530679 6.604024 3.520527 C 6.634493 3.510373 6.678554 3.496256 6.701937 3.489154 C 6.72532 3.482052 6.761264 3.471554 6.781814 3.465825 C 6.802362 3.460097 6.838307 3.450554 6.86169 3.444619 C 6.885073 3.438683 6.920728 3.430026 6.940922 3.425381 C 6.961117 3.420735 6.994452 3.413422 7.015001 3.409128 C 7.035551 3.404836 7.067726 3.398461 7.086504 3.394964 C 7.105281 3.391467 7.138213 3.3857 7.159686 3.38215 C 7.181159 3.378599 7.214785 3.373376 7.234409 3.370542 C 7.254035 3.367708 7.288932 3.363076 7.311962 3.360249 C 7.334991 3.357421 7.368326 3.35365 7.38604 3.351868 C 7.403755 3.350086 7.435351 3.347191 7.456254 3.345435 C 7.477158 3.343679 7.514261 3.341078 7.538708 3.339654 C 7.563154 3.338231 7.597939 3.336467 7.616007 3.335733 C 7.634076 3.334999 7.678427 3.33403 7.714565 3.333579 C 7.754577 3.33308 7.802688 3.333353 7.8376 3.334277 C 7.869132 3.335112 7.906526 3.336362 7.920698 3.337054 C 7.934869 3.337748 7.960958 3.339205 7.978673 3.340292 C 7.996387 3.34138 8.025374 3.343417 8.043089 3.344818 C 8.060803 3.346219 8.087472 3.348548 8.102352 3.349994 C 8.117232 3.351439 8.142161 3.354048 8.15775 3.355791 C 8.173339 3.357535 8.197568 3.360415 8.211594 3.362193 C 8.225618 3.363971 8.251127 3.367447 8.26828 3.369917 C 8.285433 3.372387 8.31396 3.376728 8.331675 3.379564 C 8.349389 3.382401 8.369372 3.385738 8.376081 3.386984 C 8.388279 3.389246 8.388279 3.389246 8.363197 3.394783 C 8.349403 3.397829 8.323333 3.40377 8.305264 3.407987 C 8.287195 3.412203 8.257918 3.419377 8.240204 3.42393 C 8.222488 3.428483 8.193743 3.436269 8.176324 3.441232 C 8.158905 3.446195 8.128757 3.455192 8.109331 3.461225 C 8.089904 3.467257 8.057775 3.477643 8.037935 3.484303 C 8.018095 3.490964 7.988188 3.501394 7.971476 3.507483 C 7.954764 3.51357 7.926356 3.524291 7.908348 3.531308 C 7.89034 3.538325 7.862038 3.549712 7.845454 3.556612 C 7.828871 3.563512 7.801912 3.575107 7.785547 3.582378 C 7.769181 3.58965 7.741007 3.602484 7.722939 3.610897 C 7.70487 3.61931 7.672984 3.634732 7.652081 3.645169 C 7.631177 3.655606 7.601321 3.670915 7.585732 3.679188 C 7.570143 3.687462 7.540865 3.703484 7.520671 3.714791 C 7.500476 3.7261 7.472649 3.742044 7.458831 3.750223 C 7.445014 3.758403 7.421824 3.772363 7.407298 3.781244 C 7.392772 3.790127 7.369582 3.80464 7.355765 3.813495 C 7.341947 3.822351 7.318467 3.83771 7.303587 3.847629 C 7.288707 3.857547 7.265227 3.873502 7.25141 3.883084 C 7.237592 3.892667 7.213823 3.909481 7.198588 3.92045 C 7.183353 3.931419 7.159294 3.949104 7.145123 3.959751 C 7.130951 3.970396 7.106022 3.98953 7.089725 4.002269 C 7.073427 4.015007 7.047628 4.035613 7.032394 4.048059 C 7.017159 4.060504 6.991677 4.081709 6.975768 4.095181 C 6.959858 4.108654 6.934928 4.130385 6.92037 4.143474 C 6.90581 4.156563 6.882303 4.177989 6.868132 4.191089 C 6.85396 4.204187 6.828161 4.228332 6.810801 4.244742 C 6.79344 4.261153 6.770194 4.283498 6.759141 4.294397 C 6.748089 4.305296 6.726058 4.327566 6.710185 4.343887 C 6.694312 4.360207 6.669264 4.386519 6.654524 4.402359 C 6.639784 4.418199 6.615295 4.445035 6.600105 4.461996 C 6.584914 4.478956 6.562154 4.504822 6.549529 4.519473 C 6.536902 4.534125 6.51593 4.558867 6.502924 4.574457 C 6.489918 4.590046 6.464685 4.621062 6.446852 4.643382 C 6.429018 4.665703 6.402969 4.699014 6.388964 4.717405 C 6.374959 4.735798 6.352437 4.765944 6.338913 4.784399 C 6.32539 4.802853 6.302528 4.834705 6.288111 4.855182 C 6.273693 4.875659 6.250773 4.908994 6.237177 4.929261 C 6.223581 4.949528 6.203403 4.980022 6.192336 4.997029 C 6.181269 5.014035 6.16254 5.043429 6.150717 5.062349 C 6.138893 5.081269 6.119885 5.112286 6.108476 5.131274 C 6.097066 5.150264 6.079324 5.180294 6.069049 5.198009 C 6.058774 5.215723 6.040381 5.248189 6.028177 5.270155 C 6.015972 5.292121 5.998407 5.324297 5.989142 5.341658 C 5.979877 5.359017 5.963487 5.390324 5.952717 5.411227 C 5.941948 5.432131 5.92618 5.463437 5.917677 5.480797 C 5.909174 5.498158 5.895571 5.526275 5.887447 5.543282 C 5.879323 5.560287 5.866405 5.587826 5.858737 5.604477 C 5.851071 5.621128 5.838874 5.648087 5.831634 5.664384 C 5.824393 5.680681 5.812117 5.708799 5.804355 5.726869 C 5.796593 5.744937 5.784163 5.77441 5.776733 5.792365 C 5.769303 5.81032 5.757215 5.840178 5.749872 5.858714 C 5.742528 5.877252 5.730346 5.908651 5.7228 5.928492 C 5.715255 5.948332 5.702967 5.981378 5.695494 6.001926 C 5.688022 6.022476 5.674994 6.05929 5.666543 6.083735 C 5.658092 6.108182 5.644772 6.147894 5.636943 6.171987 C 5.629115 6.196078 5.616639 6.2355 5.60922 6.259593 C 5.601801 6.283685 5.589649 6.324556 5.582215 6.35042 C 5.574781 6.376284 5.563207 6.417735 5.556494 6.442535 C 5.549782 6.467336 5.538269 6.511686 5.530911 6.541093 C 5.523552 6.570499 5.513383 6.612531 5.508312 6.634497 C 5.503242 6.656463 5.495696 6.690088 5.491545 6.70922 C 5.487394 6.728352 5.48053 6.760818 5.476292 6.781366 C 5.472054 6.801915 5.465069 6.83728 5.460769 6.859955 C 5.456468 6.882629 5.449508 6.920893 5.4453 6.944984 C 5.441093 6.969076 5.434727 7.007352 5.431154 7.03004 C 5.42758 7.05273 5.422055 7.089253 5.418875 7.111205 C 5.415696 7.133157 5.410749 7.169089 5.407883 7.191055 C 5.405017 7.213021 5.400362 7.250995 5.397538 7.275441 C 5.394714 7.299888 5.390668 7.336991 5.388546 7.357894 C 5.386425 7.378798 5.382939 7.415901 5.380799 7.440348 C 5.378659 7.464793 5.375475 7.504796 5.373724 7.529243 C 5.371973 7.553688 5.369637 7.589053 5.368533 7.60783 C 5.367429 7.626608 5.365967 7.651827 5.365284 7.663873 C 5.364602 7.675919 5.363405 7.813029 5.362625 7.968563 C 5.361845 8.124097 5.361403 8.421894 5.36164 8.630335 C 5.361878 8.838777 5.362435 9.009682 5.362877 9.010123 C 5.36332 9.010565 5.540871 8.956126 5.757435 8.889147 C 5.974 8.822168 6.23003 8.743004 6.326391 8.713226 C 6.422753 8.683448 6.578706 8.635332 6.672954 8.606302 C 6.767202 8.577271 6.868162 8.546246 6.897308 8.537354 C 6.926455 8.528463 6.950563 8.52145 6.950882 8.521769 C 6.951201 8.522088 6.846763 8.635731 6.718796 8.77431 C 6.59083 8.912889 6.380905 9.140192 6.252297 9.279428 C 6.123689 9.418663 5.909475 9.650566 5.776268 9.794767 C 5.64306 9.938969 5.425077 10.174929 5.291862 10.319123 C 5.158646 10.463318 4.946957 10.692462 4.821442 10.828333 C 4.695926 10.964205 4.585724 11.083344 4.576548 11.093086 C 4.567372 11.102829 4.55948 11.110764 4.55901 11.11072 Z';\n\nconst BjsubwayIntStation = (props: StationComponentProps) => {\n    const { id, x, y, attrs, handlePointerDown, handlePointerMove, handlePointerUp } = props;\n    const {\n        names = defaultStationAttributes.names,\n        nameOffsetX = defaultBjsubwayIntStationAttributes.nameOffsetX,\n        nameOffsetY = defaultBjsubwayIntStationAttributes.nameOffsetY,\n    } = attrs[StationType.BjsubwayInt] ?? defaultBjsubwayIntStationAttributes;\n\n    const onPointerDown = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerDown(id, e),\n        [id, handlePointerDown]\n    );\n    const onPointerMove = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerMove(id, e),\n        [id, handlePointerMove]\n    );\n    const onPointerUp = React.useCallback(\n        (e: React.PointerEvent<SVGElement>) => handlePointerUp(id, e),\n        [id, handlePointerUp]\n    );\n\n    const textX = nameOffsetX === 'left' ? -12 : nameOffsetX === 'right' ? 12 : 0;\n    const textDy =\n        (names[NAME_DY[nameOffsetY].namesPos].split('\\\\').length - 1) *\n        NAME_DY[nameOffsetY].lineHeight *\n        NAME_DY[nameOffsetY].polarity;\n    const textY = textDy + (nameOffsetY === 'top' ? -24 : nameOffsetY === 'bottom' ? 24 : 0);\n    const textAnchor = nameOffsetX === 'left' ? 'end' : nameOffsetX === 'right' ? 'start' : 'middle';\n\n    return React.useMemo(\n        () => (\n            <g id={id}>\n                <g transform={`translate(${x - 8}, ${y - 8})`}>\n                    <path d={PATH_CIRCLE} fill=\"#fff\" stroke=\"#000\" strokeWidth=\"0.778\" />\n                    <path d={PATH_ARROW} stroke=\"#000\" strokeWidth=\"0.778\" />\n                    <path\n                        id={`stn_core_${id}`}\n                        d={PATH_CIRCLE}\n                        fill=\"#fff\"\n                        fillOpacity=\"0\"\n                        stroke=\"#000\"\n                        strokeWidth=\"0.778\"\n                        onPointerDown={onPointerDown}\n                        onPointerMove={onPointerMove}\n                        onPointerUp={onPointerUp}\n                        style={{ cursor: 'move' }}\n                    />\n                </g>\n                <g\n                    transform={`translate(${x + textX}, ${y + textY})`}\n                    textAnchor={textAnchor}\n                    className=\"rmp-name-station\"\n                >\n                    <MultilineText\n                        text={names[0].split('\\\\')}\n                        fontSize={16}\n                        lineHeight={16}\n                        grow=\"up\"\n                        className=\"rmp-name__zh\"\n                    />\n                    <MultilineText\n                        text={names[1].split('\\\\')}\n                        fontSize={10}\n                        lineHeight={10}\n                        grow=\"down\"\n                        className=\"rmp-name__en\"\n                    />\n                </g>\n            </g>\n        ),\n        [id, x, y, ...names, nameOffsetX, nameOffsetY, onPointerDown, onPointerMove, onPointerUp]\n    );\n};\n\n/**\n * <BjsubwayIntStation /> specific props.\n */\nexport interface BjsubwayIntStationAttributes extends StationAttributes {\n    nameOffsetX: NameOffsetX;\n    nameOffsetY: NameOffsetY;\n}\n\nconst defaultBjsubwayIntStationAttributes: BjsubwayIntStationAttributes = {\n    ...defaultStationAttributes,\n    nameOffsetX: 'right',\n    nameOffsetY: 'top',\n};\n\nconst bjsubwayIntStationFields = [\n    {\n        type: 'textarea',\n        label: 'panel.details.station.bjsubwayInt.nameZh',\n        value: (attrs?: BjsubwayIntStationAttributes) =>\n            (attrs ?? defaultBjsubwayIntStationAttributes).names[0].replaceAll('\\\\', '\\n'),\n        onChange: (val: string | number, attrs_: BjsubwayIntStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultBjsubwayIntStationAttributes;\n            // set value\n            attrs.names[0] = val.toString().replaceAll('\\n', '\\\\');\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'textarea',\n        label: 'panel.details.station.bjsubwayInt.nameEn',\n        value: (attrs?: BjsubwayIntStationAttributes) =>\n            (attrs ?? defaultBjsubwayIntStationAttributes).names[1].replaceAll('\\\\', '\\n'),\n        onChange: (val: string | number, attrs_: BjsubwayIntStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultBjsubwayIntStationAttributes;\n            // set value\n            attrs.names[1] = val.toString().replaceAll('\\n', '\\\\');\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'select',\n        label: 'panel.details.station.bjsubwayInt.nameOffsetX',\n        value: (attrs?: BjsubwayIntStationAttributes) => (attrs ?? defaultBjsubwayIntStationAttributes).nameOffsetX,\n        options: { left: 'left', middle: 'middle', right: 'right' },\n        disabledOptions: (attrs?: BjsubwayIntStationAttributes) => (attrs?.nameOffsetY === 'middle' ? ['middle'] : []),\n        onChange: (val: string | number, attrs_: BjsubwayIntStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultBjsubwayIntStationAttributes;\n            // set value\n            attrs.nameOffsetX = val as NameOffsetX;\n            // return modified attrs\n            return attrs;\n        },\n    },\n    {\n        type: 'select',\n        label: 'panel.details.station.bjsubwayInt.nameOffsetY',\n        value: (attrs?: BjsubwayIntStationAttributes) => (attrs ?? defaultBjsubwayIntStationAttributes).nameOffsetY,\n        options: { top: 'top', middle: 'middle', bottom: 'bottom' },\n        disabledOptions: (attrs?: BjsubwayIntStationAttributes) => (attrs?.nameOffsetX === 'middle' ? ['middle'] : []),\n        onChange: (val: string | number, attrs_: BjsubwayIntStationAttributes | undefined) => {\n            // set default value if switched from another type\n            const attrs = attrs_ ?? defaultBjsubwayIntStationAttributes;\n            // set value\n            attrs.nameOffsetY = val as NameOffsetY;\n            // return modified attrs\n            return attrs;\n        },\n    },\n];\n\nconst bjsubwayIntStationIcon = (\n    <svg viewBox=\"0 0 24 24\" height={40} width={40} focusable={false}>\n        <g transform=\"translate(4, 4)\">\n            <path d={PATH_CIRCLE} fill=\"#fff\" stroke=\"#000\" strokeWidth=\"0.778\" />\n            <path d={PATH_ARROW} stroke=\"#000\" strokeWidth=\"0.778\" />\n        </g>\n    </svg>\n);\n\nconst bjsubwayIntStation: Station<BjsubwayIntStationAttributes> = {\n    component: BjsubwayIntStation,\n    icon: bjsubwayIntStationIcon,\n    defaultAttrs: defaultBjsubwayIntStationAttributes,\n    // TODO: fix this\n    // @ts-ignore-error\n    fields: bjsubwayIntStationFields,\n    metadata: {\n        displayName: 'panel.details.station.bjsubwayInt.displayName',\n        cities: [CityCode.Shanghai],\n        canvas: [CanvasType.RailMap],\n        categories: [CategoriesType.Metro],\n        tags: ['interchange'],\n    },\n};\n\nexport default bjsubwayIntStation;\n","import { StationType } from '../../../constants/stations';\nimport shmetroIntStation from './shmetro-int';\nimport shmetroBasicStation from './shmetro-basic';\nimport shmetroBasic2020Station from './shmetro-basic-2020';\nimport gzmtrBasicStation from './gzmtr-basic';\nimport gzmtrIntStation from './gzmtr-int';\nimport bjsubwayBasicStation from './bjsubway-basic';\nimport bjsubwayIntStation from './bjsubway-int';\n\nconst stations = {\n    [StationType.ShmetroBasic]: shmetroBasicStation,\n    [StationType.ShmetroBasic2020]: shmetroBasic2020Station,\n    [StationType.ShmetroInt]: shmetroIntStation,\n    [StationType.GzmtrBasic]: gzmtrBasicStation,\n    [StationType.GzmtrInt]: gzmtrIntStation,\n    [StationType.BjsubwayBasic]: bjsubwayBasicStation,\n    [StationType.BjsubwayInt]: bjsubwayIntStation,\n};\n\nexport default stations;\n","import { CityCode, ColourHex, MonoColour } from '@railmapgen/rmg-palette-resources';\nimport { ExternalStationAttributes, StationType } from './stations';\nimport { ExternalLinePathAttributes, ExternalLineStyleAttributes, LinePathType, LineStyleType } from './lines';\nimport { MiscNodeAttributes, MiscNodeType } from './nodes';\nimport { MiscEdgeType } from './edges';\n\n/**\n * Attributes shared both in nodes and edges.\n */\ninterface BaseAttributes {\n    visible: boolean;\n    zIndex: number;\n}\n\nexport type NodeType = StationType | MiscNodeType;\nexport type NodeAttributes = BaseAttributes & {\n    x: number;\n    y: number;\n    type: NodeType;\n} & Partial<ExternalStationAttributes> &\n    Partial<MiscNodeAttributes>;\n\nexport type EdgeType = LinePathType;\nexport type EdgeAttributes = BaseAttributes & {\n    type: EdgeType;\n    style: LineStyleType;\n    /**\n     * Unique ID to reconcile lines.\n     */\n    reconcileId: string;\n} & Partial<ExternalLinePathAttributes> &\n    Partial<ExternalLineStyleAttributes>;\n\nexport type GraphAttributes = {\n    name?: string;\n};\n\n/**\n * Colour theme of line, derived from `LineEntry`.\n * @property 0 - city id\n * @property 1 - line id\n * @property 2 - background colour\n * @property 3 - foreground colour\n */\nexport type Theme = [CityCode, string, ColourHex, MonoColour];\n\nexport type StnId = `stn_${string}`;\nexport type LineId = `line_${string}`;\nexport type MiscNodeId = `misc_node_${string}`;\nexport type MiscEdgeId = `misc_edge_${string}`;\n\n/**\n * Indicate which station/line/node/edge is currently in mouse control. (Runtime only)\n */\nexport type ActiveType = StnId | LineId | MiscNodeId | MiscEdgeId | 'background';\n\n/**\n * Indicate which element will be placed by next click. (Runtime only)\n */\nexport type RuntimeMode =\n    | 'free'\n    | `line-${LinePathType}`\n    | `station-${StationType}`\n    | `misc-node-${MiscNodeType}`\n    | `misc-edge-${MiscEdgeType}`;\n\n/**\n * Stations and lines may be in different displaying format.\n * E.g. Station's icon of Rail map and platform are different in Shanghai metro.\n */\nexport enum CanvasType {\n    RailMap = 'railmap',\n    Platform = 'platform',\n}\n\n/**\n * Categories of different railway class.\n */\nexport enum CategoriesType {\n    Metro = 'metro',\n    NationalRail = 'nationalrail',\n    LightRail = 'lightrail',\n    Footpath = 'footpath',\n}\n\n/**\n * RmgRuntime statistics event.\n */\nexport enum Events {\n    APP_LOAD = 'APP_LOAD',\n}\n"],"names":["MultilineText","React","props","ref","text","lineHeight","grow","dominantBaseline","otherSvgTextProps","reverse","map","t","i","dy","JSON","stringify","displayName","LINE_HEIGHT","LanguageCode","NAME_DY","top","namesPos","polarity","middle","bottom","defaultShmetroIntStationAttributes","defaultStationAttributes","nameOffsetX","nameOffsetY","rotate","height","width","shmetroIntStationFields","type","label","value","attrs","names","replaceAll","onChange","val","attrs_","toString","options","left","right","disabledOptions","validator","Number","isInteger","Math","abs","component","id","x","y","handlePointerDown","handlePointerMove","handlePointerUp","StationType","onPointerDown","e","onPointerMove","onPointerUp","textX","textY","split","length","textAnchor","transform","ry","stroke","fill","style","cursor","className","fontSize","icon","viewBox","focusable","defaultAttrs","fields","metadata","cities","CityCode","canvas","CanvasType","categories","CategoriesType","tags","defaultShmetroBasicStationAttributes","shmetroBasicStationFields","r","cx","cy","ROTATE_CONST","textDx","textDy","defaultShmetroBasic2020StationAttributes","color","MonoColour","shmetroBasic2020StationFields","PATH","TEXT_MAX_WIDTH","StationNumber","strokeColor","lineCode","stationCode","lineCodeEl","stnCodeEl","lineCodeBBox","setlineCodeBBox","stnCodeBBox","setstnCodeBBox","current","getBBox","lineCodeScale","max","stnCodeScale","d","strokeWidth","defaultGzmtrBasicStationAttributes","gzmtrBasicStationFields","fillOpacity","InterchangeCard","interchangeList","onAdd","onDelete","onUpdate","useTranslation","useState","isModalOpen","setIsModalOpen","selectedIndex","setSelectedIndex","interchangeFields","it","minW","direction","spacing","as","flex","align","colorScheme","size","variant","onClick","noLabel","theme","slice","isOpen","onClose","defaultTheme","InterchangeField","stationType","dispatch","useRootDispatch","hardRefresh","setRefresh","saveGraph","graph","export","selected","useRootSelector","state","runtime","selectedFirst","at","window","attr","hasNode","getNodeAttribute","transfer","handleAdd","setIndex","interchangeInfo","newTransferInfo","parse","push","mergeNodeAttributes","handleUpdate","interchangeIndex","set","setIdx","int","intIdx","undefined","infoList","Fragment","filter","_","alignSelf","leftIcon","CODE_POS","defaultGzmtrIntStationAttributes","gzmtrIntStationFields","transferAll","flat","arrowColor","info","arr","indexOf","markerWidth","markerHeight","refX","refY","orient","points","markerEnd","strokeOpacity","defaultBjsubwayBasicStationAttributes","open","bjsubwayBasicStationFields","oneLine","isChecked","strokeDasharray","zh","en","PATH_CIRCLE","PATH_ARROW","defaultBjsubwayIntStationAttributes","bjsubwayIntStationFields","shmetroBasicStation","shmetroBasic2020Station","shmetroIntStation","gzmtrBasicStation","gzmtrIntStation","bjsubwayBasicStation","bjsubwayIntStation","Events"],"sourceRoot":""}