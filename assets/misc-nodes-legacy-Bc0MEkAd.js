!function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function t(t){for(var l=1;l<arguments.length;l++){var a=null!=arguments[l]?arguments[l]:{};l%2?e(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function n(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}System.register(["./index-legacy-B0D2UKON.js","./chakra-legacy-B5bKWenG.js","./react-legacy-BoWZMSeR.js","./master-manager-legacy-CS9nDjsS.js"],(function(e,n){"use strict";var l,a,o,i,r,s,d,c,m,h,u,x,p,g,f,y,j,b,w,v,C,N,P,B,S,_,k;return{setters:[e=>{l=e.aY,a=e.aZ,o=e.X,i=e.Y,r=e.T,s=e.R,d=e.M,c=e.G,m=e.ao,h=e.j,u=e.C,x=e.a_,p=e.aH},e=>{g=e.j,f=e.h,y=e.aM,j=e.a2,b=e.t},e=>{w=e.b,v=e.u},e=>{C=e.t,N=e.o,P=e.p,B=e.M,S=e.L,_=e.q,k=e.r}],execute:function(){const n={component:e=>{const{id:t,x:n,y:l,handlePointerDown:a,handlePointerMove:o,handlePointerUp:i}=e,r=w.useCallback((e=>a(t,e)),[t,a]),s=w.useCallback((e=>o(t,e)),[t,o]),d=w.useCallback((e=>i(t,e)),[t,i]);return g.jsxs("g",{id:t,transform:`translate(${n}, ${l})rotate(45)`,onPointerDown:r,onPointerMove:s,onPointerUp:d,style:{cursor:"move"},className:"removeMe",children:[g.jsx("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"black"}),g.jsx("line",{x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"black"}),g.jsx("circle",{id:`virtual_circle_${t}`,r:5,stroke:"black",fill:"white",fillOpacity:"0"})]})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,transform:"rotate(45)",focusable:!1,children:[g.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),g.jsx("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:"currentColor"}),g.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"18",stroke:"currentColor"})]}),defaultAttrs:{},attrsComponent:()=>{},metadata:{displayName:"panel.details.nodes.virtual.displayName",tags:[]}},z=t({contents:{}},N),L={component:e=>{const{id:t,x:n,y:a,attrs:o,handlePointerDown:i,handlePointerMove:r,handlePointerUp:s}=e,d=l();o.content=d(o.contents);const c=C.component;return g.jsx(c,{id:t,x:n,y:a,handlePointerDown:i,handlePointerMove:r,handlePointerUp:s,attrs:o})},icon:C.icon,defaultAttrs:z,attrsComponent:C.attrsComponent,metadata:{displayName:"panel.details.nodes.i18nText.displayName",tags:[]}},T={randomId:void 0,label:void 0,transform:a,nodeType:"MiscNode",svgs:[],components:[]},A={component:e=>{var n;const{id:l,x:o,y:i,attrs:r,handlePointerDown:s,handlePointerMove:d,handlePointerUp:c}=e,m=w.useCallback((e=>s(l,e)),[l,s]),h=w.useCallback((e=>d(l,e)),[l,d]),u=w.useCallback((e=>c(l,e)),[l,c]),x=(e,...t)=>new Function(...t,`return ${e}`),p="MiscNode"===r.nodeType?{onPointerDown:m,onPointerMove:h,onPointerUp:u,style:{cursor:"move"}}:{},f=e=>e.map((e=>{var n,a;const o="Station"===r.nodeType&&r.core&&r.core===e.id?{id:`stn_core_${l}`,onPointerDown:m,onPointerMove:h,onPointerUp:u,style:{cursor:"move"}}:{},i=((e,t,n)=>{const l={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i))try{var a;l[i]=x(e[i].slice(1),...r.components.map((e=>e.label)),"color")(...t.map(((e,t)=>"number"!==n[t]||Number.isNaN(Number(e))?e:Number(e))),r.color?null!==(a=r.color.value)&&void 0!==a?a:r.color.defaultValue:"")}catch(o){l[i]=""}return l})(e.attrs,r.components.map((e=>e.value)),r.components.map((e=>e.type)));return g.jsx("g",{transform:`translate(${null!==(n=i.x)&&void 0!==n?n:0}, ${null!==(a=i.y)&&void 0!==a?a:0})`,children:w.createElement(e.type,t(t({},i),{},{x:0,y:0},o),e.children?f(e.children):"_rmp_children_text"in i?"style"===e.type?(s=i._rmp_children_text,s.replace(/(^|,)\s*([^{},]+)/g,`$1 #${l} $2`)):i._rmp_children_text:null)},e.id);var s})),y=null!==(n=r.transform)&&void 0!==n?n:a,j=w.useMemo((()=>f(r.svgs)),[r]);return w.createElement("g",t({id:l,transform:`translate(${o}, ${i})`},p),r.randomId?g.jsx("g",{transform:`translate(${y.translateX}, ${y.translateY}) scale(${y.scale}) rotate(${y.rotate})`,children:j}):g.jsxs("g",{children:[g.jsx("circle",{r:"5.5"}),g.jsx("g",{transform:"translate(-4.7, -5) scale(0.8)",children:g.jsx("polygon",{points:"6,1 7.5,4.25 11,4.65 8.5,7.1 9.2,10.75 6,9 2.8,10.75 3.5,7.1 1,4.65 4.5,4.25",fill:"white"})})]}))},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),g.jsx("g",{transform:"translate(7.25, 7) scale(0.8)",children:g.jsx("polygon",{points:"6,1 7.5,4.25 11,4.65 8.5,7.1 9.2,10.75 6,9 2.8,10.75 3.5,7.1 1,4.65 4.5,4.25",fill:"currentColor"})})]}),defaultAttrs:T,attrsComponent:e=>{var n,l,a,u,x;const{id:p,attrs:C,handleAttrsUpdate:N}=e,{t:S}=v(),[_,k]=w.useState(!1),[z,L]=w.useState(!1),T=C.components.map(((e,n)=>{const{label:l,type:a,defaultValue:o,value:i}=e;return"number"===a||"text"===a?{label:S(l),type:"input",value:null!=i?i:o,onChange:e=>{C.components[n].value=e,N(p,t(t({},C),{},{components:C.components}))}}:"switch"===a?{label:S(l),type:"switch",isChecked:void 0!==i?!!i:o,onChange:e=>{C.components[n].value=e,N(p,t(t({},C),{},{components:C.components}))}}:"textarea"===a?{label:S(l),type:"textarea",value:null!=i?i:o,onChange:e=>{C.components[n].value=e,N(p,t(t({},C),{},{components:C.components}))}}:{type:"input",label:"undefined",value:"none"}})),{theme:A,requestThemeChange:M}=o({theme:null===(n=C.color)||void 0===n?void 0:n.value,onThemeApplied:e=>{C.color&&(C.color.value=e,N(p,t(t({},C),{},{color:C.color})))}}),$=[{type:"custom",label:S("color"),component:g.jsx(i,{theme:A,onClick:M})}];return g.jsxs(g.Fragment,{children:[g.jsxs(f,{direction:"row",mr:"auto",width:"100%",children:[g.jsx(r,{width:"100%",overflow:"hidden",label:S("panel.details.nodes.master.type"),children:g.jsxs(f,{width:"100%",overflow:"hidden",children:[g.jsx(s,{name:null!==(l=C.label)&&void 0!==l?l:S("panel.details.nodes.master.undefined"),fg:null!==(a=C.labelColorFg)&&void 0!==a?a:d.white,bg:null!==(u=C.labelColorBg)&&void 0!==u?u:"#000000",sx:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis"},mr:1}),g.jsx(s,{name:null!==(x=C.randomId)&&void 0!==x?x:"UNDEFINED",fg:d.white,bg:C.randomId?"#19B3EA":"#000000",sx:{display:"inline-block"},mr:1})]})}),g.jsx(y,{}),g.jsx(j,{icon:g.jsx(c,{}),onClick:()=>k(!0),"aria-label":"upload"})]}),g.jsx(b,{width:"100%",leftIcon:g.jsx(m,{}),onClick:()=>L(!0),children:S("header.settings.procedures.masterManager.title")}),C.randomId&&g.jsx(h,{fields:T,minW:"full"}),C.randomId&&void 0!==C.color&&g.jsx(h,{fields:$,minW:"full"}),g.jsx(P,{isOpen:_,onClose:()=>k(!1),onSubmit:e=>{e.components.forEach(((t,n)=>{var l;e.components[n].value=null!==(l=(e=>{var t;const n=C.components.find((t=>t.id===e));return n?null!==(t=n.value)&&void 0!==t?t:n.defaultValue:void 0})(t.id))&&void 0!==l?l:t.defaultValue})),void 0!==e.color&&(e.color.value=C.color?C.color.value:e.color.defaultValue),N(p,e)}}),g.jsx(B,{isOpen:z,onClose:()=>L(!1)})]})},metadata:{displayName:"panel.details.nodes.master.displayName",tags:[]}},M={num:1,color:[u.Shanghai,"sh1","#E4002B",d.white]},$={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=M.num,color:d=M.color}=null!=a?a:M,[c,m]=s>=10?[22.67,10.75]:[21,10],h=w.useCallback((e=>o(t,e)),[t,o]),u=w.useCallback((e=>i(t,e)),[t,i]),x=w.useCallback((e=>r(t,e)),[t,r]);return g.jsxs("g",{id:t,transform:`translate(${n}, ${l})`,onPointerDown:h,onPointerMove:u,onPointerUp:x,style:{cursor:"move"},children:[g.jsx("rect",{fill:d[2],width:c,height:"22.67"}),g.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:m,y:"19",fill:d[3],fontSize:"21.33",letterSpacing:"-1.75",children:s}),g.jsx("text",{className:"rmp-name__zh",x:c+2,y:"12",fontSize:"14.67",children:"号线"}),g.jsxs("text",{className:"rmp-name__en",x:c+4,y:"21.5",fontSize:"8",children:["Line ",s]})]})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"10",height:"16"}),g.jsx("text",{x:"4",y:"18",fill:"white",children:"1"}),g.jsx("text",{x:"14",y:"10",fontSize:"5",children:"号线"}),g.jsx("text",{x:"14",y:"18",fontSize:"4",children:"Line 1"})]}),defaultAttrs:M,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:a}=e,{t:o}=v(),i=[{type:"input",label:o("panel.details.nodes.common.num"),value:(null!==(t=l.num)&&void 0!==t?t:M.num).toString(),validator:e=>!Number.isNaN(e),onChange:e=>{l.num=Number(e),a(n,l)}},{type:"custom",label:o("color"),component:g.jsx(x,{type:p.ShmetroNumLineBadge,defaultTheme:M.color})}];return g.jsx(h,{fields:i})},metadata:{displayName:"panel.details.nodes.shmetroNumLineBadge.displayName",tags:[]}},U={names:["浦江线","Pujiang Line"],color:[u.Shanghai,"pjl","#B5B5B6",d.white]},D={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{names:s=U.names,color:d=U.color}=null!=a?a:U,c=w.useRef(null),[m,h]=w.useState({width:12});w.useEffect((()=>h(c.current.getBBox())),[...s,h,c]);const u=w.useCallback((e=>o(t,e)),[t,o]),x=w.useCallback((e=>i(t,e)),[t,i]),p=w.useCallback((e=>r(t,e)),[t,r]);return g.jsxs("g",{id:t,transform:`translate(${n}, ${l})`,onPointerDown:u,onPointerMove:x,onPointerUp:p,style:{cursor:"move"},children:[g.jsx("rect",{fill:d[2],x:"0",width:m.width+7,height:"21"}),g.jsxs("g",{ref:c,children:[g.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"hanging",x:(m.width+7)/2,y:"3",fontSize:"10",fill:d[3],letterSpacing:"-0.25",children:s[0]}),g.jsx("text",{className:"rmp-name__en",textAnchor:"middle",dominantBaseline:"hanging",x:(m.width+7)/2,y:"14",fontSize:"5",fill:d[3],letterSpacing:"-0.25",children:s[1]})]})]})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),g.jsx("text",{x:"5",y:"11",fontSize:"5",fill:"white",children:"浦江线"}),g.jsx("text",{x:"3",y:"16",fontSize:"4",fill:"white",children:"Pujiang Line"})]}),defaultAttrs:U,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:a}=v(),o=[{type:"input",label:a("panel.details.nodes.common.nameZh"),value:n.names[0],onChange:e=>{n.names[0]=e,l(t,n)},minW:"full"},{type:"input",label:a("panel.details.nodes.common.nameEn"),value:n.names[1],onChange:e=>{n.names[1]=e,l(t,n)},minW:"full"},{type:"custom",label:a("color"),component:g.jsx(x,{type:p.ShmetroTextLineBadge,defaultTheme:U.color})}];return g.jsx(h,{fields:o})},metadata:{displayName:"panel.details.nodes.shmetroTextLineBadge.displayName",tags:[]}},R={names:["1号线","Line 1"],color:[u.Guangzhou,"gz1","#F3D03E",d.black],tram:!1,span:!0},W={component:e=>{var t,n;const{id:l,x:a,y:o,attrs:i,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{names:c=R.names,color:m=R.color,tram:h=R.tram,span:u=R.span}=null!=i?i:R,x=w.useCallback((e=>r(l,e)),[l,r]),p=w.useCallback((e=>s(l,e)),[l,s]),f=w.useCallback((e=>d(l,e)),[l,d]);return g.jsx("g",{id:l,transform:`translate(${a}, ${o})scale(${h?.5:1})`,onPointerDown:x,onPointerMove:p,onPointerUp:f,style:{cursor:"move"},children:g.jsx(S,{zhName:null!==(t=c.at(0))&&void 0!==t?t:"",enName:null!==(n=c.at(1))&&void 0!==n?n:"",zhClassName:"rmp-name__zh",enClassName:"rmp-name__en",foregroundColour:m[3],backgroundColour:m[2],spanDigits:u})})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"2",y:"5",width:"20",height:"14",rx:"1"}),g.jsx("text",{x:"6",y:"15",textAnchor:"middle",fontSize:"10",fill:"white",children:"1"}),g.jsx("text",{x:"15",y:"12",textAnchor:"middle",fontSize:"6",fill:"white",children:"号线"}),g.jsx("text",{x:"14.5",y:"17",textAnchor:"middle",fontSize:"4",fill:"white",children:"Line 1"})]}),defaultAttrs:R,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:a}=e,{t:o}=v(),i=[{type:"input",label:o("panel.details.nodes.common.nameZh"),value:l.names[0],onChange:e=>{l.names[0]=e,a(n,l)},minW:"full"},{type:"input",label:o("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:R.names[1],onChange:e=>{l.names[1]=e,a(n,l)},minW:"full"},{type:"switch",label:o("panel.details.nodes.gzmtrLineBadge.tram"),oneLine:!0,isChecked:l.tram,onChange:e=>{l.tram=e,a(n,l)},minW:"full"},{type:"switch",label:o("panel.details.nodes.gzmtrLineBadge.span"),oneLine:!0,isChecked:l.span,onChange:e=>{l.span=e,a(n,l)},minW:"full"},{type:"custom",label:o("color"),component:g.jsx(x,{type:p.GzmtrLineBadge,defaultTheme:R.color})}];return g.jsx(h,{fields:i})},metadata:{displayName:"panel.details.nodes.gzmtrLineBadge.displayName",tags:[]}},E=11.84375,O={num:1,color:[u.Beijing,"bj1","#c23a30",d.white]},q={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=O.num,color:c=O.color}=null!=a?a:O,m=w.useCallback((e=>o(t,e)),[t,o]),h=w.useCallback((e=>i(t,e)),[t,i]),u=w.useCallback((e=>r(t,e)),[t,r]),x=c[3]===d.black?"#003670":d.white;return g.jsxs("g",{id:t,transform:`translate(${n}, ${l})`,onPointerDown:m,onPointerMove:h,onPointerUp:u,style:{cursor:"move"},children:[g.jsx("rect",{fill:c[2],x:"0",width:32.84375,height:"16",rx:"2"}),g.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:7.921875,y:"13.5",fill:x,fontSize:"15",letterSpacing:"-1.5",children:s}),g.jsx("text",{className:"rmp-name__zh",x:E+(s>9?5.5:3),y:"8.5",fontSize:"7",fill:x,children:"号线"}),g.jsxs("text",{className:"rmp-name__en",x:E+(s>9?6:4.5),y:"13.5",fontSize:"4",fill:x,children:["Line ",s]})]})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),g.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),g.jsx("text",{x:"11",y:"11",fill:"white",fontSize:"5",children:"号线"}),g.jsx("text",{x:"11",y:"17",fill:"white",fontSize:"4",children:"Line 1"})]}),defaultAttrs:O,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:a}=e,{t:o}=v(),i=[{type:"input",label:o("panel.details.nodes.common.num"),value:(null!==(t=l.num)&&void 0!==t?t:O.num).toString(),validator:e=>!Number.isNaN(e),onChange:e=>{l.num=Number(e),a(n,l)}},{type:"custom",label:o("color"),component:g.jsx(x,{type:p.BjsubwayNumLineBadge,defaultTheme:O.color})}];return g.jsx(h,{fields:i})},metadata:{displayName:"panel.details.nodes.bjsubwayNumLineBadge.displayName",tags:[]}},I={names:["八通线","Batong Line"],color:[u.Beijing,"bj1","#c23a30",d.white]},F={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{names:s=I.names,color:c=I.color}=null!=a?a:I,m=w.useRef(null),[h,u]=w.useState({width:12});w.useEffect((()=>u(m.current.getBBox())),[...s,u,m]);const x=w.useCallback((e=>o(t,e)),[t,o]),p=w.useCallback((e=>i(t,e)),[t,i]),f=w.useCallback((e=>r(t,e)),[t,r]),y=Math.max(28.84375,h.width),j=c[3]===d.black?"#003670":d.white;return g.jsxs("g",{id:t,transform:`translate(${n}, ${l})`,onPointerDown:x,onPointerMove:p,onPointerUp:f,style:{cursor:"move"},children:[g.jsx("rect",{fill:c[2],x:"0",width:y+4,height:"16",rx:"2"}),g.jsxs("g",{ref:m,children:[g.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:(y+4)/2,y:"8",fontSize:"7",fill:j,children:s[0]}),g.jsx("text",{className:"rmp-name__en",textAnchor:"middle",x:(y+4)/2,y:"13.5",fontSize:"4",fill:j,children:s[1]})]})]})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12",rx:"2"}),g.jsx("text",{x:"3",y:"12",fontSize:"6",fill:"white",children:"八通线"}),g.jsx("text",{x:"3",y:"16",fontSize:"3.2",fill:"white",children:"Batong Line"})]}),defaultAttrs:I,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:a}=e,{t:o}=v(),i=[{type:"input",label:o("panel.details.nodes.common.nameZh"),value:l.names[0],onChange:e=>{l.names[0]=e,a(n,l)}},{type:"input",label:o("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:I.names[1],onChange:e=>{l.names[1]=e,a(n,l)}},{type:"custom",label:o("color"),component:g.jsx(x,{type:p.BjsubwayTextLineBadge,defaultTheme:I.color})}];return g.jsx(h,{fields:i})},metadata:{displayName:"panel.details.nodes.bjsubwayTextLineBadge.displayName",tags:[]}},Q={num:1,branch:!1,color:[u.Suzhou,"sz1","#78BA25",d.white]},G={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=Q.num,branch:d=Q.branch,color:c=Q.color}=null!=a?a:Q,m=w.useCallback((e=>o(t,e)),[t,o]),h=w.useCallback((e=>i(t,e)),[t,i]),u=w.useCallback((e=>r(t,e)),[t,r]);return g.jsxs("g",{id:t,transform:`translate(${n}, ${l})`,onPointerDown:m,onPointerMove:h,onPointerUp:u,style:{cursor:"move"},children:[g.jsx("rect",{fill:c[2],width:"20",height:"20",rx:"2",ry:"2"}),g.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"middle",x:"10",y:"11.4",fill:c[3],fontSize:"15",letterSpacing:"-1",children:s}),d&&g.jsxs(g.Fragment,{children:[g.jsx("text",{className:"rmp-name__zh",x:22.5,y:"10",fontSize:"10",children:"支线"}),g.jsx("text",{className:"rmp-name__en",x:22.5,y:"18",fontSize:"5",fill:"gray",children:"Branch line"})]})]})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"4",y:"4",width:"16",height:"16",rx:"3",ry:"3"}),g.jsx("text",{x:"12",y:"13.4",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:Q,attrsComponent:e=>{var t,n;const{id:l,attrs:a,handleAttrsUpdate:o}=e,{t:i}=v(),r=[{type:"input",label:i("panel.details.nodes.common.num"),value:(null!==(t=a.num)&&void 0!==t?t:Q.num).toString(),validator:e=>!Number.isNaN(e),onChange:e=>{a.num=Number(e),o(l,a)}},{type:"switch",label:i("panel.details.nodes.suzhouRTNumLineBadge.branch"),isChecked:null!==(n=null==a?void 0:a.branch)&&void 0!==n?n:Q.branch,onChange:e=>{a.branch=e,o(l,a)}},{type:"custom",label:i("color"),component:g.jsx(x,{type:p.SuzhouRTNumLineBadge,defaultTheme:Q.color})}];return g.jsx(h,{fields:r})},metadata:{displayName:"panel.details.nodes.suzhouRTNumLineBadge.displayName",tags:[]}},V={num:1,color:[u.Berlin,"bu1","#62AD2D",d.white]},Z={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=V.num,color:d=V.color}=null!=a?a:V,c=w.useCallback((e=>o(t,e)),[t,o]),m=w.useCallback((e=>i(t,e)),[t,i]),h=w.useCallback((e=>r(t,e)),[t,r]),u=d[3];return g.jsxs("g",{id:t,transform:`translate(${n}, ${l})`,onPointerDown:c,onPointerMove:m,onPointerUp:h,style:{cursor:"move"},children:[g.jsx("rect",{fill:d[2],x:"0",width:"25",height:"15"}),g.jsxs("text",{className:"rmp-name__berlin",textAnchor:"middle",x:"12.5",y:"12.5",fill:u,fontSize:"14",letterSpacing:"1",children:["U",s]})]})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16"}),g.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"U1"})]}),defaultAttrs:V,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:a}=e,{t:o}=v(),i=[{type:"input",label:o("panel.details.nodes.common.num"),value:(null!==(t=l.num)&&void 0!==t?t:V.num).toString(),validator:e=>!Number.isNaN(e),onChange:e=>{l.num=Number(e),a(n,l)}},{type:"custom",label:o("color"),component:g.jsx(x,{type:p.BerlinUBahnLineBadge,defaultTheme:V.color})}];return g.jsx(h,{fields:i})},metadata:{displayName:"panel.details.nodes.berlinUBahnLineBadge.displayName",tags:[]}},H={num:1,color:[u.Berlin,"bs1","#DD6CA6",d.white]},Y={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=H.num,color:d=H.color}=null!=a?a:H,[c,m]=s>=10?[6,19.75]:[10,20],h=w.useCallback((e=>o(t,e)),[t,o]),u=w.useCallback((e=>i(t,e)),[t,i]),x=w.useCallback((e=>r(t,e)),[t,r]),p=d[3];return g.jsxs("g",{id:t,transform:`translate(${n}, ${l})`,onPointerDown:h,onPointerMove:u,onPointerUp:x,style:{cursor:"move"},children:[g.jsx("rect",{fill:d[2],x:"0",width:"30",height:"15",rx:"8"}),g.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:c,y:"12.5",fill:p,fontSize:"14",letterSpacing:"0",children:"S"}),g.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:m,y:"12.5",fill:p,fontSize:"14",letterSpacing:"-0.2",children:s})]})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"8"}),g.jsx("text",{x:"4.5",y:"16.5",fill:"white",fontSize:"14",children:"S1"})]}),defaultAttrs:H,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:a}=e,{t:o}=v(),i=[{type:"input",label:o("panel.details.nodes.common.num"),value:(null!==(t=l.num)&&void 0!==t?t:H.num).toString(),validator:e=>!Number.isNaN(e),onChange:e=>{l.num=Number(e),a(n,l)}},{type:"custom",label:o("color"),component:g.jsx(x,{type:p.BerlinSBahnLineBadge,defaultTheme:H.color})}];return g.jsx(h,{fields:i})},metadata:{displayName:"panel.details.nodes.berlinSBahnLineBadge.displayName",tags:[]}},K={num:1,color:[u.Chongqing,"cq1","#e4002b",d.white]},J={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=K.num,color:d=K.color}=null!=a?a:K,c=w.useCallback((e=>o(t,e)),[t,o]),m=w.useCallback((e=>i(t,e)),[t,i]),h=w.useCallback((e=>r(t,e)),[t,r]),u=d[3],x=Number.isInteger(s)?16:15,p=Number.isInteger(s)&&Number(s)>=10?-1.2:0;return g.jsxs("g",{id:t,transform:`translate(${n}, ${l})`,onPointerDown:c,onPointerMove:m,onPointerUp:h,style:{cursor:"move"},children:[g.jsx("rect",{fill:d[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),g.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"10",y:"10",fill:u,fontSize:x,letterSpacing:p,dominantBaseline:"central",children:s})]})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),g.jsx("text",{x:"8",y:"18",fill:"white",fontSize:"18",children:"1"})]}),defaultAttrs:K,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:a}=e,{t:o}=v(),i=[{type:"input",label:o("panel.details.nodes.common.num"),value:(null!==(t=l.num)&&void 0!==t?t:K.num).toString(),onChange:e=>{l.num=e,a(n,l)}},{type:"custom",label:o("color"),component:g.jsx(x,{type:p.ChongqingRTNumLineBadge,defaultTheme:K.color})}];return g.jsx(h,{fields:i})},metadata:{displayName:"panel.details.nodes.chongqingRTNumLineBadge.displayName",tags:[]}},X={names:["空港线","Konggang Line"],color:[u.Chongqing,"cq3","#003da5",d.white]},ee={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{names:s=X.names,color:d=X.color}=null!=a?a:X,c=w.useRef(null),m=w.useCallback((e=>o(t,e)),[t,o]),h=w.useCallback((e=>i(t,e)),[t,i]),u=w.useCallback((e=>r(t,e)),[t,r]),x=d[3];return g.jsxs("g",{id:t,transform:`translate(${n}, ${l})`,onPointerDown:m,onPointerMove:h,onPointerUp:u,style:{cursor:"move"},children:[g.jsx("rect",{fill:d[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),g.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"10",y:"10.5",fill:x,fontSize:"6",letterSpacing:"0",children:s[0]}),g.jsx(_,{ref:c,text:s[1].split("\n"),className:"rmp-name__en",textAnchor:"middle",x:"10",y:"9.25",fill:x,fontSize:"2.5",letterSpacing:"0",lineHeight:2.25,grow:"down"})]})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),g.jsx("text",{x:"4.5",y:"12.5",fill:"white",fontSize:"5",children:"空港线"}),g.jsx("text",{x:"4.5",y:"15",fill:"white",fontSize:"2",children:"Konggang Line"})]}),defaultAttrs:X,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:a}=e,{t:o}=v(),i=[{type:"input",label:o("panel.details.nodes.common.nameZh"),value:l.names[0],onChange:e=>{l.names[0]=e,a(n,l)}},{type:"input",label:o("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:X.names[1],onChange:e=>{l.names[1]=e,a(n,l)}},{type:"custom",label:o("color"),component:g.jsx(x,{type:p.ChongqingRTTextLineBadge,defaultTheme:X.color})}];return g.jsx(h,{fields:i})},metadata:{displayName:"panel.details.nodes.chongqingRTTextLineBadge.displayName",tags:[]}},te={num:1,color:[u.Chongqing,"cq1","#e4002b",d.white]},ne={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=te.num,color:d=te.color}=null!=a?a:te,c=w.useCallback((e=>o(t,e)),[t,o]),m=w.useCallback((e=>i(t,e)),[t,i]),h=w.useCallback((e=>r(t,e)),[t,r]),u=d[3],x=Number.isInteger(s)?Number(s)>=10?15:16:15,p=Number.isInteger(s)&&Number(s)>=10?-1:0,f=Number.isInteger(s)&&Number(s)>=10?9.5:10.5;return g.jsx("g",{transform:`translate(${n}, ${l})`,children:g.jsxs("g",{transform:"translate(-10.5, -10.5)",children:[g.jsx("rect",{fill:d[2],x:"0",width:"21",height:"21",rx:"3",ry:"3"}),g.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:"18",height:"18",rx:"2",ry:"2"}),g.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:f,y:"10.5",fill:u,fontSize:x,letterSpacing:p,dominantBaseline:"central",children:s}),g.jsx("rect",{id:`misc_node_connectable_${t}`,onPointerDown:c,onPointerMove:m,onPointerUp:h,style:{cursor:"move",zIndex:1e3},x:0,y:0,width:21,height:21,fill:"white",opacity:0,stroke:"none"})]})})},icon:g.jsxs("svg",{viewBox:"0 0 21 21",height:40,width:40,focusable:!1,style:{padding:3},children:[g.jsx("rect",{fill:"currentColor",x:"0",width:"21",height:"21",rx:"3",ry:"3"}),g.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:"18",height:"18",rx:"2",ry:"2"}),g.jsx("text",{textAnchor:"left",x:"7.5",y:"9.5",fill:"white",fontSize:"15",dominantBaseline:"central",children:"1"})]}),defaultAttrs:te,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:a}=v(),o=[{type:"input",label:a("panel.details.nodes.common.num"),value:(null!=n?n:te).num,validator:e=>!Number.isNaN(e),onChange:e=>{Number.isNaN(Number(e))?n.num=e:n.num=Number(e),l(t,n)},minW:"full"},{type:"custom",label:a("color"),component:g.jsx(x,{type:p.ChongqingRTNumLineBadge2021,defaultTheme:te.color}),minW:"full"}];return g.jsx(h,{fields:o})},metadata:{displayName:"panel.details.nodes.chongqingRTNumLineBadge2021.displayName",tags:[]}},le={names:["空港线","Konggang Line"],color:[u.Chongqing,"cq3","#003da5",d.white],isRapid:!1},ae={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{names:s=le.names,color:d=le.color,isRapid:c=le.isRapid}=null!=a?a:le,m=w.useRef(null),h=w.useCallback((e=>o(t,e)),[t,o]),u=w.useCallback((e=>i(t,e)),[t,i]),x=w.useCallback((e=>r(t,e)),[t,r]),p=d[3],f=c?42:21;return g.jsx("g",{transform:`translate(${n}, ${l})`,children:g.jsxs("g",{transform:`translate(${-f/2}, -10.5)`,children:[g.jsx("rect",{fill:d[2],x:"0",width:f,height:21,rx:"3",ry:"3"}),g.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:f-3,height:18,rx:"2",ry:"2"}),g.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:f/2,y:11,fill:p,fontSize:c?8:5,letterSpacing:"0",children:s[0]}),g.jsx(_,{ref:m,text:s[1].split("\n"),className:"rmp-name__en",textAnchor:"middle",x:f/2,y:10.5-.75*Number(!c),fill:p,fontSize:c?4:2.2,letterSpacing:"0",lineHeight:2.25,grow:"down"}),g.jsx("rect",{id:`misc_node_connectable_${t}`,onPointerDown:h,onPointerMove:u,onPointerUp:x,style:{cursor:"move",zIndex:1e3},x:0,y:0,width:f,height:21,fill:"white",opacity:0,stroke:"none"})]})})},icon:g.jsxs("svg",{viewBox:"0 0 21 21",height:40,width:40,focusable:!1,style:{padding:3},children:[g.jsx("rect",{fill:"currentColor",x:"0",width:"21",height:"21",rx:"3",ry:"3"}),g.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:"18",height:"18",rx:"2",ry:"2"}),g.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"10.5",y:"11",fill:"white",fontSize:"5",letterSpacing:"0",children:"空港线"}),g.jsx("text",{className:"rmp-name__en",textAnchor:"middle",x:"10.5",y:"13.75",fill:"white",fontSize:"2",letterSpacing:"0",children:"Konggang Line"})]}),defaultAttrs:le,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:a}=e,{t:o}=v(),i=[{type:"input",label:o("panel.details.nodes.common.nameZh"),value:l.names[0],onChange:e=>{l.names[0]=e.toString(),a(n,l)},minW:"full"},{type:"textarea",label:o("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:le.names[1],onChange:e=>{l.names[1]=e.toString(),a(n,l)},minW:"full"},{type:"custom",label:o("color"),component:g.jsx(x,{type:p.ChongqingRTTextLineBadge2021,defaultTheme:le.color}),minW:"full"},{type:"switch",label:o("panel.details.nodes.chongqingRTTextLineBadge2021.isRapid"),isChecked:(null!=l?l:le).isRapid,onChange:e=>{l.isRapid=e,a(n,l)},oneLine:!0,minW:"full"}];return g.jsx(h,{fields:i})},metadata:{displayName:"panel.details.nodes.chongqingRTTextLineBadge2021.displayName",tags:[]}},oe=11.84375,ie={num:1,color:[u.Shenzhen,"sz1","#00b140",d.white],isBranch:!1},re={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=ie.num,color:d=ie.color,isBranch:c=ie.isBranch}=null!=a?a:ie,m=w.useCallback((e=>o(t,e)),[t,o]),h=w.useCallback((e=>i(t,e)),[t,i]),u=w.useCallback((e=>r(t,e)),[t,r]),x=d[3],p=c?10:oe+(s>9?6.5:3),f=c?-1:0,y=c?11:oe+(s>9?7:3.5),j=c?6:9.921875;return g.jsxs("g",{id:t,transform:`translate(${n}, ${l})`,onPointerDown:m,onPointerMove:h,onPointerUp:u,style:{cursor:"move"},children:[g.jsx("rect",{fill:d[2],x:"0",width:32.84375,height:"16",rx:"2"}),g.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:j,y:"13.5",fill:x,fontSize:"15",letterSpacing:"-1",children:s}),g.jsxs("text",{className:"rmp-name__zh",x:p,y:"9.5",fontSize:"6",fill:x,letterSpacing:f,children:["号线",c?"支线":""]}),g.jsxs("text",{className:"rmp-name__en",x:y,y:"13.5",fontSize:"3",fill:x,children:[c?"Branch":""," Line ",s]})]})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),g.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),g.jsx("text",{x:"11",y:"14",fill:"white",fontSize:"5",children:"号线"}),g.jsx("text",{x:"12",y:"17",fill:"white",fontSize:"3",children:"Line 1"})]}),defaultAttrs:ie,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:a}=v(),o=[{type:"input",label:a("panel.details.nodes.common.num"),value:String(n.num),validator:e=>!Number.isNaN(e),onChange:e=>{n.num=Number(e),l(t,n)},minW:"full"},{type:"custom",label:a("color"),component:g.jsx(x,{type:p.ShenzhenMetroNumLineBadge,defaultTheme:ie.color}),minW:"full"},{type:"switch",label:a("panel.details.nodes.shenzhenMetroNumLineBadge.branch"),oneLine:!0,isChecked:n.isBranch,onChange:e=>{n.isBranch=e,l(t,n)},minW:"full"}];return g.jsx(h,{fields:o})},metadata:{displayName:"panel.details.nodes.shenzhenMetroNumLineBadge.displayName",tags:[]}},se={num:1,color:[u.Singapore,"ewl","#009739",d.white]},de={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=se.num,color:d=se.color}=null!=a?a:se,c=w.useCallback((e=>o(t,e)),[t,o]),m=w.useCallback((e=>i(t,e)),[t,i]),h=w.useCallback((e=>r(t,e)),[t,r]),u=d[3],x=d[2];return g.jsxs("g",{id:t,transform:`translate(${n}, ${l})`,onPointerDown:c,onPointerMove:m,onPointerUp:h,style:{cursor:"move"},children:[g.jsx("circle",{r:"8",fill:x}),g.jsx("text",{className:"rmp-name__mrt",textAnchor:"middle",x:"0",y:"0",width:"12",height:"12",fill:u,fontSize:"12",dominantBaseline:"central",letterSpacing:"-0.2",children:s})]})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),g.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:se,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:a}=v(),o=[{type:"input",label:a("panel.details.nodes.common.num"),value:String(n.num),validator:e=>!Number.isNaN(e),onChange:e=>{n.num=Number(e),l(t,n)},minW:"full"},{type:"custom",label:a("color"),component:g.jsx(x,{type:p.MRTDestinationNumbers,defaultTheme:se.color}),minW:"full"}];return g.jsx(h,{fields:o})},metadata:{displayName:"panel.details.nodes.mrtDestinationNumbers.displayName",tags:[]}},ce={lineCode:"EWL",name:"East-West Line",lines:"1, 2, 3, airport",isTram:!1,color:[u.Singapore,"ewl","#009739",d.white]},me={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{lineCode:s=ce.lineCode,color:d=ce.color,lines:c=ce.lines,name:m=ce.name,isTram:h=ce.isTram}=null!=a?a:ce,u=w.useCallback((e=>o(t,e)),[t,o]),x=w.useCallback((e=>i(t,e)),[t,i]),p=w.useCallback((e=>r(t,e)),[t,r]),f=d[3],y=d[2];return g.jsxs("g",{id:t,transform:`translate(${n}, ${l})`,onPointerDown:u,onPointerMove:x,onPointerUp:p,style:{cursor:"move"},children:[g.jsx("rect",{transform:"scale(1.8)",x:-11.425,y:-6.4675,rx:"3",ry:"6",width:22.85,height:12.935,fill:y,stroke:"white",strokeWidth:"1"}),g.jsx("text",{className:"rmp-name__mrt",textAnchor:"middle",fill:f,fontSize:"15",dominantBaseline:"central",letterSpacing:"-0.2",children:s}),g.jsx("text",{className:"rmp-name__mrt",textAnchor:"left",x:"28",y:h?3.5:-3,fill:"black",fontSize:"10",letterSpacing:"-0.2",children:m}),!h&&c.split(",").map(((e,t)=>g.jsx("g",{transform:`translate(${34+14*t}, 4.5)`,children:"airport"!==e.trim()?g.jsxs(g.Fragment,{children:[g.jsx("circle",{r:"6",fill:y}),g.jsx("text",{className:"rmp-name__mrt",textAnchor:"middle",fill:f,fontSize:"9",dominantBaseline:"central",letterSpacing:"-0.2",children:e})]}):g.jsxs("g",{transform:"translate(-6, -6) scale(4.5)",children:[g.jsx("path",{d:"M2.467 0H.226A.226.226 0 0 0 0 .226v2.241a.225.225 0 0 0 .226.225h2.241a.225.225 0 0 0 .225-.225V.226A.226.226 0 0 0 2.467 0",style:{fill:"#2d2a26"}}),g.jsx("path",{d:"M1.5.746v.3l.73.642a.08.08 0 0 1 .022.05v.12c0 .017-.012.025-.027.018L1.5 1.529l-.06.541.2.113a.03.03 0 0 1 .013.023V2.3a.01.01 0 0 1-.014.011l-.293-.091-.286.087a.01.01 0 0 1-.014-.007v-.09a.03.03 0 0 1 .013-.023l.2-.113-.059-.545-.724.348a.018.018 0 0 1-.028-.018v-.12a.07.07 0 0 1 .023-.05l.73-.642v-.3c0-.482.3-.482.3 0",style:{fill:"#fff",fillRule:"evenodd"}})]})},t)))]})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),g.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:ce,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:a}=v(),o=[{type:"input",label:a("panel.details.nodes.common.nameEn"),value:n.name,onChange:e=>{n.name=e,l(t,n)},minW:"full"},{type:"input",label:a("panel.details.stations.common.lineCode"),value:n.lineCode,onChange:e=>{n.lineCode=e,l(t,n)},minW:"full"},{type:"switch",label:a("panel.details.nodes.mrtLineBadge.isTram"),isChecked:n.isTram,onChange:e=>{n.isTram=e,l(t,n)},minW:"full",oneLine:!0},...n.isTram?[]:[{type:"input",label:a("panel.details.nodes.common.num"),value:n.lines,onChange:e=>{n.lines=e,l(t,n)},minW:"full"}],{type:"custom",label:a("color"),component:g.jsx(x,{type:p.MRTLineBadge,defaultTheme:ce.color}),minW:"full"}];return g.jsx(h,{fields:o})},metadata:{displayName:"panel.details.nodes.mrtLineBadge.displayName",tags:[]}},he=5*Math.SQRT1_2,ue=.25,xe=(he*Math.SQRT2-ue)/2*Math.SQRT2,pe={names:["山手線","Yamanote Line"],color:[u.Tokyo,"jy","#9ACD32",d.black],num:9,crosshatchPatternFill:!1},ge={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{names:s=pe.names,num:d=pe.num,color:c=pe.color,crosshatchPatternFill:m=pe.crosshatchPatternFill}=null!=a?a:pe,h=w.useRef(null),[u,x]=w.useState({height:10,width:12});w.useEffect((()=>x(h.current.getBBox())),[...s,x,h]);const p=w.useCallback((e=>o(t,e)),[t,o]),f=w.useCallback((e=>i(t,e)),[t,i]),y=w.useCallback((e=>r(t,e)),[t,r]);return g.jsxs("g",{id:t,transform:`translate(${n}, ${l})`,onPointerDown:p,onPointerMove:f,onPointerUp:y,style:{cursor:"move"},children:[g.jsxs("defs",{children:[g.jsxs("clipPath",{id:"jr_east_fill_pattern_clip_path",patternUnits:"userSpaceOnUse",children:[g.jsx("polygon",{points:`0,0 0,${xe} ${xe},0`}),g.jsx("polygon",{points:`${he},${he} ${he-xe},${he} ${he},${he-xe}`})]}),g.jsxs("pattern",{id:`jr_east_${t}_fill_pattern_${c[2]}`,width:he,height:he,patternUnits:"userSpaceOnUse",children:[g.jsx("rect",{width:he,height:he,fill:c[2]}),g.jsx("line",{x1:"0",y1:"0",x2:he,y2:he,stroke:"white",strokeWidth:ue,strokeOpacity:"33%",clipPath:"url(#jr_east_fill_pattern_clip_path)"}),g.jsx("line",{x1:he,y1:"0",x2:"0",y2:he,stroke:"white",strokeWidth:ue,strokeOpacity:"33%"})]})]}),g.jsx("rect",{fill:m?`url(#jr_east_${t}_fill_pattern_${c[2]})`:c[2],x:"0",y:"-1",width:u.width+4+10,height:u.height+1,rx:"1",stroke:"black",strokeWidth:"0.25"}),g.jsx("circle",{r:4,cx:7,cy:6,stroke:"black",strokeWidth:"0.25",fill:c[3]}),g.jsx("text",{x:7,y:6.75,textAnchor:"middle",dominantBaseline:"middle",fill:"#000"===c[3]?"white":c[2],fontSize:d>9?7:8,className:"rmp-name__jreast_en",children:d}),g.jsx(_,{ref:h,text:s[0].split("\n"),x:12,y:"-1",fill:c[3],fontSize:10,lineHeight:10,grow:"down",className:"rmp-name__jreast_ja"}),g.jsx(_,{text:s[1].split("\n"),textAnchor:"middle",dominantBaseline:"hanging",x:(u.width+4+10)/2,y:u.height+1,fontSize:5,lineHeight:5,baseOffset:0,grow:"down",className:"rmp-name__jreast_en"})]})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"1",y:"6",width:"22",height:"7"}),g.jsx("circle",{cx:"3.5",cy:"9.25",r:"2",fill:"white"}),g.jsx("text",{x:"3",y:"10.5",fontSize:"3",children:"9"}),g.jsx("text",{x:"6",y:"11.25",fontSize:"5",fill:"white",children:"山手線"}),g.jsx("text",{x:"1.5",y:"16",fontSize:"3",children:"Yamanote Line"})]}),defaultAttrs:pe,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:a}=e,{t:o}=v(),i=[{type:"input",label:o("panel.details.nodes.common.num"),value:String(l.num),validator:e=>!Number.isNaN(e),onChange:e=>{l.num=Number(e),a(n,l)},minW:"full"},{type:"textarea",label:o("panel.details.nodes.common.nameJa"),value:l.names[0],onChange:e=>{l.names[0]=e,a(n,l)},minW:"full"},{type:"textarea",label:o("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:pe.names[1],onChange:e=>{l.names[1]=e,a(n,l)},minW:"full"},{type:"switch",label:o("panel.details.nodes.jrEastLineBadge.crosshatchPatternFill"),oneLine:!0,isChecked:l.crosshatchPatternFill,onChange:e=>{l.crosshatchPatternFill=e,a(n,l)},minW:"full"},{type:"custom",label:o("color"),component:g.jsx(x,{type:p.JREastLineBadge,defaultTheme:pe.color})}];return g.jsx(h,{fields:i})},metadata:{displayName:"panel.details.nodes.jrEastLineBadge.displayName",tags:[]}},fe={num:1,numEn:"1",showText:!0,color:[u.Qingdao,"qd1","#f7b000",d.white]},ye={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=fe.num,numEn:d=fe.numEn,color:c=fe.color,showText:m=fe.showText}=null!=a?a:fe,h=w.useCallback((e=>o(t,e)),[t,o]),u=w.useCallback((e=>i(t,e)),[t,i]),x=w.useCallback((e=>r(t,e)),[t,r]),p=c[3],[f,y,j,b]=Number(s)>=10?[-2.4,0,10.25,20]:[0,4,10,22];return g.jsxs("g",{id:t,transform:`translate(${n}, ${l})`,onPointerDown:h,onPointerMove:u,onPointerUp:x,style:{cursor:"move"},children:[g.jsx("rect",{fill:c[2],x:"0",width:"20",height:"20",rx:"2",ry:"2"}),g.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:y,y:j,fill:p,fontSize:b,fontWeight:"bold",letterSpacing:f,dominantBaseline:"central",children:s}),m&&g.jsxs(g.Fragment,{children:[g.jsx("text",{className:"rmp-name__zh",x:"22",y:"10.5",fontSize:"13",children:"号线"}),g.jsxs("text",{className:"rmp-name__en",x:"22.5",y:"19.5",fontSize:"8",children:["Line ",d]})]})]})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"2",y:"6",rx:"1",ry:"1",width:"10",height:"10"}),g.jsx("text",{x:"4",y:"15",fill:"white",fontSize:"12",children:"1"}),g.jsx("text",{x:"12",y:"11.5",fill:"black",fontSize:"6",children:"号线"}),g.jsx("text",{x:"12",y:"15.5",fill:"black",fontSize:"4",children:"Line1"})]}),defaultAttrs:fe,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:a}=v(),o=[{type:"input",label:a("panel.details.nodes.common.num"),value:n.num.toString(),onChange:e=>{n.num=Number(e),n.numEn=e,l(t,n)}},{type:"input",label:a("panel.details.nodes.qingdaoMetroNumLineBadge.numEn"),value:n.numEn.toString(),onChange:e=>{n.numEn=e,l(t,n)}},{type:"switch",label:a("panel.details.nodes.qingdaoMetroNumLineBadge.showText"),isChecked:n.showText,oneLine:!0,onChange:e=>{n.showText=e,l(t,n)}},{type:"custom",label:a("color"),component:g.jsx(x,{type:p.QingdaoMetroNumLineBadge,defaultTheme:fe.color})}];return g.jsx(h,{fields:o,minW:"full"})},metadata:{displayName:"panel.details.nodes.qingdaoMetroNumLineBadge.displayName",tags:[]}},je={names:["广清城际","Guangzhou-Qingyuan Intercity"],color:[u.Guangzhou,"ir","#2559a8",d.white]},be={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{names:s=je.names,color:d=je.color}=null!=a?a:je,c=w.useRef(null),[m,h]=w.useState({width:12});w.useEffect((()=>h(c.current.getBBox())),[...s,h,c]);const u=w.useCallback((e=>o(t,e)),[t,o]),x=w.useCallback((e=>i(t,e)),[t,i]),p=w.useCallback((e=>r(t,e)),[t,r]);return g.jsxs("g",{id:t,transform:`translate(${n}, ${l})`,onPointerDown:u,onPointerMove:x,onPointerUp:p,style:{cursor:"move"},children:[g.jsx("rect",{rx:"2",ry:"2",fill:d[2],x:"0",width:m.width+7,height:"21"}),g.jsxs("g",{ref:c,children:[g.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"hanging",x:(m.width+7)/2,y:"3",fontSize:"8.63",fill:d[3],children:s[0]}),g.jsx("text",{className:"rmp-name__en",textAnchor:"middle",dominantBaseline:"hanging",x:(m.width+7)/2,y:"14",fontSize:"3.54",fill:d[3],children:s[1]})]})]})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),g.jsx("text",{x:"4.5",y:"11",fontSize:"4",fill:"white",children:"广清城际"}),g.jsx("text",{x:"3",y:"16",fontSize:"2",fill:"white",children:"Guangzhou-Qingyuan Intercity"})]}),defaultAttrs:je,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:a}=e,{t:o}=v(),i=[{type:"input",label:o("panel.details.nodes.common.nameZh"),value:l.names[0],onChange:e=>{l.names[0]=e,a(n,l)},minW:"full"},{type:"input",label:o("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:je.names[1],onChange:e=>{l.names[1]=e,a(n,l)},minW:"full"}];return g.jsx(h,{fields:i})},metadata:{displayName:"panel.details.nodes.guangdongIntercityRailwayLineBadge.displayName",tags:[]}},we=`M0,0 L-10,-10 L${5*Math.SQRT2-10},-10 L${5*Math.SQRT2},0 L${5*Math.SQRT2-10},10 L-10,10 Z`,ve={color:[u.London,"thameslink","#d28db0",d.white],rotate:0,type:"continuation"},Ce={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{color:s=ve.color,rotate:d=ve.rotate,type:c=ve.type}=null!=a?a:ve,m=w.useCallback((e=>o(t,e)),[t,o]),h=w.useCallback((e=>i(t,e)),[t,i]),u=w.useCallback((e=>r(t,e)),[t,r]);return g.jsx("g",{id:t,transform:`translate(${n}, ${l})rotate(${d})`,onPointerDown:m,onPointerMove:h,onPointerUp:u,style:{cursor:"move"},children:"continuation"===c?g.jsx("path",{id:`virtual_circle_${t}`,fill:s[2],d:we}):"sandwich"===c?g.jsx("path",{transform:"scale(0.5)",id:`virtual_circle_${t}`,stroke:"white",strokeWidth:"1",fill:s[2],d:we}):g.jsx("path",{transform:"scale(0.25)",id:`virtual_circle_${t}`,fill:"white",d:we})})},icon:g.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:g.jsx("path",{transform:"translate(14,12)scale(0.75)",fill:"currentColor",d:we})}),defaultAttrs:ve,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:a}=v(),o=[{type:"select",label:a("panel.details.stations.common.rotate"),value:n.rotate,options:{0:"0",45:"45",90:"90",135:"135",180:"180",225:"225",270:"270",315:"315"},onChange:e=>{n.rotate=Number(e),l(t,n)},minW:"full"},{type:"select",label:a("panel.details.nodes.londonArrow.type"),value:n.type,options:{continuation:a("panel.details.nodes.londonArrow.continuation"),sandwich:a("panel.details.nodes.londonArrow.sandwich"),tube:a("panel.details.nodes.londonArrow.tube")},onChange:e=>{n.type=e,l(t,n)},minW:"full"},{type:"custom",label:a("color"),component:g.jsx(x,{type:p.LondonArrow,defaultTheme:ve.color}),minW:"full"}];return g.jsx(h,{fields:o})},metadata:{displayName:"panel.details.nodes.londonArrow.displayName",tags:[]}},Ne={content:1,color:[u.Chengdu,"cd1","#222a8c",d.white],badgeType:"normal"},Pe={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{content:s=Ne.content,color:d=Ne.color,badgeType:c=Ne.badgeType}=null!=a?a:Ne,m=w.useCallback((e=>o(t,e)),[t,o]),h=w.useCallback((e=>i(t,e)),[t,i]),u=w.useCallback((e=>r(t,e)),[t,r]),x=d[3],p="suburban"==c?16*(s.toString().length-2)/2:0;return g.jsx("g",{transform:`translate(${n}, ${l})`,children:g.jsxs("g",{transform:"translate(-12.5, -12.5)",children:["normal"==c?g.jsxs(g.Fragment,{children:[g.jsx("rect",{fill:d[2],x:"0",width:"25",height:"25",rx:"12.5",ry:"12.5"}),g.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"12.5",y:"12.5",fill:x,fontSize:16,dominantBaseline:"central",children:s})]}):"suburban"==c?g.jsxs(g.Fragment,{children:[g.jsx("rect",{fill:d[2],x:-p/2,y:"0",width:20+p,height:"25",rx:"0",ry:"0"}),g.jsx("rect",{fill:d[2],x:19+p/2,y:"0",width:"6",height:"5",rx:"0",ry:"0"}),g.jsx("rect",{fill:d[2],x:19+p/2,y:"10",width:"6",height:"5",rx:"0",ry:"0"}),g.jsx("rect",{fill:d[2],x:19+p/2,y:"20",width:"6",height:"5",rx:"0",ry:"0"}),g.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:-p/2,y:"12.5",fill:x,fontSize:16,dominantBaseline:"central",children:s})]}):g.jsxs(g.Fragment,{children:[g.jsx("rect",{fill:d[2],x:"-1.25",y:"0",width:"27.5",height:"7.5",rx:"0",ry:"0"}),g.jsx("rect",{fill:d[2],x:"7.5",y:"0",width:"10",height:"25",rx:"0",ry:"0"}),g.jsx(_,{text:s.toString().split(""),lineHeight:10.5,x:12.5,y:6.5,fill:"white",fontSize:10,textAnchor:"middle",grow:"down",dominantBaseline:"middle"})]}),g.jsx("rect",{id:`misc_node_connectable_${t}`,onPointerDown:m,onPointerMove:h,onPointerUp:u,style:{cursor:"move",zIndex:1e3},x:0-p/2,y:0,width:25+p,height:25,fill:"white",opacity:0,stroke:"none"})]})})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),g.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:Ne,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:a}=v(),o=[{type:"input",label:a("panel.details.nodes.text.content"),value:(null!=n?n:Ne).content,validator:e=>!Number.isNaN(e),onChange:e=>{Number.isNaN(Number(e))?n.content=e:n.content=Number(e),l(t,n)},minW:"full"},{type:"custom",label:a("color"),component:g.jsx(x,{type:p.ChengduRTLineBadge,defaultTheme:Ne.color}),minW:"full"},{type:"select",label:a("panel.details.nodes.chengduRTLineBadge.badgeType.displayName"),value:(null!=n?n:Ne).badgeType,options:{normal:a("panel.details.nodes.chengduRTLineBadge.badgeType.normal"),suburban:a("panel.details.nodes.chengduRTLineBadge.badgeType.suburban"),tram:a("panel.details.nodes.chengduRTLineBadge.badgeType.tram")},onChange:e=>{n.badgeType=e,l(t,n)},minW:"full"}];return g.jsx(h,{fields:o})},metadata:{displayName:"panel.details.nodes.chengduRTLineBadge.displayName",tags:[]}},Be={code:"BR",tram:!1,color:[u.Taipei,"br","#C48C31",d.white]},Se={component:e=>{const{id:t,x:n,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{code:s=Be.code,color:d=Be.color,tram:c=Be.tram}=null!=a?a:Be,m=w.useCallback((e=>o(t,e)),[t,o]),h=w.useCallback((e=>i(t,e)),[t,i]),u=w.useCallback((e=>r(t,e)),[t,r]),x=6+(s.length<=2?10:5.5*s.length);return g.jsxs("g",{id:t,transform:`translate(${n}, ${l})scale(${c?.8:1})`,onPointerDown:m,onPointerMove:h,onPointerUp:u,style:{cursor:"move"},children:[g.jsx("rect",{fill:d[2],x:-x/2,y:"-8",width:x,height:"16",rx:"2.5",ry:"2.5"}),g.jsx("g",{children:g.jsx("text",{className:"rmp-name__taipei",textAnchor:"middle",dominantBaseline:"central",fontSize:"10",fill:d[3],children:s})})]})},icon:g.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[g.jsx("rect",{fill:"currentColor",x:"6",y:"6",width:"12",height:"12",rx:"2",ry:"2"}),g.jsx("text",{x:"12",y:"12",fontSize:"6",fill:"white",textAnchor:"middle",dominantBaseline:"central",children:"BR"})]}),defaultAttrs:Be,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:a}=e,{t:o}=v(),i=[{type:"input",label:o("panel.details.stations.common.lineCode"),value:l.code,onChange:e=>{l.code=e,a(n,l)},minW:"full"},{type:"switch",label:o("panel.details.nodes.taipeiMetroLineBadge.tram"),isChecked:null!==(t=l.tram)&&void 0!==t?t:Be.tram,onChange:e=>{l.tram=e,a(n,l)},oneLine:!0,minW:"full"},{type:"custom",label:o("color"),component:g.jsx(x,{type:p.TaiPeiMetroLineBadege,defaultTheme:Be.color})}];return g.jsx(h,{fields:i})},metadata:{displayName:"panel.details.nodes.taipeiMetroLineBadge.displayName",tags:[]}};e("m",{[p.Virtual]:n,[p.Facilities]:k,[p.Text]:C,[p.I18nText]:L,[p.Master]:A,[p.ShmetroNumLineBadge]:$,[p.ShmetroTextLineBadge]:D,[p.GzmtrLineBadge]:W,[p.BjsubwayNumLineBadge]:q,[p.BjsubwayTextLineBadge]:F,[p.SuzhouRTNumLineBadge]:G,[p.BerlinSBahnLineBadge]:Y,[p.BerlinUBahnLineBadge]:Z,[p.ChongqingRTNumLineBadge]:J,[p.ChongqingRTTextLineBadge]:ee,[p.ChongqingRTNumLineBadge2021]:ne,[p.ChongqingRTTextLineBadge2021]:ae,[p.ShenzhenMetroNumLineBadge]:re,[p.MRTDestinationNumbers]:de,[p.MRTLineBadge]:me,[p.JREastLineBadge]:ge,[p.QingdaoMetroNumLineBadge]:ye,[p.GuangdongIntercityRailwayLineBadge]:be,[p.LondonArrow]:Ce,[p.ChengduRTLineBadge]:Pe,[p.TaiPeiMetroLineBadege]:Se})}}}))}();
