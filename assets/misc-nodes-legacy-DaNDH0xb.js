!function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function t(t){for(var l=1;l<arguments.length;l++){var i=null!=arguments[l]?arguments[l]:{};l%2?e(Object(i),!0).forEach(function(e){n(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function n(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}System.register(["./index-legacy-VCL14rRb.js","./chakra-legacy-DJB5Se8L.js","./react-legacy-BN3K1j7S.js","./master-manager-legacy-D2IkPHSK.js"],function(e,n){"use strict";var l,i,a,o,r,s,d,c,h,u,m,x,p,g,f,y,j,b,v,w,C,P,S,N,k,B,z,L,A,$,T,M,U,W,_,D,R,E,O,I,F,q,H,Q,V,Z,G,K,J,Y,X,ee,te,ne,le,ie,ae,oe,re,se,de,ce,he,ue,me,xe,pe,ge,fe,ye,je,be,ve,we,Ce,Pe,Se,Ne,ke,Be,ze,Le,Ae,$e,Te,Me;return{setters:[e=>{l=e.C,i=e.M,a=e.bl,o=e.bm,r=e.aH,s=e.k,d=e.c,c=e.bn,h=e.bo,u=e.bp,m=e.bq,x=e.Z,p=e._,g=e.V,f=e.R,y=e.J,j=e.at,b=e.e,v=e.a,w=e.br,C=e.b1,P=e.bs,S=e.z,N=e.bt,k=e.n,B=e.bu,z=e.bv,L=e.bw,A=e.w,$=e.x,T=e.y,M=e.L,U=e.q,W=e.p},e=>{_=e.j,D=e.U,R=e.V,E=e.h,O=e.aM,I=e.a2,F=e.t,q=e.ag,H=e.M,Q=e.ah,V=e.J,Z=e.K,G=e.L,K=e.aN,J=e.aO,Y=e.aP,X=e.x,ee=e.aw,te=e.aQ,ne=e.aR,le=e.B,ie=e.S,ae=e.N,oe=e.aS,re=e.aT,se=e.ai,de=e.aU,ce=e.aj,he=e.q,ue=e.X,me=e.Y,xe=e.a8,pe=e.O,ge=e.ak,fe=e.au},e=>{ye=e.b,je=e.u,be=e.j},e=>{ve=e.h,we=e.j,Ce=e.M,Pe=e.i,Se=e.k,Ne=e.l,ke=e.n,Be=e.o,ze=e.q,Le=e.t,Ae=e.u,$e=e.v,Te=e.w,Me=e.x}],execute:function(){const n=e("v",{component:e=>{const{id:t,x:n,y:l,handlePointerDown:i,handlePointerMove:a,handlePointerUp:o}=e,r=ye.useCallback(e=>i(t,e),[t,i]),s=ye.useCallback(e=>a(t,e),[t,a]),d=ye.useCallback(e=>o(t,e),[t,o]);return _.jsxs("g",{id:t,transform:`translate(${n}, ${l})rotate(45)`,onPointerDown:r,onPointerMove:s,onPointerUp:d,style:{cursor:"move"},className:"removeMe",children:[_.jsx("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"black"}),_.jsx("line",{x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"black"}),_.jsx("circle",{id:`virtual_circle_${t}`,r:5,stroke:"black",fill:"white",fillOpacity:"0"})]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,transform:"rotate(45)",focusable:!1,children:[_.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),_.jsx("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:"currentColor"}),_.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"18",stroke:"currentColor"})]}),defaultAttrs:{},attrsComponent:()=>{},metadata:{displayName:"panel.details.nodes.virtual.displayName",tags:[]}}),Ue=new Set([a.zh,a.mtr_zh,a.jreast_ja,a.taipei]),We={content:"Enter your text here",fontSize:16,lineHeight:16,textAnchor:"middle",dominantBaseline:"middle",language:a.en,color:[l.Shanghai,"jsr","#000000",i.white],rotate:0,italic:"normal",bold:"normal",outline:0},_e={component:e=>{const n=d(),{id:l,x:i,y:a,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:u}=e,{content:m=We.content,fontSize:x=We.fontSize,lineHeight:p=We.lineHeight,textAnchor:g=We.textAnchor,dominantBaseline:f=We.dominantBaseline,language:y=We.language,color:j=We.color,rotate:b=We.rotate,italic:v=We.italic,bold:w=We.bold,outline:C=We.outline}=null!=o?o:We,P=ye.useRef(null),[S,N]=ye.useState({x:0,y:0,width:32,height:16});ye.useEffect(()=>N(P.current.getBBox()),[m,x,p,g,f,y,b,v,w,N,P]),ye.useEffect(()=>{n(c(y))},[y]);const k=ye.useCallback(e=>r(l,e),[l,r]),B=ye.useCallback(e=>s(l,e),[l,s]),z=ye.useCallback(e=>u(l,e),[l,u]);return _.jsxs("g",{id:l,transform:`translate(${i}, ${a})rotate(${b})`,onPointerDown:k,onPointerMove:B,onPointerUp:z,style:{cursor:"move"},children:[_.jsx("rect",{className:"removeMe",fill:"gray",fillOpacity:"0.1",x:S.x-1.5,y:S.y-1.5,width:S.width+3,height:S.height+3}),_.jsx(ve,t(t({ref:P,text:m.split("\n"),lineHeight:p,grow:"down",className:C>0?"rmp-name-outline":""},h(y)),{},{strokeWidth:C>0?C:void 0,fontSize:x,textAnchor:g,dominantBaseline:f,fill:j[2],fontStyle:v,fontWeight:w}))]})},icon:_.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:_.jsx("text",{x:"12",y:"12",textAnchor:"middle",dominantBaseline:"middle",fontSize:"10",children:"Text"})}),defaultAttrs:We,attrsComponent:e=>{var t,n,l,i,a,d,c,h,u;const{id:m,attrs:x,handleAttrsUpdate:p}=e,{t:g}=je(),f=[{type:"textarea",label:g("panel.details.nodes.text.content"),value:null!==(t=x.content)&&void 0!==t?t:We.content,onChange:e=>{x.content=e.toString(),p(m,x)},minW:"full"},{type:"input",label:g("panel.details.nodes.text.fontSize"),value:(null!==(n=x.fontSize)&&void 0!==n?n:We.fontSize).toString(),validator:e=>Number.isInteger(e)&&Number(e)>0,onChange:e=>{x.fontSize=Number(e),p(m,x)},minW:"full"},{type:"input",label:g("panel.details.nodes.text.lineHeight"),value:(null!==(l=x.lineHeight)&&void 0!==l?l:We.lineHeight).toString(),validator:e=>Number.isInteger(e)&&Number(e)>0,onChange:e=>{x.lineHeight=Number(e),p(m,x)},minW:"full"},{type:"select",label:g("panel.details.nodes.text.textAnchor"),value:null!==(i=x.textAnchor)&&void 0!==i?i:We.textAnchor,options:{start:g("panel.details.nodes.text.start"),middle:g("panel.details.nodes.text.middle"),end:g("panel.details.nodes.text.end")},onChange:e=>{x.textAnchor=e,p(m,x)},minW:"full"},{type:"select",label:g("panel.details.nodes.text.dominantBaseline"),value:null!==(a=x.dominantBaseline)&&void 0!==a?a:We.dominantBaseline,options:{auto:g("panel.details.nodes.text.auto"),middle:g("panel.details.nodes.text.middle"),hanging:g("panel.details.nodes.text.hanging")},onChange:e=>{x.dominantBaseline=e,p(m,x)},minW:"full"},{type:"select",label:g("panel.details.nodes.text.language"),value:null!==(d=x.language)&&void 0!==d?d:We.language,options:{zh:g("panel.details.nodes.text.zh"),en:g("panel.details.nodes.text.en"),mtr_zh:g("panel.details.nodes.text.mtr_zh"),mtr_en:g("panel.details.nodes.text.mtr_en"),berlin:g("panel.details.nodes.text.berlin"),mrt:g("panel.details.nodes.text.mrt"),jreast_ja:g("panel.details.nodes.text.jreast_ja"),jreast_en:g("panel.details.nodes.text.jreast_en"),tokyo_en:g("panel.details.nodes.text.tokyo_en"),tube:g("panel.details.nodes.text.tube"),taipei:g("panel.details.nodes.text.taipei")},onChange:e=>{x.language=e.toString(),p(m,x)},minW:"full"},{type:"input",label:g("panel.details.nodes.text.rotate"),value:(null!==(c=x.rotate)&&void 0!==c?c:We.rotate).toString(),optionList:["0","45","90","135","180","225","270","315"],debouncedDelay:500,validator:e=>!Number.isNaN(e),onChange:e=>{x.rotate=(Number(e)%360+360)%360,p(m,x)},minW:"full"},{type:"custom",label:"",hidden:!Ue.has(null!==(h=x.language)&&void 0!==h?h:We.language),component:_.jsxs(D,{status:"warning",children:[_.jsx(R,{}),g("panel.details.nodes.text.fontSynthesisWarning")]}),minW:"full"},{type:"switch",label:g("panel.details.nodes.text.italic"),isChecked:"italic"===x.italic,onChange:e=>{x.italic=e?"italic":"normal",p(m,x)},minW:"full",oneLine:!0},{type:"switch",label:g("panel.details.nodes.text.bold"),isChecked:"bold"===x.bold,onChange:e=>{x.bold=e?"bold":"normal",p(m,x)},minW:"full",oneLine:!0},{type:"input",label:g("panel.details.nodes.text.outline"),value:(null!==(u=x.outline)&&void 0!==u?u:We.outline).toString(),validator:e=>Number.isInteger(e)&&Number(e)>0,onChange:e=>{x.outline=Math.abs(Number(e)),p(m,x)},minW:"full"},{type:"custom",label:g("color"),component:_.jsx(o,{type:r.Text,defaultTheme:We.color})}];return _.jsx(s,{fields:f})},metadata:{displayName:"panel.details.nodes.text.displayName",tags:[]}},De=t({contents:{}},We),Re={component:e=>{const{id:t,x:n,y:l,attrs:i,handlePointerDown:a,handlePointerMove:o,handlePointerUp:r}=e,s=u();i.content=s(i.contents);const d=_e.component;return _.jsx(d,{id:t,x:n,y:l,handlePointerDown:a,handlePointerMove:o,handlePointerUp:r,attrs:i})},icon:_e.icon,defaultAttrs:De,attrsComponent:_e.attrsComponent,metadata:{displayName:"panel.details.nodes.i18nText.displayName",tags:[]}},Ee={randomId:void 0,label:void 0,transform:m,nodeType:"MiscNode",svgs:[],components:[]},Oe={component:e=>{var n;const{id:l,x:i,y:a,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,c=ye.useCallback(e=>r(l,e),[l,r]),h=ye.useCallback(e=>s(l,e),[l,s]),u=ye.useCallback(e=>d(l,e),[l,d]),x=(e,...t)=>new Function(...t,`return ${e}`),p="MiscNode"===o.nodeType?{onPointerDown:c,onPointerMove:h,onPointerUp:u,style:{cursor:"move"}}:{},g=e=>e.map(e=>{var n,i;const a="Station"===o.nodeType&&o.core&&o.core===e.id?{id:`stn_core_${l}`,onPointerDown:c,onPointerMove:h,onPointerUp:u,style:{cursor:"move"}}:{},r=((e,t,n)=>{const l={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r))try{var i;l[r]=x(e[r].slice(1),...o.components.map(e=>e.label),"color")(...t.map((e,t)=>"number"!==n[t]||Number.isNaN(Number(e))?e:Number(e)),o.color?null!==(i=o.color.value)&&void 0!==i?i:o.color.defaultValue:"")}catch(a){l[r]=""}return l})(e.attrs,o.components.map(e=>e.value),o.components.map(e=>e.type));return _.jsx("g",{transform:`translate(${null!==(n=r.x)&&void 0!==n?n:0}, ${null!==(i=r.y)&&void 0!==i?i:0})`,children:ye.createElement(e.type,t(t({},r),{},{x:0,y:0},a),e.children?g(e.children):"_rmp_children_text"in r?"style"===e.type?(s=r._rmp_children_text,s.replace(/(^|,)\s*([^{},]+)/g,`$1 #${l} $2`)):r._rmp_children_text:null)},e.id);var s}),f=null!==(n=o.transform)&&void 0!==n?n:m,y=ye.useMemo(()=>g(o.svgs),[o]);return ye.createElement("g",t({id:l,transform:`translate(${i}, ${a})`},p),o.randomId?_.jsx("g",{transform:`translate(${f.translateX}, ${f.translateY}) scale(${f.scale}) rotate(${f.rotate})`,children:y}):_.jsxs("g",{children:[_.jsx("circle",{r:"5.5"}),_.jsx("g",{transform:"translate(-4.7, -5) scale(0.8)",children:_.jsx("polygon",{points:"6,1 7.5,4.25 11,4.65 8.5,7.1 9.2,10.75 6,9 2.8,10.75 3.5,7.1 1,4.65 4.5,4.25",fill:"white"})})]}))},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),_.jsx("g",{transform:"translate(7.25, 7) scale(0.8)",children:_.jsx("polygon",{points:"6,1 7.5,4.25 11,4.65 8.5,7.1 9.2,10.75 6,9 2.8,10.75 3.5,7.1 1,4.65 4.5,4.25",fill:"currentColor"})})]}),defaultAttrs:Ee,attrsComponent:e=>{var n,l,a,o,r;const{id:d,attrs:c,handleAttrsUpdate:h}=e,{t:u}=je(),[m,b]=ye.useState(!1),[v,w]=ye.useState(!1),C=c.components.map((e,n)=>{const{label:l,type:i,defaultValue:a,value:o}=e;return"number"===i||"text"===i?{label:u(l),type:"input",value:null!=o?o:a,onChange:e=>{c.components[n].value=e,h(d,t(t({},c),{},{components:c.components}))}}:"switch"===i?{label:u(l),type:"switch",isChecked:void 0!==o?!!o:a,onChange:e=>{c.components[n].value=e,h(d,t(t({},c),{},{components:c.components}))}}:"textarea"===i?{label:u(l),type:"textarea",value:null!=o?o:a,onChange:e=>{c.components[n].value=e,h(d,t(t({},c),{},{components:c.components}))}}:{type:"input",label:"undefined",value:"none"}}),{theme:P,requestThemeChange:S}=x({theme:null===(n=c.color)||void 0===n?void 0:n.value,onThemeApplied:e=>{c.color&&(c.color.value=e,h(d,t(t({},c),{},{color:c.color})))}}),N=[{type:"custom",label:u("color"),component:_.jsx(p,{theme:P,onClick:S})}];return _.jsxs(_.Fragment,{children:[_.jsxs(E,{direction:"row",mr:"auto",width:"100%",children:[_.jsx(g,{width:"100%",overflow:"hidden",label:u("panel.details.nodes.master.type"),children:_.jsxs(E,{width:"100%",overflow:"hidden",children:[_.jsx(f,{name:null!==(l=c.label)&&void 0!==l?l:u("panel.details.nodes.master.undefined"),fg:null!==(a=c.labelColorFg)&&void 0!==a?a:i.white,bg:null!==(o=c.labelColorBg)&&void 0!==o?o:"#000000",sx:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis"},mr:1}),_.jsx(f,{name:null!==(r=c.randomId)&&void 0!==r?r:"UNDEFINED",fg:i.white,bg:c.randomId?"#19B3EA":"#000000",sx:{display:"inline-block"},mr:1})]})}),_.jsx(O,{}),_.jsx(I,{icon:_.jsx(y,{}),onClick:()=>b(!0),"aria-label":"upload"})]}),_.jsx(F,{width:"100%",leftIcon:_.jsx(j,{}),onClick:()=>w(!0),children:u("header.settings.procedures.masterManager.title")}),c.randomId&&_.jsx(s,{fields:C,minW:"full"}),c.randomId&&void 0!==c.color&&_.jsx(s,{fields:N,minW:"full"}),_.jsx(we,{isOpen:m,onClose:()=>b(!1),onSubmit:e=>{e.components.forEach((t,n)=>{var l;e.components[n].value=null!==(l=(e=>{var t;const n=c.components.find(t=>t.id===e);return n?null!==(t=n.value)&&void 0!==t?t:n.defaultValue:void 0})(t.id))&&void 0!==l?l:t.defaultValue}),void 0!==e.color&&(e.color.value=c.color?c.color.value:e.color.defaultValue),h(d,e)}}),_.jsx(Ce,{isOpen:v,onClose:()=>w(!1)})]})},metadata:{displayName:"panel.details.nodes.master.displayName",tags:[]}},Ie=e=>{const{id:t,isOpen:n,onClose:l,onChange:i}=e,{t:a}=je(),{token:o,activeSubscriptions:{RMP_EXPORT:s}}=b(e=>e.account),d=ye.useRef(window.graph),c=be(),[h,u]=ye.useState(0),[m,x]=ye.useState(!1),[p,g]=ye.useState([]),[f,y]=ye.useState([]),[j,B]=ye.useState(void 0),[z,L]=ye.useState([]),A=[p,f];ye.useEffect(()=>{if(n){(async e=>{x(!0),B(void 0),await e(),L([]),x(!1)})(0===h?async()=>g(await Ae()):async()=>y(await Le(o)))}},[n,h]);return _.jsxs(q,{isOpen:n,onClose:l,size:"3xl",scrollBehavior:"inside",children:[_.jsx(H,{}),_.jsxs(Q,{children:[_.jsx(V,{children:a("panel.details.image.importTitle")}),_.jsx(Z,{}),_.jsx(G,{children:_.jsxs(K,{isLazy:!0,isFitted:!0,overflow:"hidden",index:h,onChange:e=>u(e),children:[_.jsxs(J,{children:[_.jsx(Y,{children:a("panel.details.image.local")}),s?_.jsxs(Y,{children:[a("panel.details.image.server"),_.jsx(X,{ml:"1",color:"gray.50",background:"radial-gradient(circle, #3f5efb, #fc466b)",children:"PRO"})]}):_.jsx(ee,{label:a("header.settings.pro"),hasArrow:!0,children:_.jsxs(Y,{isDisabled:!0,children:[a("panel.details.image.server"),_.jsx(X,{ml:"1",color:"gray.50",background:"radial-gradient(circle, #3f5efb, #fc466b)",children:"PRO"})]})})]}),_.jsx(te,{overflow:"hidden",h:"100%",children:A.map((e,t)=>_.jsx(ne,{overflowY:"auto",h:"calc(100% - 2rem - 8px)",children:m?_.jsxs(le,{textAlign:"center",py:10,children:[_.jsx(ie,{size:"xl"}),_.jsx(ae,{mt:4,children:a("panel.details.image.loading")})]}):_.jsxs(oe,{mt:"2",children:[_.jsx(re,{paddingTop:"0",children:_.jsx(E,{flexWrap:"wrap",children:e.map(e=>_.jsxs(E,{direction:"column",children:[_.jsx(le,{boxSize:"300px",m:"2",border:"1px solid",borderColor:"gray.200",overflow:"hidden",borderRadius:"md",children:_.jsx(se,{id:`image_thumbnail_${e.id}`,src:e.thumbnail,boxSize:"100%",objectFit:"cover"})},e.id),_.jsxs(E,{direction:"row",width:"100%",children:[_.jsx(I,{m:"1","aria-label":a("download"),icon:_.jsx(v,{}),colorScheme:"blue",onClick:()=>(async e=>{e.id.startsWith("img-s")&&!1===await Pe.has(e.id)&&await Se(e.id,e.hash);const t=await Pe.get(e.id);if(t){var n;const l=null!==(n=Ne(t))&&void 0!==n?n:"jpg";ke(t,`image_${e.id}.${l}`)}})(e)}),_.jsx(I,{m:"1",width:"100%","aria-label":a("select"),icon:_.jsx(w,{}),colorScheme:z.find(t=>t.id===e.id)?"blue":"gray",onClick:()=>L([e])}),_.jsx(I,{m:"1","aria-label":"Delete",icon:_.jsx(C,{}),colorScheme:"red",onClick:()=>(async e=>{if(d.current.filterNodes((t,n)=>{var l;return t.startsWith("misc_node")&&"image"===n.type&&(null===(l=n.image)||void 0===l?void 0:l.href)===e}).forEach(e=>{const t=d.current.getNodeAttribute(e,r.Image);t.href=void 0,d.current.mergeNodeAttributes(e,{[r.Image]:t})}),e.startsWith("img-l"))Pe.delete(e),g(t=>t.filter(t=>t.id!==e));else{const n=e.slice(6);try{(await fetch(`${P}/data/${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${o}`}})).ok?(y(t=>t.filter(t=>t.id!==e)),Pe.delete(e)):S.error("Failed to delete image from server")}catch(t){S.error("Error deleting image:",t)}}c(N())})(e.id)})]})]},e.id))})}),_.jsx(de,{children:_.jsxs(E,{width:"100%",direction:"column",children:[_.jsxs(E,{direction:"row",children:[_.jsx(ce,{size:"md",width:"100%",children:a("panel.details.image.add")}),_.jsx(he,{variant:"flushed",type:"file",accept:"image/*",onChange:e=>(async(e,t)=>{var n;const l=0===t?"local":"server",i=null===(n=e.target.files)||void 0===n?void 0:n[0];if(S.debug("File selected:",i),i)if("server"===l){if(i.size>4194304)return void B("Image is too big.");const e=await Be(i);if(!e)return;const t=await ze(e),n=new FileReader,l=new FormData;l.append("image",new Blob([e],{type:i.type}),i.name),l.append("mimetype",i.type),l.append("hash",t);try{const e=await fetch(P,{method:"POST",headers:{Authorization:`Bearer ${o}`},body:l}),t=await e.json();if(t.code&&201!==t.code)B(t.message);else{const e=`img-s_${t.id}`;Pe.save(e,n.result),y(await Le(o))}}catch(a){S.error("Error uploading image:",a)}}else{const e=new FileReader;e.onload=()=>{if("string"==typeof e.result){const t=`img-l_${k(10)}`;Pe.save(t,e.result),g(n=>[...n,{id:t,thumbnail:e.result}])}},e.readAsDataURL(i)}})(e,t)})]}),j&&_.jsxs(D,{status:"error",variant:"left-accent",borderRadius:"md",boxShadow:"md",position:"relative",children:[_.jsx(R,{}),_.jsxs(le,{flex:"1",children:[_.jsx(ue,{children:a("panel.details.image.error")}),_.jsx(me,{children:j})]}),_.jsx(xe,{position:"absolute",right:"8px",top:"8px",onClick:()=>B(void 0)})]})]})})]})},t))})]})}),_.jsxs(pe,{children:[_.jsx(F,{colorScheme:"blue",variant:"outline",mr:"1",onClick:l,children:a("close")}),_.jsx(F,{colorScheme:"blue",variant:"solid",mr:"1",onClick:async()=>{if(x(!0),z.length>0){const e=z[0].id,n=z[0].hash;e.startsWith("img-l")?i(t,e,"local"):(await Se(e,n),i(t,e,"server",n))}x(!1),l()},isDisabled:0===z.length,children:a("apply")})]})]})]})},Fe={type:"local",scale:1,rotate:0,opacity:1},qe={component:e=>{const{id:t,x:n,y:l,attrs:i,handlePointerDown:a,handlePointerMove:o,handlePointerUp:r}=e,{type:s=Fe.type,href:d=Fe.href,scale:c=Fe.scale,rotate:h=Fe.rotate,opacity:u=Fe.opacity}=null!=i?i:Fe,{refresh:{images:m}}=b(e=>e.runtime),x=ye.useCallback(e=>a(t,e),[t,a]),p=ye.useCallback(e=>o(t,e),[t,o]),g=ye.useCallback(e=>r(t,e),[t,r]),[f,y]=ye.useState(void 0);return ye.useEffect(()=>{let e=!1;return d?Pe.get(d).then(t=>{e||y(t)}):y(void 0),()=>{e=!0}},[t,d,m]),_.jsx("g",{id:t,transform:`translate(${n}, ${l})`,children:void 0===d||void 0===f?_.jsxs("g",{transform:"translate(-5, -5)",className:"removeMe",onPointerDown:x,onPointerMove:p,onPointerUp:g,style:{cursor:"move"},children:[_.jsx("rect",{x:"0",y:"0",width:"12",height:"12",fill:"transparent"}),_.jsx(L,{})]}):_.jsxs("g",{children:[_.jsx("g",{transform:`rotate(${h}) scale(${c})`,children:_.jsx("image",{href:f,opacity:u})}),_.jsxs("g",{transform:"rotate(45)",className:"removeMe",onPointerDown:x,onPointerMove:p,onPointerUp:g,style:{cursor:"move"},children:[_.jsx("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"black"}),_.jsx("line",{x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"black"}),_.jsx("circle",{r:5,stroke:"black",fill:"white",fillOpacity:"0"})]})]})})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),_.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),_.jsx("path",{d:"M21 15l-5-5L5 21"})]}),defaultAttrs:Fe,attrsComponent:e=>{var n,l,i;const{id:a,attrs:o,handleAttrsUpdate:r}=e,{t:d}=je(),[c,h]=ye.useState(!1),[u,m]=ye.useState(void 0);ye.useEffect(()=>{let e=!1;return o.href?Pe.get(o.href).then(t=>{e||m(t)}):m(void 0),()=>{e=!0}},[a,o.href]);const x=[{label:d("panel.details.nodes.image.scale"),type:"input",value:(null!==(n=o.scale)&&void 0!==n?n:Fe.scale).toString(),validator:e=>!Number.isNaN(e),onChange:e=>{o.scale=Number(e),r(a,o)},minW:"full",hidden:!o.href},{label:d("panel.details.nodes.image.rotate"),type:"slider",value:null!==(l=o.rotate)&&void 0!==l?l:Fe.rotate,min:0,max:360,step:1,onChange:e=>{o.rotate=Number(e),r(a,o)},leftIcon:_.jsx(z,{}),rightIcon:_.jsx(B,{}),minW:"full",hidden:!o.href},{label:d("panel.details.nodes.image.opacity"),type:"slider",value:null!==(i=o.opacity)&&void 0!==i?i:Fe.opacity,min:0,max:1,step:.01,onChange:e=>{o.opacity=Number(e),r(a,o)},leftIcon:_.jsx(z,{}),rightIcon:_.jsx(B,{}),minW:"full",hidden:!o.href},{label:d("panel.details.nodes.image.preview"),type:"custom",component:void 0!==o.href&&Pe.has(o.href)?_.jsx(se,{src:u}):"Please upload file.",minW:"full"}],[p,g]=ye.useState(!1);return ye.useEffect(()=>{o.href&&o.href.startsWith("img-s")?Pe.has(`${o.href}_thumbnail`).then(e=>{g(e)}):g(!0)},[o.href]),_.jsxs(_.Fragment,{children:[_.jsx(s,{fields:x}),_.jsx(F,{colorScheme:"blue",variant:"outline",onClick:()=>h(!0),isDisabled:!p,minW:"full",children:d("panel.details.image.importTitle")}),_.jsx(Ie,{id:a,isOpen:c,onClose:()=>h(!1),onChange:(e,n,l,i)=>{r(e,t(t({},o),{},{type:l,href:n,hash:i}))}})]})},metadata:{displayName:"panel.details.nodes.image.displayName",tags:[]}},He=(e,t,n=100)=>{if(!e.hasNode(t))return;const l=[],i=new Map;let a;for(e.forEachOutEdge(t,(e,n,a,o)=>{const r=o;r!==t&&(i.has(r)||(i.set(r,{parent:t,edge:e}),l.push({node:r,parent:t,edge:e})))});l.length>0;){const{node:o}=l.shift(),r=[];let s=o;for(;i.has(s);){r.push(s);s=i.get(s).parent}const d=r.length;a&&d>=a.nodes.length-1||(d+2>n||e.forEachOutEdge(o,(e,n,r,s)=>{const d=s;if(d===t){const n=[t],l=[];let r=o;for(l.unshift(e);r!==t&&i.has(r);){n.unshift(r);const e=i.get(r);l.unshift(e.edge),r=e.parent}n.unshift(t);const s={nodes:n,edges:l};return void((!a||s.nodes.length<a.nodes.length)&&(a=s))}i.has(d)||(i.set(d,{parent:o,edge:e}),l.push({node:d,parent:o,edge:e}))}))}return a},Qe={color:[l.Shanghai,"fill","#FF0000",i.white],opacity:.5,selectedPatterns:["logo"]},Ve={component:e=>{const{id:t,x:n,y:l,attrs:i,handlePointerDown:a,handlePointerMove:o,handlePointerUp:r}=e,{color:s=Qe.color,opacity:d=Qe.opacity,selectedPatterns:c=Qe.selectedPatterns}=null!=i?i:Qe,{refresh:h}=b(e=>e.runtime),u=window.graph,m=ye.useCallback(e=>a(t,e),[t,a]),x=ye.useCallback(e=>o(t,e),[t,o]),p=ye.useCallback(e=>r(t,e),[t,r]),g=ye.useMemo(()=>He(u,t),[u,t,h]),f=ye.useMemo(()=>{if(g)return((e,t,n)=>{if(t.length!==n.length+1||t.length<3)return;let l="";for(let a=0;a<n.length;a++){var i;const o=t[a],r=t[a+1],s=n[a],d=e.getNodeAttributes(o),c=e.getNodeAttributes(r),h=e.getEdgeAttributes(s),u=h.type,m=h[u],x=d.x,p=d.y,g=c.x,f=c.y,y=structuredClone(m);e.source(s)!==o&&null!=y&&y.startFrom&&(y.startFrom="from"===y.startFrom?"to":"from");let j=(null===(i=U[u])||void 0===i?void 0:i.generatePath(x,g,p,f,y))||`M ${x} ${p} L ${g} ${f}`;if(a>0){const e=j.split(" ");j=e.slice(3).join(" ")}l+=(a>0?" ":"")+j}return l+" Z"})(u,g.nodes,g.edges)},[g]),y=60,j=60,v=$e(s[2],d);return _.jsxs("g",{id:t,transform:`translate(${n}, ${l})`,children:[f&&_.jsxs("g",{transform:`translate(${-n}, ${-l})`,children:[_.jsxs("defs",{children:[_.jsx("pattern",{id:`trees_${t}`,patternUnits:"userSpaceOnUse",width:y,height:j,fill:"none",stroke:v,strokeWidth:"0.6",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("path",{transform:"translate(0,0)",d:"M10 20 L10 14 L4 16 L10 8 L4 10 L10 2 L16 10 L10 8 L16 16 L10 14"})}),_.jsxs("pattern",{id:`water_${t}`,patternUnits:"userSpaceOnUse",width:y,height:j,fill:"none",stroke:v,strokeWidth:"0.8",strokeLinecap:"round",children:[_.jsx("path",{transform:"translate(20,0)",d:"M2 4 Q7 -2 12 4 T18 4"}),_.jsx("path",{transform:"translate(20,0)",d:"M2 10 Q7 4 12 10 T18 10"}),_.jsx("path",{transform:"translate(20,0)",d:"M2 16 Q7 10 12 16 T18 16"})]})]}),_.jsx("path",{d:f,fill:s[2],fillOpacity:d,stroke:"none",pointerEvents:"none"}),c.map(e=>_.jsx("path",{d:f,fill:`url(#${e}_${t})`,fillOpacity:d,stroke:"none",pointerEvents:"none"},e))]}),_.jsxs("g",{transform:"rotate(45)",className:"removeMe",children:[_.jsx("circle",{r:"5",fill:s[2],stroke:"#000"}),_.jsx("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"black"}),_.jsx("line",{x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"black"}),_.jsx("circle",{id:`misc_node_connectable_${t}`,r:"5",fill:"rgb(255, 255, 255, 0)",stroke:"rgb(0, 0, 0, 0)",onPointerDown:m,onPointerMove:x,onPointerUp:p,style:{cursor:"move"}})]})]})},icon:_.jsx("svg",{viewBox:"-2 -4 28 26",height:"40",width:"40",focusable:!1,children:_.jsx("path",{d:"M16.56 8.94 7.62 0 6.21 1.41l2.38 2.38-5.15 5.15a1.49 1.49 0 0 0 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12zM5.21 10 10 5.21 14.79 10H5.21zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1"})}),defaultAttrs:Qe,attrsComponent:e=>{var n,l,i;const{id:a,attrs:c,handleAttrsUpdate:h}=e,u=d(),{preference:{autoParallel:m}}=b(e=>e.app),{refresh:x,theme:p}=b(e=>e.runtime),{t:g}=je(),f=window.graph,y=ye.useCallback(()=>{u(A(f.export())),u($()),u(T())},[u]),j=ye.useMemo(()=>!!He(f,a),[f,a,x]),v=e=>{const n=f.getNodeAttributes(a),{x:l,y:i}=n,o=200,s=[],d=[a],c={type:r.Virtual,[r.Virtual]:{},visible:!0,zIndex:0};if("square"===e){[{x:l+o,y:i},{x:l+o,y:i+o},{x:l,y:i+o}].forEach(e=>{const n=`misc_node_${k(10)}`;d.push(n),s.push({id:n,attrs:t(t({},e),c)})})}else if("triangle"===e){[{x:l+o,y:i},{x:l+100,y:i+100}].forEach(e=>{const n=`misc_node_${k(10)}`;d.push(n),s.push({id:n,attrs:t(t({},e),c)})})}else if("circle"===e){[{x:l+100,y:i-100},{x:l+o,y:i},{x:l+100,y:i+100}].forEach(e=>{const n=`misc_node_${k(10)}`;d.push(n),s.push({id:n,attrs:t(t({},e),c)})})}s.forEach(({id:e,attrs:t})=>{f.addNode(e,t)});for(let t=0;t<d.length;t++){const n=d[t],l=d[(t+1)%d.length],i=`line_${k(10)}`,a="triangle"===e?M.Diagonal:M.Perpendicular,r=structuredClone(U[a].defaultAttrs);"circle"===e&&(t%2==0&&(r.startFrom="to"),r.roundCornerFactor=o),f.addDirectedEdgeWithKey(i,n,l,{visible:!0,zIndex:0,type:a,[a]:r,style:W.SingleColor,[W.SingleColor]:{color:p},reconcileId:"",parallelIndex:m?0:-1})}y()};if(!j)return _.jsxs(ge,{spacing:1,align:"stretch",children:[_.jsx(ae,{fontSize:"sm",color:"gray.500",children:g("panel.details.nodes.fill.noClosedPath")}),_.jsx(F,{width:"50%",onClick:()=>v("square"),children:g("panel.details.nodes.fill.createSquare")}),_.jsx(F,{width:"50%",onClick:()=>v("triangle"),children:g("panel.details.nodes.fill.createTriangle")}),_.jsx(F,{width:"50%",onClick:()=>v("circle"),children:g("panel.details.nodes.fill.createCircle")})]});const w=(e,n)=>{var l;const i=null!==(l=c.selectedPatterns)&&void 0!==l?l:[],o=n?[...i,e]:i.filter(t=>t!==e);h(a,t(t({},c),{},{selectedPatterns:o}))},C=[{type:"input",label:g("panel.details.nodes.fill.opacity"),value:(null!==(n=c.opacity)&&void 0!==n?n:Qe.opacity).toString(),validator:e=>!Number.isNaN(Number(e))&&Number(e)>=0&&Number(e)<=1,onChange:e=>{h(a,t(t({},c),{},{opacity:Number(e)}))},minW:"full"},{type:"custom",label:g("color"),component:_.jsx(o,{type:r.Fill,defaultTheme:Qe.color})},{type:"custom",label:g("panel.details.nodes.fill.patterns"),component:_.jsxs(ge,{alignItems:"flex-start",children:[_.jsx(fe,{isChecked:(null!==(l=c.selectedPatterns)&&void 0!==l?l:[]).includes("trees"),onChange:e=>w("trees",e.target.checked),children:g("panel.details.nodes.fill.trees")}),_.jsx(fe,{isChecked:(null!==(i=c.selectedPatterns)&&void 0!==i?i:[]).includes("water"),onChange:e=>w("water",e.target.checked),children:g("panel.details.nodes.fill.water")})]}),minW:"full"}];return _.jsx(s,{fields:C})},metadata:{displayName:"panel.details.nodes.fill.displayName",tags:[]}},Ze={num:1,color:[l.Shanghai,"sh1","#E4002B",i.white]},Ge={component:e=>{const{id:n,x:l,y:i,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=Ze.num,color:u=Ze.color}=null!=o?o:Ze,[m,x]=c>=10?[22.67,10.75]:[21,10],p=ye.useCallback(e=>r(n,e),[n,r]),g=ye.useCallback(e=>s(n,e),[n,s]),f=ye.useCallback(e=>d(n,e),[n,d]);return _.jsxs("g",{id:n,transform:`translate(${l}, ${i})`,onPointerDown:p,onPointerMove:g,onPointerUp:f,style:{cursor:"move"},children:[_.jsx("rect",{fill:u[2],width:m,height:"22.67"}),_.jsx("text",t(t({},h(a.en)),{},{textAnchor:"middle",x:x,y:"19",fill:u[3],fontSize:"21.33",letterSpacing:"-1.75",children:c})),_.jsx("text",t(t({},h(a.zh)),{},{x:m+2,y:"12",fontSize:"14.67",children:"号线"})),_.jsxs("text",t(t({},h(a.en)),{},{x:m+4,y:"21.5",fontSize:"8",children:["Line ",c]}))]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"10",height:"16"}),_.jsx("text",{x:"4",y:"18",fill:"white",children:"1"}),_.jsx("text",{x:"14",y:"10",fontSize:"5",children:"号线"}),_.jsx("text",{x:"14",y:"18",fontSize:"4",children:"Line 1"})]}),defaultAttrs:Ze,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:i}=e,{t:a}=je(),d=[{type:"input",label:a("panel.details.nodes.common.num"),value:(null!==(t=l.num)&&void 0!==t?t:Ze.num).toString(),validator:e=>!Number.isNaN(e),onChange:e=>{l.num=Number(e),i(n,l)}},{type:"custom",label:a("color"),component:_.jsx(o,{type:r.ShmetroNumLineBadge,defaultTheme:Ze.color})}];return _.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.shmetroNumLineBadge.displayName",tags:[]}},Ke={names:["浦江线","Pujiang Line"],color:[l.Shanghai,"pjl","#B5B5B6",i.white]},Je={component:e=>{const{id:n,x:l,y:i,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{names:c=Ke.names,color:u=Ke.color}=null!=o?o:Ke,m=ye.useRef(null),[x,p]=ye.useState({width:12});ye.useEffect(()=>p(m.current.getBBox()),[...c,p,m]);const g=ye.useCallback(e=>r(n,e),[n,r]),f=ye.useCallback(e=>s(n,e),[n,s]),y=ye.useCallback(e=>d(n,e),[n,d]);return _.jsxs("g",{id:n,transform:`translate(${l}, ${i})`,onPointerDown:g,onPointerMove:f,onPointerUp:y,style:{cursor:"move"},children:[_.jsx("rect",{fill:u[2],x:"0",width:x.width+7,height:"21"}),_.jsxs("g",{ref:m,children:[_.jsx("text",t(t({},h(a.zh)),{},{textAnchor:"middle",dominantBaseline:"hanging",x:(x.width+7)/2,y:"3",fontSize:"10",fill:u[3],letterSpacing:"-0.25",children:c[0]})),_.jsx("text",t(t({},h(a.en)),{},{textAnchor:"middle",dominantBaseline:"hanging",x:(x.width+7)/2,y:"14",fontSize:"5",fill:u[3],letterSpacing:"-0.25",children:c[1]}))]})]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),_.jsx("text",{x:"5",y:"11",fontSize:"5",fill:"white",children:"浦江线"}),_.jsx("text",{x:"3",y:"16",fontSize:"4",fill:"white",children:"Pujiang Line"})]}),defaultAttrs:Ke,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:i}=je(),a=[{type:"input",label:i("panel.details.nodes.common.nameZh"),value:n.names[0],onChange:e=>{n.names[0]=e,l(t,n)},minW:"full"},{type:"input",label:i("panel.details.nodes.common.nameEn"),value:n.names[1],onChange:e=>{n.names[1]=e,l(t,n)},minW:"full"},{type:"custom",label:i("color"),component:_.jsx(o,{type:r.ShmetroTextLineBadge,defaultTheme:Ke.color})}];return _.jsx(s,{fields:a})},metadata:{displayName:"panel.details.nodes.shmetroTextLineBadge.displayName",tags:[]}},Ye={names:["1号线","Line 1"],color:[l.Guangzhou,"gz1","#F3D03E",i.black],tram:!1,span:!0},Xe={component:e=>{var n,l;const{id:i,x:o,y:r,attrs:s,handlePointerDown:d,handlePointerMove:c,handlePointerUp:u}=e,{names:m=Ye.names,color:x=Ye.color,tram:p=Ye.tram,span:g=Ye.span}=null!=s?s:Ye,f=ye.useCallback(e=>d(i,e),[i,d]),y=ye.useCallback(e=>c(i,e),[i,c]),j=ye.useCallback(e=>u(i,e),[i,u]),b=ye.useRef(null),[v,w]=ye.useState({height:0,width:0});return ye.useEffect(()=>{var e,t;return w(null!==(e=null===(t=b.current)||void 0===t?void 0:t.getBBox())&&void 0!==e?e:{height:0,width:0})},[...m,p]),_.jsxs("g",{id:i,transform:`translate(${o}, ${r-v.height/2})scale(${p?.5:1})`,children:[_.jsx(Te,{ref:b,zhName:null!==(n=m.at(0))&&void 0!==n?n:"",enName:null!==(l=m.at(1))&&void 0!==l?l:"",textProps:{digits:t({},h(a.en)),zh:t({},h(a.zh)),en:t({},h(a.en))},foregroundColour:x[3],backgroundColour:x[2],spanDigits:g}),_.jsx("rect",{id:`misc_node_connectable_${i}`,x:-v.width/2,width:v.width,height:"24",fill:"transparent",onPointerDown:f,onPointerMove:y,onPointerUp:j,style:{cursor:"move"}})]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"2",y:"5",width:"20",height:"14",rx:"1"}),_.jsx("text",{x:"6",y:"15",textAnchor:"middle",fontSize:"10",fill:"white",children:"1"}),_.jsx("text",{x:"15",y:"12",textAnchor:"middle",fontSize:"6",fill:"white",children:"号线"}),_.jsx("text",{x:"14.5",y:"17",textAnchor:"middle",fontSize:"4",fill:"white",children:"Line 1"})]}),defaultAttrs:Ye,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:i}=e,{t:a}=je(),d=[{type:"input",label:a("panel.details.nodes.common.nameZh"),value:l.names[0],onChange:e=>{l.names[0]=e,i(n,l)},minW:"full"},{type:"input",label:a("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:Ye.names[1],onChange:e=>{l.names[1]=e,i(n,l)},minW:"full"},{type:"switch",label:a("panel.details.nodes.gzmtrLineBadge.tram"),oneLine:!0,isChecked:l.tram,onChange:e=>{l.tram=e,i(n,l)},minW:"full"},{type:"switch",label:a("panel.details.nodes.gzmtrLineBadge.span"),oneLine:!0,isChecked:l.span,onChange:e=>{l.span=e,i(n,l)},minW:"full"},{type:"custom",label:a("color"),component:_.jsx(o,{type:r.GzmtrLineBadge,defaultTheme:Ye.color})}];return _.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.gzmtrLineBadge.displayName",tags:[]}},et=11.84375,tt={num:1,color:[l.Beijing,"bj1","#c23a30",i.white]},nt={component:e=>{const{id:n,x:l,y:o,attrs:r,handlePointerDown:s,handlePointerMove:d,handlePointerUp:c}=e,{num:u=tt.num,color:m=tt.color}=null!=r?r:tt,x=ye.useCallback(e=>s(n,e),[n,s]),p=ye.useCallback(e=>d(n,e),[n,d]),g=ye.useCallback(e=>c(n,e),[n,c]),f=m[3]===i.black?"#003670":i.white;return _.jsxs("g",{id:n,transform:`translate(${l}, ${o})`,onPointerDown:x,onPointerMove:p,onPointerUp:g,style:{cursor:"move"},children:[_.jsx("rect",{fill:m[2],x:"0",width:32.84375,height:"16",rx:"2"}),_.jsx("text",t(t({},h(a.en)),{},{textAnchor:"middle",x:7.921875,y:"13.5",fill:f,fontSize:"15",letterSpacing:"-1.5",children:u})),_.jsx("text",t(t({x:et+(u>9?5.5:3),y:"8.5",fontSize:"7",fill:f},h(a.zh)),{},{children:"号线"})),_.jsxs("text",t(t({},h(a.en)),{},{x:et+(u>9?6:4.5),y:"13.5",fontSize:"4",fill:f,children:["Line ",u]}))]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),_.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),_.jsx("text",{x:"11",y:"11",fill:"white",fontSize:"5",children:"号线"}),_.jsx("text",{x:"11",y:"17",fill:"white",fontSize:"4",children:"Line 1"})]}),defaultAttrs:tt,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:i}=e,{t:a}=je(),d=[{type:"input",label:a("panel.details.nodes.common.num"),value:(null!==(t=l.num)&&void 0!==t?t:tt.num).toString(),validator:e=>!Number.isNaN(e),onChange:e=>{l.num=Number(e),i(n,l)}},{type:"custom",label:a("color"),component:_.jsx(o,{type:r.BjsubwayNumLineBadge,defaultTheme:tt.color})}];return _.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.bjsubwayNumLineBadge.displayName",tags:[]}},lt={names:["八通线","Batong Line"],color:[l.Beijing,"bj1","#c23a30",i.white]},it={component:e=>{const{id:n,x:l,y:o,attrs:r,handlePointerDown:s,handlePointerMove:d,handlePointerUp:c}=e,{names:u=lt.names,color:m=lt.color}=null!=r?r:lt,x=ye.useRef(null),[p,g]=ye.useState({width:12});ye.useEffect(()=>g(x.current.getBBox()),[...u,g,x]);const f=ye.useCallback(e=>s(n,e),[n,s]),y=ye.useCallback(e=>d(n,e),[n,d]),j=ye.useCallback(e=>c(n,e),[n,c]),b=Math.max(28.84375,p.width),v=m[3]===i.black?"#003670":i.white;return _.jsxs("g",{id:n,transform:`translate(${l}, ${o})`,onPointerDown:f,onPointerMove:y,onPointerUp:j,style:{cursor:"move"},children:[_.jsx("rect",{fill:m[2],x:"0",width:b+4,height:"16",rx:"2"}),_.jsxs("g",{ref:x,children:[_.jsx("text",t(t({},h(a.zh)),{},{textAnchor:"middle",x:(b+4)/2,y:"8",fontSize:"7",fill:v,children:u[0]})),_.jsx("text",t(t({},h(a.en)),{},{textAnchor:"middle",x:(b+4)/2,y:"13.5",fontSize:"4",fill:v,children:u[1]}))]})]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12",rx:"2"}),_.jsx("text",{x:"3",y:"12",fontSize:"6",fill:"white",children:"八通线"}),_.jsx("text",{x:"3",y:"16",fontSize:"3.2",fill:"white",children:"Batong Line"})]}),defaultAttrs:lt,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:i}=e,{t:a}=je(),d=[{type:"input",label:a("panel.details.nodes.common.nameZh"),value:l.names[0],onChange:e=>{l.names[0]=e,i(n,l)},minW:"full"},{type:"input",label:a("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:lt.names[1],onChange:e=>{l.names[1]=e,i(n,l)},minW:"full"},{type:"custom",label:a("color"),component:_.jsx(o,{type:r.BjsubwayTextLineBadge,defaultTheme:lt.color}),minW:"full"}];return _.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.bjsubwayTextLineBadge.displayName",tags:[]}},at={num:1,branch:!1,color:[l.Suzhou,"sz1","#78BA25",i.white]},ot={component:e=>{const{id:n,x:l,y:i,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=at.num,branch:u=at.branch,color:m=at.color}=null!=o?o:at,x=ye.useCallback(e=>r(n,e),[n,r]),p=ye.useCallback(e=>s(n,e),[n,s]),g=ye.useCallback(e=>d(n,e),[n,d]);return _.jsxs("g",{id:n,transform:`translate(${l}, ${i})`,onPointerDown:x,onPointerMove:p,onPointerUp:g,style:{cursor:"move"},children:[_.jsx("rect",{fill:m[2],width:"20",height:"20",rx:"2",ry:"2"}),_.jsx("text",t(t({},h(a.zh)),{},{textAnchor:"middle",dominantBaseline:"middle",x:"10",y:"11.4",fill:m[3],fontSize:"15",letterSpacing:"-1",children:c})),u&&_.jsxs(_.Fragment,{children:[_.jsx("text",t(t({},h(a.zh)),{},{x:22.5,y:"10",fontSize:"10",children:"支线"})),_.jsx("text",t(t({},h(a.en)),{},{x:22.5,y:"18",fontSize:"5",fill:"gray",children:"Branch line"}))]})]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"4",y:"4",width:"16",height:"16",rx:"3",ry:"3"}),_.jsx("text",{x:"12",y:"13.4",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:at,attrsComponent:e=>{var t,n;const{id:l,attrs:i,handleAttrsUpdate:a}=e,{t:d}=je(),c=[{type:"input",label:d("panel.details.nodes.common.num"),value:(null!==(t=i.num)&&void 0!==t?t:at.num).toString(),validator:e=>!Number.isNaN(e),onChange:e=>{i.num=Number(e),a(l,i)}},{type:"switch",label:d("panel.details.nodes.suzhouRTNumLineBadge.branch"),isChecked:null!==(n=null==i?void 0:i.branch)&&void 0!==n?n:at.branch,onChange:e=>{i.branch=e,a(l,i)}},{type:"custom",label:d("color"),component:_.jsx(o,{type:r.SuzhouRTNumLineBadge,defaultTheme:at.color})}];return _.jsx(s,{fields:c})},metadata:{displayName:"panel.details.nodes.suzhouRTNumLineBadge.displayName",tags:[]}},rt={num:1,color:[l.Berlin,"bu1","#62AD2D",i.white]},st={component:e=>{const{id:n,x:l,y:i,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=rt.num,color:u=rt.color}=null!=o?o:rt,m=ye.useCallback(e=>r(n,e),[n,r]),x=ye.useCallback(e=>s(n,e),[n,s]),p=ye.useCallback(e=>d(n,e),[n,d]),g=u[3];return _.jsxs("g",{id:n,transform:`translate(${l}, ${i})`,onPointerDown:m,onPointerMove:x,onPointerUp:p,style:{cursor:"move"},children:[_.jsx("rect",{fill:u[2],x:"0",width:"25",height:"15"}),_.jsxs("text",t(t({},h(a.berlin)),{},{textAnchor:"middle",x:"12.5",y:"12.5",fill:g,fontSize:"14",letterSpacing:"1",children:["U",c]}))]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16"}),_.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"U1"})]}),defaultAttrs:rt,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:i}=e,{t:a}=je(),d=[{type:"input",label:a("panel.details.nodes.common.num"),value:(null!==(t=l.num)&&void 0!==t?t:rt.num).toString(),validator:e=>!Number.isNaN(e),onChange:e=>{l.num=Number(e),i(n,l)}},{type:"custom",label:a("color"),component:_.jsx(o,{type:r.BerlinUBahnLineBadge,defaultTheme:rt.color})}];return _.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.berlinUBahnLineBadge.displayName",tags:[]}},dt={num:1,color:[l.Berlin,"bs1","#DD6CA6",i.white]},ct={component:e=>{const{id:n,x:l,y:i,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=dt.num,color:u=dt.color}=null!=o?o:dt,[m,x]=c>=10?[6,19.75]:[10,20],p=ye.useCallback(e=>r(n,e),[n,r]),g=ye.useCallback(e=>s(n,e),[n,s]),f=ye.useCallback(e=>d(n,e),[n,d]),y=u[3];return _.jsxs("g",{id:n,transform:`translate(${l}, ${i})`,onPointerDown:p,onPointerMove:g,onPointerUp:f,style:{cursor:"move"},children:[_.jsx("rect",{fill:u[2],x:"0",width:"30",height:"15",rx:"8"}),_.jsx("text",t(t({},h(a.berlin)),{},{textAnchor:"middle",x:m,y:"12.5",fill:y,fontSize:"14",letterSpacing:"0",children:"S"})),_.jsx("text",t(t({},h(a.berlin)),{},{textAnchor:"middle",x:x,y:"12.5",fill:y,fontSize:"14",letterSpacing:"-0.2",children:c}))]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"8"}),_.jsx("text",{x:"4.5",y:"16.5",fill:"white",fontSize:"14",children:"S1"})]}),defaultAttrs:dt,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:i}=e,{t:a}=je(),d=[{type:"input",label:a("panel.details.nodes.common.num"),value:(null!==(t=l.num)&&void 0!==t?t:dt.num).toString(),validator:e=>!Number.isNaN(e),onChange:e=>{l.num=Number(e),i(n,l)}},{type:"custom",label:a("color"),component:_.jsx(o,{type:r.BerlinSBahnLineBadge,defaultTheme:dt.color})}];return _.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.berlinSBahnLineBadge.displayName",tags:[]}},ht={num:1,color:[l.Chongqing,"cq1","#e4002b",i.white]},ut={component:e=>{const{id:n,x:l,y:i,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=ht.num,color:u=ht.color}=null!=o?o:ht,m=ye.useCallback(e=>r(n,e),[n,r]),x=ye.useCallback(e=>s(n,e),[n,s]),p=ye.useCallback(e=>d(n,e),[n,d]),g=u[3],f=Number.isInteger(c)?16:15,y=Number.isInteger(c)&&Number(c)>=10?-1.2:0;return _.jsxs("g",{id:n,transform:`translate(${l}, ${i})`,onPointerDown:m,onPointerMove:x,onPointerUp:p,style:{cursor:"move"},children:[_.jsx("rect",{fill:u[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),_.jsx("text",t(t({},h(a.zh)),{},{textAnchor:"middle",x:"10",y:"10",fill:g,fontSize:f,letterSpacing:y,dominantBaseline:"central",children:c}))]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),_.jsx("text",{x:"8",y:"18",fill:"white",fontSize:"18",children:"1"})]}),defaultAttrs:ht,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:i}=e,{t:a}=je(),d=[{type:"input",label:a("panel.details.nodes.common.num"),value:(null!==(t=l.num)&&void 0!==t?t:ht.num).toString(),onChange:e=>{l.num=e,i(n,l)}},{type:"custom",label:a("color"),component:_.jsx(o,{type:r.ChongqingRTNumLineBadge,defaultTheme:ht.color})}];return _.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.chongqingRTNumLineBadge.displayName",tags:[]}},mt={names:["空港线","Konggang Line"],color:[l.Chongqing,"cq3","#003da5",i.white]},xt={component:e=>{const{id:n,x:l,y:i,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{names:c=mt.names,color:u=mt.color}=null!=o?o:mt,m=ye.useRef(null),x=ye.useCallback(e=>r(n,e),[n,r]),p=ye.useCallback(e=>s(n,e),[n,s]),g=ye.useCallback(e=>d(n,e),[n,d]),f=u[3];return _.jsxs("g",{id:n,transform:`translate(${l}, ${i})`,onPointerDown:x,onPointerMove:p,onPointerUp:g,style:{cursor:"move"},children:[_.jsx("rect",{fill:u[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),_.jsx("text",t(t({},h(a.zh)),{},{textAnchor:"middle",x:"10",y:"10.5",fill:f,fontSize:"6",letterSpacing:"0",children:c[0]})),_.jsx(ve,t(t({ref:m,text:c[1].split("\n")},h(a.en)),{},{textAnchor:"middle",x:"10",y:"9.25",fill:f,fontSize:"2.5",letterSpacing:"0",lineHeight:2.25,grow:"down"}))]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),_.jsx("text",{x:"4.5",y:"12.5",fill:"white",fontSize:"5",children:"空港线"}),_.jsx("text",{x:"4.5",y:"15",fill:"white",fontSize:"2",children:"Konggang Line"})]}),defaultAttrs:mt,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:i}=e,{t:a}=je(),d=[{type:"input",label:a("panel.details.nodes.common.nameZh"),value:l.names[0],onChange:e=>{l.names[0]=e,i(n,l)},minW:"full"},{type:"input",label:a("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:mt.names[1],onChange:e=>{l.names[1]=e,i(n,l)},minW:"full"},{type:"custom",label:a("color"),component:_.jsx(o,{type:r.ChongqingRTTextLineBadge,defaultTheme:mt.color})}];return _.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.chongqingRTTextLineBadge.displayName",tags:[]}},pt={num:1,color:[l.Chongqing,"cq1","#e4002b",i.white]},gt={component:e=>{const{id:n,x:l,y:i,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=pt.num,color:u=pt.color}=null!=o?o:pt,m=ye.useCallback(e=>r(n,e),[n,r]),x=ye.useCallback(e=>s(n,e),[n,s]),p=ye.useCallback(e=>d(n,e),[n,d]),g=u[3],f=Number.isInteger(c)?Number(c)>=10?15:16:15,y=Number.isInteger(c)&&Number(c)>=10?-1:0,j=Number.isInteger(c)&&Number(c)>=10?9.5:10.5;return _.jsx("g",{transform:`translate(${l}, ${i})`,children:_.jsxs("g",{transform:"translate(-10.5, -10.5)",children:[_.jsx("rect",{fill:u[2],x:"0",width:"21",height:"21",rx:"3",ry:"3"}),_.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:"18",height:"18",rx:"2",ry:"2"}),_.jsx("text",t(t({},h(a.zh)),{},{textAnchor:"middle",x:j,y:"10.5",fill:g,fontSize:f,letterSpacing:y,dominantBaseline:"central",children:c})),_.jsx("rect",{id:`misc_node_connectable_${n}`,onPointerDown:m,onPointerMove:x,onPointerUp:p,style:{cursor:"move",zIndex:1e3},x:0,y:0,width:21,height:21,fill:"white",opacity:0,stroke:"none"})]})})},icon:_.jsxs("svg",{viewBox:"0 0 21 21",height:40,width:40,focusable:!1,style:{padding:3},children:[_.jsx("rect",{fill:"currentColor",x:"0",width:"21",height:"21",rx:"3",ry:"3"}),_.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:"18",height:"18",rx:"2",ry:"2"}),_.jsx("text",{textAnchor:"start",x:"7.5",y:"9.5",fill:"white",fontSize:"15",dominantBaseline:"central",children:"1"})]}),defaultAttrs:pt,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:i}=je(),a=[{type:"input",label:i("panel.details.nodes.common.num"),value:(null!=n?n:pt).num,validator:e=>!Number.isNaN(e),onChange:e=>{Number.isNaN(Number(e))?n.num=e:n.num=Number(e),l(t,n)},minW:"full"},{type:"custom",label:i("color"),component:_.jsx(o,{type:r.ChongqingRTNumLineBadge2021,defaultTheme:pt.color}),minW:"full"}];return _.jsx(s,{fields:a})},metadata:{displayName:"panel.details.nodes.chongqingRTNumLineBadge2021.displayName",tags:[]}},ft={names:["空港线","Konggang Line"],color:[l.Chongqing,"cq3","#003da5",i.white],isRapid:!1},yt={component:e=>{const{id:n,x:l,y:i,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{names:c=ft.names,color:u=ft.color,isRapid:m=ft.isRapid}=null!=o?o:ft,x=ye.useRef(null),p=ye.useCallback(e=>r(n,e),[n,r]),g=ye.useCallback(e=>s(n,e),[n,s]),f=ye.useCallback(e=>d(n,e),[n,d]),y=u[3],j=m?42:21,b=21;return _.jsx("g",{transform:`translate(${l}, ${i})`,children:_.jsxs("g",{transform:`translate(${-j/2}, -10.5)`,children:[_.jsx("rect",{fill:u[2],x:"0",width:j,height:b,rx:"3",ry:"3"}),_.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:j-3,height:18,rx:"2",ry:"2"}),_.jsx("text",t(t({},h(a.zh)),{},{textAnchor:"middle",x:j/2,y:11,fill:y,fontSize:m?8:5,letterSpacing:"0",children:c[0]})),_.jsx(ve,t(t({ref:x,text:c[1].split("\n")},h(a.en)),{},{textAnchor:"middle",x:j/2,y:10.5-.75*Number(!m),fill:y,fontSize:m?4:2.2,letterSpacing:"0",lineHeight:2.25,grow:"down"})),_.jsx("rect",{id:`misc_node_connectable_${n}`,onPointerDown:p,onPointerMove:g,onPointerUp:f,style:{cursor:"move",zIndex:1e3},x:0,y:0,width:j,height:b,fill:"white",opacity:0,stroke:"none"})]})})},icon:_.jsxs("svg",{viewBox:"0 0 21 21",height:40,width:40,focusable:!1,style:{padding:3},children:[_.jsx("rect",{fill:"currentColor",x:"0",width:"21",height:"21",rx:"3",ry:"3"}),_.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:"18",height:"18",rx:"2",ry:"2"}),_.jsx("text",t(t({},h(a.zh)),{},{textAnchor:"middle",x:"10.5",y:"11",fill:"white",fontSize:"5",letterSpacing:"0",children:"空港线"})),_.jsx("text",t(t({},h(a.en)),{},{textAnchor:"middle",x:"10.5",y:"13.75",fill:"white",fontSize:"2",letterSpacing:"0",children:"Konggang Line"}))]}),defaultAttrs:ft,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:i}=e,{t:a}=je(),d=[{type:"input",label:a("panel.details.nodes.common.nameZh"),value:l.names[0],onChange:e=>{l.names[0]=e.toString(),i(n,l)},minW:"full"},{type:"textarea",label:a("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:ft.names[1],onChange:e=>{l.names[1]=e.toString(),i(n,l)},minW:"full"},{type:"custom",label:a("color"),component:_.jsx(o,{type:r.ChongqingRTTextLineBadge2021,defaultTheme:ft.color}),minW:"full"},{type:"switch",label:a("panel.details.nodes.chongqingRTTextLineBadge2021.isRapid"),isChecked:(null!=l?l:ft).isRapid,onChange:e=>{l.isRapid=e,i(n,l)},oneLine:!0,minW:"full"}];return _.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.chongqingRTTextLineBadge2021.displayName",tags:[]}},jt=11.84375,bt={num:1,color:[l.Shenzhen,"sz1","#00b140",i.white],isBranch:!1},vt={component:e=>{const{id:n,x:l,y:i,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=bt.num,color:u=bt.color,isBranch:m=bt.isBranch}=null!=o?o:bt,x=ye.useCallback(e=>r(n,e),[n,r]),p=ye.useCallback(e=>s(n,e),[n,s]),g=ye.useCallback(e=>d(n,e),[n,d]),f=u[3],y=m?10:jt+(c>9?6.5:3),j=m?-1:0,b=m?11:jt+(c>9?7:3.5),v=m?6:9.921875;return _.jsxs("g",{id:n,transform:`translate(${l}, ${i})`,onPointerDown:x,onPointerMove:p,onPointerUp:g,style:{cursor:"move"},children:[_.jsx("rect",{fill:u[2],x:"0",width:32.84375,height:"16",rx:"2"}),_.jsx("text",t(t({},h(a.en)),{},{textAnchor:"middle",x:v,y:"13.5",fill:f,fontSize:"15",letterSpacing:"-1",children:c})),_.jsxs("text",t(t({},h(a.zh)),{},{x:y,y:"9.5",fontSize:"6",fill:f,letterSpacing:j,children:["号线",m?"支线":""]})),_.jsxs("text",t(t({},h(a.en)),{},{x:b,y:"13.5",fontSize:"3",fill:f,children:[m?"Branch":""," Line ",c]}))]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),_.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),_.jsx("text",{x:"11",y:"14",fill:"white",fontSize:"5",children:"号线"}),_.jsx("text",{x:"12",y:"17",fill:"white",fontSize:"3",children:"Line 1"})]}),defaultAttrs:bt,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:i}=je(),a=[{type:"input",label:i("panel.details.nodes.common.num"),value:String(n.num),validator:e=>!Number.isNaN(e),onChange:e=>{n.num=Number(e),l(t,n)},minW:"full"},{type:"custom",label:i("color"),component:_.jsx(o,{type:r.ShenzhenMetroNumLineBadge,defaultTheme:bt.color}),minW:"full"},{type:"switch",label:i("panel.details.nodes.shenzhenMetroNumLineBadge.branch"),oneLine:!0,isChecked:n.isBranch,onChange:e=>{n.isBranch=e,l(t,n)},minW:"full"}];return _.jsx(s,{fields:a})},metadata:{displayName:"panel.details.nodes.shenzhenMetroNumLineBadge.displayName",tags:[]}},wt={num:1,color:[l.Singapore,"ewl","#009739",i.white]},Ct={component:e=>{const{id:n,x:l,y:i,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=wt.num,color:u=wt.color}=null!=o?o:wt,m=ye.useCallback(e=>r(n,e),[n,r]),x=ye.useCallback(e=>s(n,e),[n,s]),p=ye.useCallback(e=>d(n,e),[n,d]),g=u[3],f=u[2];return _.jsxs("g",{id:n,transform:`translate(${l}, ${i})`,onPointerDown:m,onPointerMove:x,onPointerUp:p,style:{cursor:"move"},children:[_.jsx("circle",{r:"8",fill:f}),_.jsx("text",t(t({},h(a.mrt)),{},{textAnchor:"middle",x:"0",y:"0",width:"12",height:"12",fill:g,fontSize:"12",dominantBaseline:"central",letterSpacing:"-0.2",children:c}))]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),_.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:wt,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:i}=je(),a=[{type:"input",label:i("panel.details.nodes.common.num"),value:String(n.num),validator:e=>!Number.isNaN(e),onChange:e=>{n.num=Number(e),l(t,n)},minW:"full"},{type:"custom",label:i("color"),component:_.jsx(o,{type:r.MRTDestinationNumbers,defaultTheme:wt.color}),minW:"full"}];return _.jsx(s,{fields:a})},metadata:{displayName:"panel.details.nodes.mrtDestinationNumbers.displayName",tags:[]}},Pt={lineCode:"EWL",name:"East-West Line",lines:"1, 2, 3, airport",isTram:!1,color:[l.Singapore,"ewl","#009739",i.white]},St={component:e=>{const{id:n,x:l,y:i,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{lineCode:c=Pt.lineCode,color:u=Pt.color,lines:m=Pt.lines,name:x=Pt.name,isTram:p=Pt.isTram}=null!=o?o:Pt,g=ye.useCallback(e=>r(n,e),[n,r]),f=ye.useCallback(e=>s(n,e),[n,s]),y=ye.useCallback(e=>d(n,e),[n,d]),j=12.935,b=u[3],v=u[2];return _.jsxs("g",{id:n,transform:`translate(${l}, ${i})`,onPointerDown:g,onPointerMove:f,onPointerUp:y,style:{cursor:"move"},children:[_.jsx("rect",{transform:"scale(1.8)",x:-11.425,y:-6.4675,rx:"3",ry:"6",width:22.85,height:j,fill:v,stroke:"white",strokeWidth:"1"}),_.jsx("text",t(t({},h(a.mrt)),{},{textAnchor:"middle",fill:b,fontSize:"15",dominantBaseline:"central",letterSpacing:"-0.2",children:c})),_.jsx("text",t(t({},h(a.mrt)),{},{textAnchor:"start",x:"28",y:p?3.5:-3,fill:"black",fontSize:"10",letterSpacing:"-0.2",children:x})),!p&&m.split(",").map((e,n)=>_.jsx("g",{transform:`translate(${34+14*n}, 4.5)`,children:"airport"!==e.trim()?_.jsxs(_.Fragment,{children:[_.jsx("circle",{r:"6",fill:v}),_.jsx("text",t(t({},h(a.mrt)),{},{textAnchor:"middle",fill:b,fontSize:"9",dominantBaseline:"central",letterSpacing:"-0.2",children:e}))]}):_.jsxs("g",{transform:"translate(-6, -6) scale(4.5)",children:[_.jsx("path",{d:"M2.467 0H.226A.226.226 0 0 0 0 .226v2.241a.225.225 0 0 0 .226.225h2.241a.225.225 0 0 0 .225-.225V.226A.226.226 0 0 0 2.467 0",style:{fill:"#2d2a26"}}),_.jsx("path",{d:"M1.5.746v.3l.73.642a.08.08 0 0 1 .022.05v.12c0 .017-.012.025-.027.018L1.5 1.529l-.06.541.2.113a.03.03 0 0 1 .013.023V2.3a.01.01 0 0 1-.014.011l-.293-.091-.286.087a.01.01 0 0 1-.014-.007v-.09a.03.03 0 0 1 .013-.023l.2-.113-.059-.545-.724.348a.018.018 0 0 1-.028-.018v-.12a.07.07 0 0 1 .023-.05l.73-.642v-.3c0-.482.3-.482.3 0",style:{fill:"#fff",fillRule:"evenodd"}})]})},n))]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),_.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:Pt,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:i}=je(),a=[{type:"input",label:i("panel.details.nodes.common.nameEn"),value:n.name,onChange:e=>{n.name=e,l(t,n)},minW:"full"},{type:"input",label:i("panel.details.stations.common.lineCode"),value:n.lineCode,onChange:e=>{n.lineCode=e,l(t,n)},minW:"full"},{type:"switch",label:i("panel.details.nodes.mrtLineBadge.isTram"),isChecked:n.isTram,onChange:e=>{n.isTram=e,l(t,n)},minW:"full",oneLine:!0},...n.isTram?[]:[{type:"input",label:i("panel.details.nodes.common.num"),value:n.lines,onChange:e=>{n.lines=e,l(t,n)},minW:"full"}],{type:"custom",label:i("color"),component:_.jsx(o,{type:r.MRTLineBadge,defaultTheme:Pt.color}),minW:"full"}];return _.jsx(s,{fields:a})},metadata:{displayName:"panel.details.nodes.mrtLineBadge.displayName",tags:[]}},Nt=5*Math.SQRT1_2,kt=.25,Bt=(Nt*Math.SQRT2-kt)/2*Math.SQRT2,zt={names:["山手線","Yamanote Line"],color:[l.Tokyo,"jy","#9ACD32",i.black],num:9,crosshatchPatternFill:!1},Lt={component:e=>{const{id:n,x:l,y:i,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{names:c=zt.names,num:u=zt.num,color:m=zt.color,crosshatchPatternFill:x=zt.crosshatchPatternFill}=null!=o?o:zt,p=ye.useRef(null),[g,f]=ye.useState({height:10,width:12});ye.useEffect(()=>f(p.current.getBBox()),[...c,f,p]);const y=ye.useCallback(e=>r(n,e),[n,r]),j=ye.useCallback(e=>s(n,e),[n,s]),b=ye.useCallback(e=>d(n,e),[n,d]);return _.jsxs("g",{id:n,transform:`translate(${l}, ${i})`,onPointerDown:y,onPointerMove:j,onPointerUp:b,style:{cursor:"move"},children:[_.jsxs("defs",{children:[_.jsxs("clipPath",{id:"jr_east_fill_pattern_clip_path",patternUnits:"userSpaceOnUse",children:[_.jsx("polygon",{points:`0,0 0,${Bt} ${Bt},0`}),_.jsx("polygon",{points:`${Nt},${Nt} ${Nt-Bt},${Nt} ${Nt},${Nt-Bt}`})]}),_.jsxs("pattern",{id:`jr_east_${n}_fill_pattern_${m[2]}`,width:Nt,height:Nt,patternUnits:"userSpaceOnUse",children:[_.jsx("rect",{width:Nt,height:Nt,fill:m[2]}),_.jsx("line",{x1:"0",y1:"0",x2:Nt,y2:Nt,stroke:"white",strokeWidth:kt,strokeOpacity:"33%",clipPath:"url(#jr_east_fill_pattern_clip_path)"}),_.jsx("line",{x1:Nt,y1:"0",x2:"0",y2:Nt,stroke:"white",strokeWidth:kt,strokeOpacity:"33%"})]})]}),_.jsx("rect",{fill:x?`url(#jr_east_${n}_fill_pattern_${m[2]})`:m[2],x:"0",y:"-1",width:g.width+4+10,height:g.height+1,rx:"1",stroke:"black",strokeWidth:"0.25"}),_.jsx("circle",{r:4,cx:7,cy:6,stroke:"black",strokeWidth:"0.25",fill:m[3]}),_.jsx("text",t(t({x:7,y:6.75,textAnchor:"middle",dominantBaseline:"middle",fill:"#000"===m[3]?"white":m[2],fontSize:u>9?7:8},h(a.jreast_en)),{},{children:u})),_.jsx(ve,t({ref:p,text:c[0].split("\n"),x:12,y:"-1",fill:m[3],fontSize:10,lineHeight:10,grow:"down"},h(a.jreast_ja))),_.jsx(ve,t({text:c[1].split("\n"),textAnchor:"middle",dominantBaseline:"hanging",x:(g.width+4+10)/2,y:g.height+1,fontSize:5,lineHeight:5,baseOffset:0,grow:"down"},h(a.jreast_en)))]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"1",y:"6",width:"22",height:"7"}),_.jsx("circle",{cx:"3.5",cy:"9.25",r:"2",fill:"white"}),_.jsx("text",{x:"3",y:"10.5",fontSize:"3",children:"9"}),_.jsx("text",{x:"6",y:"11.25",fontSize:"5",fill:"white",children:"山手線"}),_.jsx("text",{x:"1.5",y:"16",fontSize:"3",children:"Yamanote Line"})]}),defaultAttrs:zt,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:i}=e,{t:a}=je(),d=[{type:"input",label:a("panel.details.nodes.common.num"),value:String(l.num),validator:e=>!Number.isNaN(e),onChange:e=>{l.num=Number(e),i(n,l)},minW:"full"},{type:"textarea",label:a("panel.details.nodes.common.nameJa"),value:l.names[0],onChange:e=>{l.names[0]=e,i(n,l)},minW:"full"},{type:"textarea",label:a("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:zt.names[1],onChange:e=>{l.names[1]=e,i(n,l)},minW:"full"},{type:"switch",label:a("panel.details.nodes.jrEastLineBadge.crosshatchPatternFill"),oneLine:!0,isChecked:l.crosshatchPatternFill,onChange:e=>{l.crosshatchPatternFill=e,i(n,l)},minW:"full"},{type:"custom",label:a("color"),component:_.jsx(o,{type:r.JREastLineBadge,defaultTheme:zt.color})}];return _.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.jrEastLineBadge.displayName",tags:[]}},At={num:1,numEn:"1",showText:!0,color:[l.Qingdao,"qd1","#f7b000",i.white]},$t={component:e=>{const{id:n,x:l,y:i,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=At.num,numEn:u=At.numEn,color:m=At.color,showText:x=At.showText}=null!=o?o:At,p=ye.useCallback(e=>r(n,e),[n,r]),g=ye.useCallback(e=>s(n,e),[n,s]),f=ye.useCallback(e=>d(n,e),[n,d]),y=m[3],[j,b,v,w]=Number(c)>=10?[-2.4,0,10.25,20]:[0,4,10,22];return _.jsxs("g",{id:n,transform:`translate(${l}, ${i})`,onPointerDown:p,onPointerMove:g,onPointerUp:f,style:{cursor:"move"},children:[_.jsx("rect",{fill:m[2],x:"0",width:"20",height:"20",rx:"2",ry:"2"}),_.jsx("text",t(t({},h(a.en)),{},{textAnchor:"start",x:b,y:v,fill:y,fontSize:w,fontWeight:"bold",letterSpacing:j,dominantBaseline:"central",children:c})),x&&_.jsxs(_.Fragment,{children:[_.jsx("text",t(t({},h(a.zh)),{},{x:"22",y:"10.5",fontSize:"13",children:"号线"})),_.jsxs("text",t(t({},h(a.en)),{},{x:"22.5",y:"19.5",fontSize:"8",children:["Line ",u]}))]})]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"2",y:"6",rx:"1",ry:"1",width:"10",height:"10"}),_.jsx("text",{x:"4",y:"15",fill:"white",fontSize:"12",children:"1"}),_.jsx("text",{x:"12",y:"11.5",fill:"black",fontSize:"6",children:"号线"}),_.jsx("text",{x:"12",y:"15.5",fill:"black",fontSize:"4",children:"Line1"})]}),defaultAttrs:At,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:i}=je(),a=[{type:"input",label:i("panel.details.nodes.common.num"),value:n.num.toString(),onChange:e=>{n.num=Number(e),n.numEn=e,l(t,n)}},{type:"input",label:i("panel.details.nodes.qingdaoMetroNumLineBadge.numEn"),value:n.numEn.toString(),onChange:e=>{n.numEn=e,l(t,n)}},{type:"switch",label:i("panel.details.nodes.qingdaoMetroNumLineBadge.showText"),isChecked:n.showText,oneLine:!0,onChange:e=>{n.showText=e,l(t,n)}},{type:"custom",label:i("color"),component:_.jsx(o,{type:r.QingdaoMetroNumLineBadge,defaultTheme:At.color})}];return _.jsx(s,{fields:a,minW:"full"})},metadata:{displayName:"panel.details.nodes.qingdaoMetroNumLineBadge.displayName",tags:[]}},Tt={names:["广清城际","Guangzhou-Qingyuan Intercity"],color:[l.Guangzhou,"ir","#2559a8",i.white]},Mt={component:e=>{const{id:n,x:l,y:i,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{names:c=Tt.names,color:u=Tt.color}=null!=o?o:Tt,m=ye.useRef(null),[x,p]=ye.useState({width:12});ye.useEffect(()=>p(m.current.getBBox()),[...c,p,m]);const g=ye.useCallback(e=>r(n,e),[n,r]),f=ye.useCallback(e=>s(n,e),[n,s]),y=ye.useCallback(e=>d(n,e),[n,d]);return _.jsxs("g",{id:n,transform:`translate(${l}, ${i})`,onPointerDown:g,onPointerMove:f,onPointerUp:y,style:{cursor:"move"},children:[_.jsx("rect",{rx:"2",ry:"2",fill:u[2],x:"0",width:x.width+7,height:"21"}),_.jsxs("g",{ref:m,children:[_.jsx("text",t(t({},h(a.zh)),{},{textAnchor:"middle",dominantBaseline:"hanging",x:(x.width+7)/2,y:"3",fontSize:"8.63",fill:u[3],children:c[0]})),_.jsx("text",t(t({},h(a.en)),{},{textAnchor:"middle",dominantBaseline:"hanging",x:(x.width+7)/2,y:"14",fontSize:"3.54",fill:u[3],children:c[1]}))]})]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),_.jsx("text",{x:"4.5",y:"11",fontSize:"4",fill:"white",children:"广清城际"}),_.jsx("text",{x:"3",y:"16",fontSize:"2",fill:"white",children:"Guangzhou-Qingyuan Intercity"})]}),defaultAttrs:Tt,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:i}=e,{t:a}=je(),o=[{type:"input",label:a("panel.details.nodes.common.nameZh"),value:l.names[0],onChange:e=>{l.names[0]=e,i(n,l)},minW:"full"},{type:"input",label:a("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:Tt.names[1],onChange:e=>{l.names[1]=e,i(n,l)},minW:"full"}];return _.jsx(s,{fields:o})},metadata:{displayName:"panel.details.nodes.guangdongIntercityRailwayLineBadge.displayName",tags:[]}},Ut=`M0,0 L-10,-10 L${5*Math.SQRT2-10},-10 L${5*Math.SQRT2},0 L${5*Math.SQRT2-10},10 L-10,10 Z`,Wt={color:[l.London,"thameslink","#d28db0",i.white],rotate:0,type:"continuation"},_t={component:e=>{const{id:t,x:n,y:l,attrs:i,handlePointerDown:a,handlePointerMove:o,handlePointerUp:r}=e,{color:s=Wt.color,rotate:d=Wt.rotate,type:c=Wt.type}=null!=i?i:Wt,h=ye.useCallback(e=>a(t,e),[t,a]),u=ye.useCallback(e=>o(t,e),[t,o]),m=ye.useCallback(e=>r(t,e),[t,r]);return _.jsx("g",{id:t,transform:`translate(${n}, ${l})rotate(${d})`,onPointerDown:h,onPointerMove:u,onPointerUp:m,style:{cursor:"move"},children:"continuation"===c?_.jsx("path",{id:`virtual_circle_${t}`,fill:s[2],d:Ut}):"sandwich"===c?_.jsx("path",{transform:"scale(0.5)",id:`virtual_circle_${t}`,stroke:"white",strokeWidth:"1",fill:s[2],d:Ut}):_.jsx("path",{transform:"scale(0.25)",id:`virtual_circle_${t}`,fill:"white",d:Ut})})},icon:_.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:_.jsx("path",{transform:"translate(14,12)scale(0.75)",fill:"currentColor",d:Ut})}),defaultAttrs:Wt,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:i}=je(),a=[{type:"select",label:i("panel.details.stations.common.rotate"),value:n.rotate,options:{0:"0",45:"45",90:"90",135:"135",180:"180",225:"225",270:"270",315:"315"},onChange:e=>{n.rotate=Number(e),l(t,n)},minW:"full"},{type:"select",label:i("panel.details.nodes.londonArrow.type"),value:n.type,options:{continuation:i("panel.details.nodes.londonArrow.continuation"),sandwich:i("panel.details.nodes.londonArrow.sandwich"),tube:i("panel.details.nodes.londonArrow.tube")},onChange:e=>{n.type=e,l(t,n)},minW:"full"},{type:"custom",label:i("color"),component:_.jsx(o,{type:r.LondonArrow,defaultTheme:Wt.color}),minW:"full"}];return _.jsx(s,{fields:a})},metadata:{displayName:"panel.details.nodes.londonArrow.displayName",tags:[]}},Dt={content:1,color:[l.Chengdu,"cd1","#222a8c",i.white],badgeType:"normal"},Rt={component:e=>{const{id:n,x:l,y:i,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{content:c=Dt.content,color:u=Dt.color,badgeType:m=Dt.badgeType}=null!=o?o:Dt,x=ye.useCallback(e=>r(n,e),[n,r]),p=ye.useCallback(e=>s(n,e),[n,s]),g=ye.useCallback(e=>d(n,e),[n,d]),f=u[3],y="suburban"==m?16*(c.toString().length-2)/2:0;return _.jsx("g",{transform:`translate(${l}, ${i})`,children:_.jsxs("g",{transform:"translate(-12.5, -12.5)",children:["normal"==m?_.jsxs(_.Fragment,{children:[_.jsx("rect",{fill:u[2],x:"0",width:"25",height:"25",rx:"12.5",ry:"12.5"}),_.jsx("text",t(t({},h(a.zh)),{},{textAnchor:"middle",x:"12.5",y:"12.5",fill:f,fontSize:16,dominantBaseline:"central",children:c}))]}):"suburban"==m?_.jsxs(_.Fragment,{children:[_.jsx("rect",{fill:u[2],x:-y/2,y:"0",width:20+y,height:"25",rx:"0",ry:"0"}),_.jsx("rect",{fill:u[2],x:19+y/2,y:"0",width:"6",height:"5",rx:"0",ry:"0"}),_.jsx("rect",{fill:u[2],x:19+y/2,y:"10",width:"6",height:"5",rx:"0",ry:"0"}),_.jsx("rect",{fill:u[2],x:19+y/2,y:"20",width:"6",height:"5",rx:"0",ry:"0"}),_.jsx("text",t(t({},h(a.zh)),{},{textAnchor:"start",x:-y/2,y:"12.5",fill:f,fontSize:16,dominantBaseline:"central",children:c}))]}):_.jsxs(_.Fragment,{children:[_.jsx("rect",{fill:u[2],x:"-1.25",y:"0",width:"27.5",height:"7.5",rx:"0",ry:"0"}),_.jsx("rect",{fill:u[2],x:"7.5",y:"0",width:"10",height:"25",rx:"0",ry:"0"}),_.jsx(ve,{text:c.toString().split(""),lineHeight:10.5,x:12.5,y:6.5,fill:"white",fontSize:10,textAnchor:"middle",grow:"down",dominantBaseline:"middle"})]}),_.jsx("rect",{id:`misc_node_connectable_${n}`,onPointerDown:x,onPointerMove:p,onPointerUp:g,style:{cursor:"move",zIndex:1e3},x:0-y/2,y:0,width:25+y,height:25,fill:"white",opacity:0,stroke:"none"})]})})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),_.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:Dt,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:i}=je(),a=[{type:"input",label:i("panel.details.nodes.text.content"),value:(null!=n?n:Dt).content,validator:e=>!Number.isNaN(e),onChange:e=>{Number.isNaN(Number(e))?n.content=e:n.content=Number(e),l(t,n)},minW:"full"},{type:"custom",label:i("color"),component:_.jsx(o,{type:r.ChengduRTLineBadge,defaultTheme:Dt.color}),minW:"full"},{type:"select",label:i("panel.details.nodes.chengduRTLineBadge.badgeType.displayName"),value:(null!=n?n:Dt).badgeType,options:{normal:i("panel.details.nodes.chengduRTLineBadge.badgeType.normal"),suburban:i("panel.details.nodes.chengduRTLineBadge.badgeType.suburban"),tram:i("panel.details.nodes.chengduRTLineBadge.badgeType.tram")},onChange:e=>{n.badgeType=e,l(t,n)},minW:"full"}];return _.jsx(s,{fields:a})},metadata:{displayName:"panel.details.nodes.chengduRTLineBadge.displayName",tags:[]}},Et={code:"BR",tram:!1,color:[l.Taipei,"br","#C48C31",i.white]},Ot={component:e=>{const{id:n,x:l,y:i,attrs:o,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{code:c=Et.code,color:u=Et.color,tram:m=Et.tram}=null!=o?o:Et,x=ye.useCallback(e=>r(n,e),[n,r]),p=ye.useCallback(e=>s(n,e),[n,s]),g=ye.useCallback(e=>d(n,e),[n,d]),f=6+(c.length<=2?10:5.5*c.length);return _.jsxs("g",{id:n,transform:`translate(${l}, ${i})scale(${m?.8:1})`,onPointerDown:x,onPointerMove:p,onPointerUp:g,style:{cursor:"move"},children:[_.jsx("rect",{fill:u[2],x:-f/2,y:"-8",width:f,height:"16",rx:"2.5",ry:"2.5"}),_.jsx("g",{children:_.jsx("text",t(t({},h(a.taipei)),{},{textAnchor:"middle",dominantBaseline:"central",fontSize:"10",fill:u[3],children:c}))})]})},icon:_.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[_.jsx("rect",{fill:"currentColor",x:"6",y:"6",width:"12",height:"12",rx:"2",ry:"2"}),_.jsx("text",{x:"12",y:"12",fontSize:"6",fill:"white",textAnchor:"middle",dominantBaseline:"central",children:"BR"})]}),defaultAttrs:Et,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:i}=e,{t:a}=je(),d=[{type:"input",label:a("panel.details.stations.common.lineCode"),value:l.code,onChange:e=>{l.code=e,i(n,l)},minW:"full"},{type:"switch",label:a("panel.details.nodes.taipeiMetroLineBadge.tram"),isChecked:null!==(t=l.tram)&&void 0!==t?t:Et.tram,onChange:e=>{l.tram=e,i(n,l)},oneLine:!0,minW:"full"},{type:"custom",label:a("color"),component:_.jsx(o,{type:r.TaiPeiMetroLineBadege,defaultTheme:Et.color})}];return _.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.taipeiMetroLineBadge.displayName",tags:[]}};e("m",{[r.Virtual]:n,[r.Master]:Oe,[r.Image]:qe,[r.Facilities]:Me,[r.Text]:_e,[r.I18nText]:Re,[r.Fill]:Ve,[r.ShmetroNumLineBadge]:Ge,[r.ShmetroTextLineBadge]:Je,[r.GzmtrLineBadge]:Xe,[r.BjsubwayNumLineBadge]:nt,[r.BjsubwayTextLineBadge]:it,[r.SuzhouRTNumLineBadge]:ot,[r.BerlinSBahnLineBadge]:ct,[r.BerlinUBahnLineBadge]:st,[r.ChongqingRTNumLineBadge]:ut,[r.ChongqingRTTextLineBadge]:xt,[r.ChongqingRTNumLineBadge2021]:gt,[r.ChongqingRTTextLineBadge2021]:yt,[r.ShenzhenMetroNumLineBadge]:vt,[r.MRTDestinationNumbers]:Ct,[r.MRTLineBadge]:St,[r.JREastLineBadge]:Lt,[r.QingdaoMetroNumLineBadge]:$t,[r.GuangdongIntercityRailwayLineBadge]:Mt,[r.LondonArrow]:_t,[r.ChengduRTLineBadge]:Rt,[r.TaiPeiMetroLineBadege]:Ot})}}})}();
