System.register(["./chakra-legacy-Ts5iMId3.js","./index-legacy-ycDNfaG_.js","./react-legacy-T1GznqXM.js"],(function(e,t){"use strict";var n,a,s,r,o;return{setters:[e=>{n=e.j,a=e.ak},e=>{s=e.r,r=e.p},e=>{o=e.b}],execute:function(){e("default",(function(e){const{isOpen:i,onClose:l,defaultTheme:u,onSelect:p}=e,[d]=o.useState(crypto.randomUUID()),[g,m]=o.useState(!1),f="/rmg-palette/#/picker?"+new URLSearchParams({parentComponent:s.getAppName(),parentId:d}),v=o.useRef();return o.useEffect((()=>{const e=new BroadcastChannel(t+d);return v.current=e,e.onmessage=e=>{const{event:t,data:n}=e.data;console.log("[rmp] Received event from Palette app clip:",t),"CLOSE"===t?l():"SELECT"===t?p(n):"LOADED"===t&&m(!0)},()=>{e.close()}}),[]),o.useEffect((()=>{var e;u&&(null===(e=v.current)||void 0===e||e.postMessage({event:"OPEN",data:u}))}),[g,null==u?void 0:u.toString()]),n.jsxs(r,{size:"md",isOpen:i,onClose:l,sx:c,children:[n.jsx(a,{onClick:l}),n.jsx("iframe",{src:f,loading:"eager"})]})}));const t="rmg-palette-bridge--",c={position:"relative",h:460,maxH:"70%","& > button":{position:"absolute",right:1,top:1},"& iframe":{h:"100%",w:"100%"}}}}}));
