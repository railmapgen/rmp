import{Q as oe,j as e,h as L,t as d,aG as te,aH as v,aI as R,B as I,aJ as y,aK as k,N as ie,x as z,aw as le,av as ce,aL as re,R as de,ap as xe}from"./chakra-C1zJvDsN.js";import{u as Q,b as D}from"./react-BpF4RbzH.js";import{S as l,aH as n,p as o,c as he,e as A,bg as ue,Z as me,aA as pe,bh as je,bi as fe,aQ as f,_ as Te,L as O,q as H,bj as be,b as Me,bk as ge}from"./index-BNZr8q4_.js";import{m as u}from"./misc-nodes-D2zysB1O.js";import{s as _}from"./master-manager-DodmvdYl.js";const m=Object.values(l),$=[l.LondonTubeBasic,l.LondonTubeInt,l.LondonRiverServicesInt,l.MRTBasic,l.MRTInt,l.MTR],F=[l.JREastBasic,l.JREastImportant,l.TokyoMetroBasic,l.TokyoMetroInt,l.OsakaMetro],Se={"zh-Hans":m,"zh-Hant":m,en:[...$,...m.filter(t=>!$.includes(t))],ja:[...F,...m.filter(t=>!F.includes(t))],ko:m},p=Object.values(n),T=[n.Image,n.Fill,n.Facilities,n.Text],V=[n.LondonArrow,n.BerlinSBahnLineBadge,n.BerlinUBahnLineBadge,n.MRTDestinationNumbers,n.MRTLineBadge],J=[n.JREastLineBadge],Le={"zh-Hans":p,"zh-Hant":p,en:[...T,...V,...p.filter(t=>![...V,...T].includes(t))],ja:[...T,...J,...p.filter(t=>![...J,...T].includes(t))],ko:p},j=Object.values(o),b=[o.SingleColor],U=[o.LondonTubeTerminal,o.LondonTubeInternalInt,o.LondonTube10MinWalk,o.LondonRail,o.LondonSandwich,o.LondonLutonAirportDART,o.LondonIFSCloudCableCar,o.MRTUnderConstruction,o.MRTSentosaExpress,o.MTRRaceDays,o.MTRLightRail,o.MTRUnpaidArea,o.MTRPaidArea],W=[o.JREastSingleColor,o.JREastSingleColorPattern],Ne={"zh-Hans":j,"zh-Hant":j,en:[...b,...U,...j.filter(t=>![...U,...b].includes(t))],ja:[...b,...W,...j.filter(t=>![...W,...b].includes(t))],ko:j},x={justifyContent:"flex-start",p:0,w:"100%",h:10},C={p:2.5,h:10},N={p:0,display:"flex",flexDirection:"column"},ve=e.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:e.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeDasharray:"2",fill:"none"})}),q=.3,Re=()=>{var E,P;const{i18n:t,t:a}=Q(),r=he(),{activeSubscriptions:M}=A(s=>s.account),{preference:{unlockSimplePathAttempts:g,toolsPanel:{expand:h}}}=A(s=>s.app),{mode:c,count:{masters:X}}=A(s=>s.runtime),G=oe("white","var(--chakra-colors-gray-800)"),K=D.useCallback(s=>{r(ue(s))},[]),{theme:Z,requestThemeChange:Y}=me({onThemeApplied:K}),[i,B]=D.useState(h),ee=()=>{h?B(!1):setTimeout(()=>B(!0),(q+.02)*1e3),r(ge(!h))},se=s=>r(f("station-".concat(s))),ne=s=>r(f("line-".concat(s))),S=s=>r(f("misc-node-".concat(s))),ae=!M.RMP_CLOUD&&X+1>pe;return e.jsxs(L,{flexShrink:"0",direction:"column",width:h?450:10,maxWidth:"100%",height:"100%",bg:G,zIndex:"5",transition:"width ".concat(q,"s ease-in-out"),children:[e.jsx(d,{"aria-label":"Menu",leftIcon:i?e.jsx(je,{size:40,transform:"rotate(90)"}):e.jsx(fe,{size:40,transform:"rotate(90)"}),onClick:ee,sx:x,children:i?a("panel.tools.showLess"):void 0}),e.jsx(L,{className:"tools",overflow:"auto",children:e.jsxs(te,{width:"100%",allowMultiple:!0,defaultIndex:[0,1,2],children:[e.jsx(d,{"aria-label":"select",leftIcon:ve,onClick:()=>r(f(c==="select"?"free":"select")),variant:c==="select"?"solid":"outline",sx:x,children:i?a("panel.tools.select"):void 0}),e.jsxs(v,{children:[e.jsxs(R,{sx:C,children:[i&&e.jsx(I,{as:"span",flex:"1",textAlign:"left",children:a("panel.tools.section.lineDrawing")}),e.jsx(y,{})]}),e.jsxs(k,{sx:N,children:[e.jsxs(L,{children:[e.jsx(Te,{theme:Z,onClick:Y}),e.jsx(ie,{fontWeight:"600",pl:"1",alignSelf:"center",children:i?a("color"):void 0})]}),Object.values(O).filter(s=>!(s===O.Simple&&g>=0)).map(s=>e.jsx(d,{"aria-label":s,leftIcon:H[s].icon,onClick:()=>ne(s),variant:c==="line-".concat(s)?"solid":"outline",sx:x,children:i?a(H[s].metadata.displayName):void 0},s)),e.jsx(d,{"aria-label":n.Virtual,leftIcon:u[n.Virtual].icon,onClick:()=>S(n.Virtual),variant:c==="misc-node-".concat(n.Virtual)?"solid":"outline",sx:x,children:i?a(u[n.Virtual].metadata.displayName):void 0})]})]}),e.jsxs(v,{children:[e.jsxs(R,{sx:C,children:[i&&e.jsx(I,{as:"span",flex:"1",textAlign:"left",children:a("panel.tools.section.stations")}),e.jsx(y,{})]}),e.jsxs(k,{sx:N,children:[(E=Se[t.language])==null?void 0:E.map(s=>e.jsx(d,{"aria-label":s,leftIcon:_[s].icon,onClick:()=>se(s),variant:c==="station-".concat(s)?"solid":"outline",sx:x,children:i?a(_[s].metadata.displayName):void 0},s)),e.jsx(w,{type:"station",expand:i})]})]}),e.jsxs(v,{children:[e.jsxs(R,{sx:C,children:[i&&e.jsx(I,{as:"span",flex:"1",textAlign:"left",children:a("panel.tools.section.miscellaneousNodes")}),e.jsx(y,{})]}),e.jsxs(k,{sx:N,children:[e.jsxs(d,{"aria-label":n.Master,leftIcon:u[n.Master].icon,onClick:()=>S(n.Master),variant:c==="misc-node-".concat(n.Master)?"solid":"outline",isDisabled:ae,sx:x,children:[i?a(u[n.Master].metadata.displayName):void 0,i?e.jsxs(e.Fragment,{children:[e.jsx(z,{ml:"1",colorScheme:"green",children:"New"}),e.jsx(le,{label:a("header.settings.proWithTrial"),children:e.jsx(z,{ml:"1",color:"gray.50",background:"radial-gradient(circle, #3f5efb, #fc466b)",mr:"auto",children:"PRO"})})]}):void 0]}),(P=Le[t.language])==null?void 0:P.filter(s=>s!==n.Virtual&&s!==n.I18nText&&s!==n.Master).map(s=>e.jsx(d,{"aria-label":s,leftIcon:u[s].icon,onClick:()=>S(s),variant:c==="misc-node-".concat(s)?"solid":"outline",sx:x,children:i?a(u[s].metadata.displayName):void 0},s)),e.jsx(w,{type:"misc-node",expand:i})]})]})]})})]})},w=t=>{const{type:a,expand:r}=t,{t:M}=Q(),g=a==="misc-node"?"nodes":a==="station"?"stations":"line-styles",h=a==="line"?"xs":void 0,c=a==="line"?"30px":"40px";return e.jsxs(ce,{fontSize:h,children:[a!=="line"&&e.jsx(re.Provider,{value:{style:{padding:5},size:c},children:e.jsx(be,{})}),r&&e.jsxs(e.Fragment,{children:[e.jsx(de,{color:"teal.500",href:"https://github.com/railmapgen/rmp/blob/main/docs/".concat(g,".md"),isExternal:!0,children:M("panel.tools.learnHowToAdd.".concat(a))}),e.jsx(xe,{as:Me,color:"teal.500",mr:"auto"})]})]})},we=Object.freeze(Object.defineProperty({__proto__:null,LearnHowToAdd:w,default:Re},Symbol.toStringTag,{value:"Module"}));export{w as L,Ne as l,we as t};
