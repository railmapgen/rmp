!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(n,t,o){return(t=function(n){var t=function(n,t){if("object"!==e(n)||null===n)return n;var o=n[Symbol.toPrimitive];if(void 0!==o){var i=o.call(n,t||"default");if("object"!==e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===e(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,n}function t(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,i,r,l,a=[],c=!0,u=!1;try{if(r=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(o=r.call(t)).done)&&(a.push(o.value),a.length!==n);c=!0);}catch(s){u=!0,i=s}finally{try{if(!c&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw i}}return a}}(e,n)||i(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){if(e){if("string"==typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}System.register(["./index-legacy-7acd19ae.js","./chakra-legacy-dae91ce7.js","./react-legacy-57266490.js","./stations-legacy-6d15a0d8.js"],(function(e,i){"use strict";var r,l,a,c,u,s,d,h,m,f,x,p;return{setters:[function(e){r=e.ap,l=e.C,a=e.f,c=e.aq,u=e.e,s=e.c,d=e.n},function(e){h=e.j},function(e){m=e.b},function(e){f=e.L,x=e.M,p=e.f}],execute:function(){var i,g={component:function(e){var n=e.id,t=e.x,o=e.y,i=e.handlePointerDown,r=e.handlePointerMove,l=e.handlePointerUp,a=m.useCallback((function(e){return i(n,e)}),[n,i]),c=m.useCallback((function(e){return r(n,e)}),[n,r]),u=m.useCallback((function(e){return l(n,e)}),[n,l]);return m.useMemo((function(){return h.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(o,")rotate(45)"),children:[h.jsx("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"black"}),h.jsx("line",{x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"black"}),h.jsx("circle",{id:"virtual_circle_".concat(n),r:5,stroke:"black",fill:"white",fillOpacity:"0",onPointerDown:a,onPointerMove:c,onPointerUp:u,style:{cursor:"move"}})]})}),[n,t,o,a,c,u])},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,transform:"rotate(45)",focusable:!1,children:[h.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),h.jsx("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:"currentColor"}),h.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"18",stroke:"currentColor"})]}),defaultAttrs:{},attrsComponent:function(){return h.jsx(r,{fields:[]})},metadata:{displayName:"panel.details.nodes.virtual.displayName",tags:[]}},y={num:1,color:[l.Shanghai,"sh1","#E4002B",a.white]},v=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:y).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:y;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",label:"color",component:h.jsx(c,{type:u.ShmetroNumLineBadge,defaultTheme:y.color})}],b={component:function(e){var n=e.id,i=e.x,r=e.y,l=e.attrs,a=e.handlePointerDown,c=e.handlePointerMove,u=e.handlePointerUp,s=null!=l?l:y,d=s.num,f=void 0===d?y.num:d,x=s.color,p=void 0===x?y.color:x,g=o(f>=10?[22.67,10.75]:[21,10],2),v=g[0],b=g[1],j=m.useCallback((function(e){return a(n,e)}),[n,a]),w=m.useCallback((function(e){return c(n,e)}),[n,c]),N=m.useCallback((function(e){return u(n,e)}),[n,u]);return m.useMemo((function(){return h.jsxs("g",{id:n,transform:"translate(".concat(i,", ").concat(r,")"),children:[h.jsx("rect",{fill:p[2],width:v,height:"22.67"}),h.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:b,y:"19",fill:p[3],fontSize:"21.33",letterSpacing:"-1.75",children:f}),h.jsx("text",{className:"rmp-name__zh",x:v+2,y:"12",fontSize:"14.67",children:"号线"}),h.jsxs("text",{className:"rmp-name__en",x:v+4,y:"21.5",fontSize:"8",children:["Line ",f]}),h.jsx("rect",{fill:"white",fillOpacity:"0",width:v,height:"22.67",onPointerDown:j,onPointerMove:w,onPointerUp:N,style:{cursor:"move"}})]})}),[n,i,r,f].concat(t(p),[j,w,N]))},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"10",height:"16"}),h.jsx("text",{x:"4",y:"18",fill:"white",children:"1"}),h.jsx("text",{x:"14",y:"10",fontSize:"5",children:"号线"}),h.jsx("text",{x:"14",y:"18",fontSize:"4",children:"Line 1"})]}),defaultAttrs:y,attrsComponent:function(){return h.jsx(r,{fields:v})},metadata:{displayName:"panel.details.nodes.shmetroNumLineBadge.displayName",tags:[]}},j={names:["浦江线","Pujiang Line"],color:[l.Shanghai,"pjl","#B5B5B6",a.white]},w=[{type:"input",label:"panel.details.nodes.common.nameZh",value:function(e){return(null!=e?e:j).names[0]},onChange:function(e,n){var t=null!=n?n:j;return t.names[0]=e.toString(),t}},{type:"input",label:"panel.details.nodes.common.nameEn",value:function(e){return(null!=e?e:j).names[1]},onChange:function(e,n){var t=null!=n?n:j;return t.names[1]=e.toString(),t}},{type:"custom",label:"color",component:h.jsx(c,{type:u.ShmetroTextLineBadge,defaultTheme:j.color})}],N={component:function(e){var n=e.id,i=e.x,r=e.y,l=e.attrs,a=e.handlePointerDown,c=e.handlePointerMove,u=e.handlePointerUp,s=null!=l?l:j,d=s.names,f=void 0===d?j.names:d,x=s.color,p=void 0===x?j.color:x,g=m.useRef(null),y=o(m.useState({width:12}),2),v=y[0],b=y[1];m.useEffect((function(){return b(g.current.getBBox())}),[].concat(t(f),[b,g]));var w=m.useCallback((function(e){return a(n,e)}),[n,a]),N=m.useCallback((function(e){return c(n,e)}),[n,c]),S=m.useCallback((function(e){return u(n,e)}),[n,u]);return m.useMemo((function(){return h.jsxs("g",{id:n,transform:"translate(".concat(i,", ").concat(r,")"),children:[h.jsx("rect",{fill:p[2],x:"0",width:v.width+7,height:"21"}),h.jsxs("g",{ref:g,children:[h.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"hanging",x:(v.width+7)/2,y:"4",fontSize:"10",fill:p[3],letterSpacing:"-0.25",children:f[0]}),h.jsx("text",{className:"rmp-name__en",textAnchor:"middle",dominantBaseline:"hanging",x:(v.width+7)/2,y:"13",fontSize:"5",fill:p[3],letterSpacing:"-0.25",children:f[1]})]}),h.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:v.width+7,height:"21",onPointerDown:w,onPointerMove:N,onPointerUp:S,style:{cursor:"move"}})]})}),[n,i,r].concat(t(f),[v],t(p),[w,N,S]))},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),h.jsx("text",{x:"5",y:"11",fontSize:"5",fill:"white",children:"浦江线"}),h.jsx("text",{x:"3",y:"16",fontSize:"4",fill:"white",children:"Pujiang Line"})]}),defaultAttrs:j,attrsComponent:function(){return h.jsx(r,{fields:w})},metadata:{displayName:"panel.details.nodes.shmetroTextLineBadge.displayName",tags:[]}},S={names:["1号线","Line 1"],color:[l.Guangzhou,"gz1","#F3D03E",a.black]},C={component:function(e){var n=e.id,o=e.x,i=e.y,r=e.attrs,l=e.handlePointerDown,a=e.handlePointerMove,c=e.handlePointerUp,u=null!=r?r:S,s=u.names,d=void 0===s?S.names:s,x=u.color,p=void 0===x?S.color:x,g=m.useCallback((function(e){return l(n,e)}),[n,l]),y=m.useCallback((function(e){return a(n,e)}),[n,a]),v=m.useCallback((function(e){return c(n,e)}),[n,c]);return m.useMemo((function(){return h.jsx("g",{id:n,transform:"translate(".concat(o,", ").concat(i,")"),onPointerDown:g,onPointerMove:y,onPointerUp:v,style:{cursor:"move"},children:h.jsx(f,{lineName:d,foregroundColour:p[3],backgroundColour:p[2]})})}),[n,o,i].concat(t(d),t(p),[g,y,v]))},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"5",width:"20",height:"14",rx:"1"}),h.jsx("text",{x:"12",y:"12",textAnchor:"middle",fontSize:"6",fill:"white",children:"1号线"}),h.jsx("text",{x:"12",y:"17",textAnchor:"middle",fontSize:"5",fill:"white",children:"Line 1"})]}),defaultAttrs:S,attrsComponent:function(e){var n=e.id,t=e.attrs,o=e.handleAttrsUpdate,i=s().t,r=[{type:"input",label:i("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:function(e){t.names[0]=e,o(n,t)},minW:"full"},{type:"input",label:i("panel.details.nodes.common.nameEn"),value:t.names[1],onChange:function(e){t.names[1]=e,o(n,t)},minW:"full"},{type:"custom",label:i("color"),component:h.jsx(c,{type:u.GzmtrLineBadge,defaultTheme:S.color})}];return h.jsx(d,{fields:r})},metadata:{displayName:"panel.details.nodes.gzmtrLineBadge.displayName",tags:[]}},B=11.84375,P={num:1,color:[l.Beijing,"bj1","#c23a30",a.white]},z=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:P).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:P;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",label:"color",component:h.jsx(c,{type:u.BjsubwayNumLineBadge,defaultTheme:P.color})}],k={component:function(e){var n=e.id,o=e.x,i=e.y,r=e.attrs,l=e.handlePointerDown,c=e.handlePointerMove,u=e.handlePointerUp,s=null!=r?r:P,d=s.num,f=void 0===d?P.num:d,x=s.color,p=void 0===x?P.color:x,g=m.useCallback((function(e){return l(n,e)}),[n,l]),y=m.useCallback((function(e){return c(n,e)}),[n,c]),v=m.useCallback((function(e){return u(n,e)}),[n,u]),b=p[3]===a.black?"#003670":a.white;return m.useMemo((function(){return h.jsxs("g",{id:n,transform:"translate(".concat(o,", ").concat(i,")"),children:[h.jsx("rect",{fill:p[2],x:"0",width:32.84375,height:"16",rx:"2"}),h.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:7.921875,y:"13.5",fill:b,fontSize:"15",letterSpacing:"-1.5",children:f}),h.jsx("text",{className:"rmp-name__zh",x:B+(f>9?5.5:3),y:"8.5",fontSize:"7",fill:b,children:"号线"}),h.jsxs("text",{className:"rmp-name__en",x:B+(f>9?6:4.5),y:"13.5",fontSize:"4",fill:b,children:["Line ",f]}),h.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:34.84375,height:"16",rx:"2",onPointerDown:g,onPointerMove:y,onPointerUp:v,style:{cursor:"move"}})]})}),[n,o,i,f].concat(t(p),[g,y,v]))},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),h.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),h.jsx("text",{x:"11",y:"11",fill:"white",fontSize:"5",children:"号线"}),h.jsx("text",{x:"11",y:"17",fill:"white",fontSize:"4",children:"Line 1"})]}),defaultAttrs:P,attrsComponent:function(){return h.jsx(r,{fields:z})},metadata:{displayName:"panel.details.nodes.bjsubwayNumLineBadge.displayName",tags:[]}},A={names:["八通线","Batong Line"],color:[l.Beijing,"bj1","#c23a30",a.white]},_=[{type:"input",label:"panel.details.nodes.common.nameZh",value:function(e){return(null!=e?e:A).names[0]},onChange:function(e,n){var t=null!=n?n:A;return t.names[0]=e.toString(),t}},{type:"input",label:"panel.details.nodes.common.nameEn",value:function(e){return(null!=e?e:A).names[1]},onChange:function(e,n){var t=null!=n?n:A;return t.names[1]=e.toString(),t}},{type:"custom",label:"color",component:h.jsx(c,{type:u.BjsubwayTextLineBadge,defaultTheme:A.color})}],L={component:function(e){var n=e.id,i=e.x,r=e.y,l=e.attrs,c=e.handlePointerDown,u=e.handlePointerMove,s=e.handlePointerUp,d=null!=l?l:A,f=d.names,x=void 0===f?A.names:f,p=d.color,g=void 0===p?A.color:p,y=m.useRef(null),v=o(m.useState({width:12}),2),b=v[0],j=v[1];m.useEffect((function(){return j(y.current.getBBox())}),[].concat(t(x),[j,y]));var w=m.useCallback((function(e){return c(n,e)}),[n,c]),N=m.useCallback((function(e){return u(n,e)}),[n,u]),S=m.useCallback((function(e){return s(n,e)}),[n,s]),C=Math.max(28.84375,b.width),B=g[3]===a.black?"#003670":a.white;return m.useMemo((function(){return h.jsxs("g",{id:n,transform:"translate(".concat(i,", ").concat(r,")"),children:[h.jsx("rect",{fill:g[2],x:"0",width:C+4,height:"16",rx:"2"}),h.jsxs("g",{ref:y,children:[h.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:(C+4)/2,y:"8",fontSize:"7",fill:B,children:x[0]}),h.jsx("text",{className:"rmp-name__en",textAnchor:"middle",x:(C+4)/2,y:"13.5",fontSize:"4",fill:B,children:x[1]})]}),h.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:C+3,height:"16",rx:"2",onPointerDown:w,onPointerMove:N,onPointerUp:S,style:{cursor:"move"}})]})}),[n,i,r].concat(t(x),[b],t(g),[w,N,S]))},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12",rx:"2"}),h.jsx("text",{x:"3",y:"12",fontSize:"6",fill:"white",children:"八通线"}),h.jsx("text",{x:"3",y:"16",fontSize:"3.2",fill:"white",children:"Batong Line"})]}),defaultAttrs:A,attrsComponent:function(){return h.jsx(r,{fields:_})},metadata:{displayName:"panel.details.nodes.bjsubwayTextLineBadge.displayName",tags:[]}},M={num:1,branch:!1,color:[l.Suzhou,"sz1","#78BA25",a.white]},T=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:M).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:M;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"switch",label:"panel.details.nodes.suzhouRTNumLineBadge.branch",isChecked:function(e){var n;return null!==(n=null==e?void 0:e.branch)&&void 0!==n?n:M.branch},onChange:function(e,n){var t=null!=n?n:M;return t.branch=e,t}},{type:"custom",label:"color",component:h.jsx(c,{type:u.SuzhouRTNumLineBadge,defaultTheme:M.color})}],U={component:function(e){var n=e.id,o=e.x,i=e.y,r=e.attrs,l=e.handlePointerDown,a=e.handlePointerMove,c=e.handlePointerUp,u=null!=r?r:M,s=u.num,d=void 0===s?M.num:s,f=u.branch,x=void 0===f?M.branch:f,p=u.color,g=void 0===p?M.color:p,y=m.useCallback((function(e){return l(n,e)}),[n,l]),v=m.useCallback((function(e){return a(n,e)}),[n,a]),b=m.useCallback((function(e){return c(n,e)}),[n,c]);return m.useMemo((function(){return h.jsxs("g",{id:n,transform:"translate(".concat(o,", ").concat(i,")"),children:[h.jsx("rect",{fill:g[2],width:"20",height:"20",rx:"2",ry:"2"}),h.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"middle",x:"10",y:"11.4",fill:g[3],fontSize:"15",letterSpacing:"-1",children:d}),x&&h.jsxs(h.Fragment,{children:[h.jsx("text",{className:"rmp-name__zh",x:22.5,y:"10",fontSize:"10",children:"支线"}),h.jsx("text",{className:"rmp-name__en",x:22.5,y:"18",fontSize:"5",fill:"gray",children:"Branch line"})]}),h.jsx("rect",{fill:"white",fillOpacity:"0",width:"20",height:"20",rx:"2",ry:"2",onPointerDown:y,onPointerMove:v,onPointerUp:b,style:{cursor:"move"}})]})}),[n,o,i,d,x].concat(t(g),[y,v,b]))},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"4",y:"4",width:"16",height:"16",rx:"3",ry:"3"}),h.jsx("text",{x:"12",y:"13.4",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:M,attrsComponent:function(){return h.jsx(r,{fields:T})},metadata:{displayName:"panel.details.nodes.suzhouRTNumLineBadge.displayName",tags:[]}},D={content:"Enter your text here",fontSize:16,lineHeight:16,textAnchor:"middle",dominantBaseline:"middle",language:"en",color:[l.Shanghai,"jsr","#000000",a.white],rotate:0,italic:"normal",bold:"normal"},R=[{type:"textarea",label:"panel.details.nodes.text.content",value:function(e){return(null!=e?e:D).content},onChange:function(e,n){var t=null!=n?n:D;return t.content=e.toString(),t}},{type:"input",label:"panel.details.nodes.text.fontSize",value:function(e){return(null!=e?e:D).fontSize},validator:function(e){return Number.isInteger(e)&&Number(e)>0},onChange:function(e,n){var t=null!=n?n:D;return t.fontSize=Number(e),t}},{type:"input",label:"panel.details.nodes.text.lineHeight",value:function(e){return(null!=e?e:D).lineHeight},validator:function(e){return Number.isInteger(e)&&Number(e)>0},onChange:function(e,n){var t=null!=n?n:D;return t.lineHeight=Number(e),t}},{type:"select",label:"panel.details.nodes.text.textAnchor",value:function(e){return(null!=e?e:D).textAnchor},options:{start:"start",middle:"middle",end:"end"},onChange:function(e,n){var t=null!=n?n:D;return t.textAnchor=e,t}},{type:"select",label:"panel.details.nodes.text.dominantBaseline",value:function(e){return(null!=e?e:D).dominantBaseline},options:{auto:"auto",middle:"middle",hanging:"hanging"},onChange:function(e,n){var t=null!=n?n:D;return t.dominantBaseline=e,t}},{type:"select",label:"panel.details.nodes.text.language",value:function(e){return(null!=e?e:D).language},options:{zh:"Chinese",en:"English",mtr__zh:"MTR Chinese",mtr__en:"MTR English"},onChange:function(e,n){var t=null!=n?n:D;return t.language=e.toString(),t}},{type:"select",label:"panel.details.nodes.text.rotate",value:function(e){var n;return null!==(n=null==e?void 0:e.rotate)&&void 0!==n?n:D.rotate},options:{0:"0",45:"45",90:"90",135:"135",180:"180",225:"225",270:"270",315:"315"},onChange:function(e,n){var t=null!=n?n:D;return t.rotate=Number(e),t}},{type:"switch",label:"panel.details.nodes.text.italic",isChecked:function(e){var n;return"italic"===(null!==(n=null==e?void 0:e.italic)&&void 0!==n?n:D.italic)},onChange:function(e,n){var t=null!=n?n:D;return t.italic=e?"italic":"normal",t}},{type:"switch",label:"panel.details.nodes.text.bold",isChecked:function(e){var n;return"bold"===(null!==(n=null==e?void 0:e.bold)&&void 0!==n?n:D.bold)},onChange:function(e,n){var t=null!=n?n:D;return t.bold=e?"bold":"normal",t}},{type:"custom",label:"color",component:h.jsx(c,{type:u.Text,defaultTheme:D.color})}],E={component:function(e){var n=e.id,t=e.x,i=e.y,r=e.attrs,l=e.handlePointerDown,a=e.handlePointerMove,c=e.handlePointerUp,u=null!=r?r:D,s=u.content,d=void 0===s?D.content:s,f=u.fontSize,p=void 0===f?D.fontSize:f,g=u.lineHeight,y=void 0===g?D.lineHeight:g,v=u.textAnchor,b=void 0===v?D.textAnchor:v,j=u.dominantBaseline,w=void 0===j?D.dominantBaseline:j,N=u.language,S=void 0===N?D.language:N,C=u.color,B=void 0===C?D.color:C,P=u.rotate,z=void 0===P?D.rotate:P,k=u.italic,A=void 0===k?D.italic:k,_=u.bold,L=void 0===_?D.bold:_,M=m.useRef(null),T=o(m.useState({x:0,y:0,width:32,height:16}),2),U=T[0],R=T[1];m.useEffect((function(){return R(M.current.getBBox())}),[d,b,w,R,M]);var E=m.useCallback((function(e){return l(n,e)}),[n,l]),O=m.useCallback((function(e){return a(n,e)}),[n,a]),q=m.useCallback((function(e){return c(n,e)}),[n,c]);return m.useMemo((function(){return h.jsx("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")rotate(").concat(z,")"),onPointerDown:E,onPointerMove:O,onPointerUp:q,style:{cursor:"move"},children:h.jsx(x,{ref:M,text:d.split("\n"),lineHeight:y,grow:"down",className:"rmp-name__".concat(S),fontSize:p,textAnchor:b,dominantBaseline:w,fill:B[2],fontStyle:A,fontWeight:L})})}),[n,t,i,d,p,y,b,w,S,B,z,A,L,U,E,O,q])},icon:h.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:h.jsx("text",{x:"12",y:"12",textAnchor:"middle",dominantBaseline:"middle",fontSize:"10",children:"Text"})}),defaultAttrs:D,attrsComponent:function(){return h.jsx(r,{fields:R})},metadata:{displayName:"panel.details.nodes.text.displayName",tags:[]}},O={num:1,color:[l.Berlin,"bu1","#62AD2D",a.white]},q=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:O).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:O;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",label:"color",component:h.jsx(c,{type:u.BerlinUBahnLineBadge,defaultTheme:O.color})}],I={component:function(e){var n=e.id,o=e.x,i=e.y,r=e.attrs,l=e.handlePointerDown,a=e.handlePointerMove,c=e.handlePointerUp,u=null!=r?r:O,s=u.num,d=void 0===s?O.num:s,f=u.color,x=void 0===f?O.color:f,p=m.useCallback((function(e){return l(n,e)}),[n,l]),g=m.useCallback((function(e){return a(n,e)}),[n,a]),y=m.useCallback((function(e){return c(n,e)}),[n,c]),v=x[3];return m.useMemo((function(){return h.jsxs("g",{id:n,transform:"translate(".concat(o,", ").concat(i,")"),children:[h.jsx("rect",{fill:x[2],x:"0",width:"25",height:"15"}),h.jsxs("text",{className:"rmp-name__berlin",textAnchor:"middle",x:"12.5",y:"12.5",fill:v,fontSize:"14",letterSpacing:"1",children:["U",d]}),h.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:"25",height:"15",onPointerDown:p,onPointerMove:g,onPointerUp:y,style:{cursor:"move"}})]})}),[n,o,i,d].concat(t(x),[p,g,y]))},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16"}),h.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"U1"})]}),defaultAttrs:O,attrsComponent:function(){return h.jsx(r,{fields:q})},metadata:{displayName:"panel.details.nodes.berlinUBahnLineBadge.displayName",tags:[]}},H={num:1,color:[l.Berlin,"bs1","#DD6CA6",a.white]},W=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:H).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:H;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",label:"color",component:h.jsx(c,{type:u.BerlinSBahnLineBadge,defaultTheme:H.color})}],Z={component:function(e){var n=e.id,i=e.x,r=e.y,l=e.attrs,a=e.handlePointerDown,c=e.handlePointerMove,u=e.handlePointerUp,s=null!=l?l:H,d=s.num,f=void 0===d?H.num:d,x=s.color,p=void 0===x?H.color:x,g=o(f>=10?[6,19.75]:[10,20],2),y=g[0],v=g[1],b=m.useCallback((function(e){return a(n,e)}),[n,a]),j=m.useCallback((function(e){return c(n,e)}),[n,c]),w=m.useCallback((function(e){return u(n,e)}),[n,u]),N=p[3];return m.useMemo((function(){return h.jsxs("g",{id:n,transform:"translate(".concat(i,", ").concat(r,")"),children:[h.jsx("rect",{fill:p[2],x:"0",width:"30",height:"15",rx:"8"}),h.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:y,y:"12.5",fill:N,fontSize:"14",letterSpacing:"0",children:"S"}),h.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:v,y:"12.5",fill:N,fontSize:"14",letterSpacing:"-0.2",children:f}),h.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:"30",height:"15",onPointerDown:b,onPointerMove:j,onPointerUp:w,style:{cursor:"move"}})]})}),[n,i,r,f].concat(t(p),[b,j,w]))},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"8"}),h.jsx("text",{x:"4.5",y:"16.5",fill:"white",fontSize:"14",children:"S1"})]}),defaultAttrs:H,attrsComponent:function(){return h.jsx(r,{fields:W})},metadata:{displayName:"panel.details.nodes.berlinSBahnLineBadge.displayName",tags:[]}},F={num:1,color:[l.Chongqing,"cq1","#e4002b",a.white]},G=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:F).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:F;return Number.isNaN(Number(e))?t.num=e:t.num=Number(e),t}},{type:"custom",label:"color",component:h.jsx(c,{type:u.ChongqingRTNumLineBadge,defaultTheme:F.color})}],K={component:function(e){var n=e.id,i=e.x,r=e.y,l=e.attrs,a=e.handlePointerDown,c=e.handlePointerMove,u=e.handlePointerUp,s=null!=l?l:F,d=s.num,f=void 0===d?F.num:d,x=s.color,p=void 0===x?F.color:x,g=m.useCallback((function(e){return a(n,e)}),[n,a]),y=m.useCallback((function(e){return c(n,e)}),[n,c]),v=m.useCallback((function(e){return u(n,e)}),[n,u]),b=p[3],j=Number.isInteger(f)?16:15,w=o(Number.isInteger(f)?Number(f)>=10?[-1.2,1.5]:[0,5.5]:[0,2.55],2),N=w[0],S=w[1];return m.useMemo((function(){return h.jsxs("g",{id:n,transform:"translate(".concat(i,", ").concat(r,")"),children:[h.jsx("rect",{fill:p[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),h.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:S,y:"10",fill:b,fontSize:j,letterSpacing:N,dominantBaseline:"central",children:f}),h.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:"20",height:"20",rx:"10",ry:"10",onPointerDown:g,onPointerMove:y,onPointerUp:v,style:{cursor:"move"}})]})}),[n,i,r,f].concat(t(p),[g,y,v]))},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),h.jsx("text",{x:"8",y:"18",fill:"white",fontSize:"18",children:"1"})]}),defaultAttrs:F,attrsComponent:function(){return h.jsx(r,{fields:G})},metadata:{displayName:"panel.details.nodes.chongqingRTNumLineBadge.displayName",tags:[]}},V={names:["空港线","Konggang Line"],color:[l.Chongqing,"cq3","#003da5",a.white]},$=[{type:"input",label:"panel.details.nodes.common.nameZh",value:function(e){return(null!=e?e:V).names[0]},onChange:function(e,n){var t=null!=n?n:V;return t.names[0]=e.toString(),t}},{type:"textarea",label:"panel.details.nodes.common.nameEn",value:function(e){return(null!=e?e:V).names[1]},onChange:function(e,n){var t=null!=n?n:V;return t.names[1]=e.toString(),t}},{type:"custom",label:"color",component:h.jsx(c,{type:u.ChongqingRTTextLineBadge,defaultTheme:V.color})}],J={component:function(e){var n=e.id,o=e.x,i=e.y,r=e.attrs,l=e.handlePointerDown,a=e.handlePointerMove,c=e.handlePointerUp,u=null!=r?r:V,s=u.names,d=void 0===s?V.names:s,f=u.color,p=void 0===f?V.color:f,g=m.useRef(null),y=m.useCallback((function(e){return l(n,e)}),[n,l]),v=m.useCallback((function(e){return a(n,e)}),[n,a]),b=m.useCallback((function(e){return c(n,e)}),[n,c]),j=p[3];return m.useMemo((function(){return h.jsxs("g",{id:n,transform:"translate(".concat(o,", ").concat(i,")"),children:[h.jsx("rect",{fill:p[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),h.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"10",y:"10.5",fill:j,fontSize:"6",letterSpacing:"0",children:d[0]}),h.jsx(x,{ref:g,text:d[1].split("\n"),className:"rmp-name__en",textAnchor:"middle",x:"10",y:"9.25",fill:j,fontSize:"2.5",letterSpacing:"0",lineHeight:2.25,grow:"down"}),h.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:"20",height:"20",rx:"10",ry:"10",onPointerDown:y,onPointerMove:v,onPointerUp:b,style:{cursor:"move"}})]})}),[n,o,i].concat(t(d),t(p),[y,v,b]))},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),h.jsx("text",{x:"4.5",y:"12.5",fill:"white",fontSize:"5",children:"空港线"}),h.jsx("text",{x:"4.5",y:"15",fill:"white",fontSize:"2",children:"Konggang Line"})]}),defaultAttrs:V,attrsComponent:function(){return h.jsx(r,{fields:$})},metadata:{displayName:"panel.details.nodes.chongqingRTTextLineBadge.displayName",tags:[]}},Q=11.84375,X={num:1,color:[l.Shenzhen,"sz1","#00b140",a.white],isBranch:!1},Y={component:function(e){var n=e.id,o=e.x,i=e.y,r=e.attrs,l=e.handlePointerDown,c=e.handlePointerMove,u=e.handlePointerUp,s=null!=r?r:X,d=s.num,f=void 0===d?X.num:d,x=s.color,p=void 0===x?X.color:x,g=s.isBranch,y=void 0===g?X.isBranch:g,v=m.useCallback((function(e){return l(n,e)}),[n,l]),b=m.useCallback((function(e){return c(n,e)}),[n,c]),j=m.useCallback((function(e){return u(n,e)}),[n,u]),w=p[3]===a.black?"#003670":a.white,N=y?10:Q+(f>9?6.5:3),S=y?-1:0,C=y?11:Q+(f>9?7:3.5),B=y?6:9.921875;return m.useMemo((function(){return h.jsxs("g",{id:n,transform:"translate(".concat(o,", ").concat(i,")"),onPointerDown:v,onPointerMove:b,onPointerUp:j,style:{cursor:"move"},children:[h.jsx("rect",{fill:p[2],x:"0",width:32.84375,height:"16",rx:"2"}),h.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:B,y:"13.5",fill:w,fontSize:"15",letterSpacing:"-1",children:f}),h.jsxs("text",{className:"rmp-name__zh",x:N,y:"9.5",fontSize:"6",fill:w,letterSpacing:S,children:["号线",y?"支线":""]}),h.jsxs("text",{className:"rmp-name__en",x:C,y:"13.5",fontSize:"3",fill:w,children:[y?"Branch":""," Line ",f]})]})}),[n,o,i,f].concat(t(p),[y,v,b,j]))},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),h.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),h.jsx("text",{x:"11",y:"14",fill:"white",fontSize:"5",children:"号线"}),h.jsx("text",{x:"12",y:"17",fill:"white",fontSize:"3",children:"Line 1"})]}),defaultAttrs:X,attrsComponent:function(e){var n=e.id,t=e.attrs,o=e.handleAttrsUpdate,i=s().t,r=[{type:"input",label:i("panel.details.nodes.common.num"),value:String(t.num),validator:function(e){return!Number.isNaN(e)},onChange:function(e){t.num=Number(e),o(n,t)},minW:"full"},{type:"custom",label:i("color"),component:h.jsx(c,{type:u.ShenzhenMetroNumLineBadge,defaultTheme:X.color}),minW:"full"},{type:"switch",label:i("panel.details.nodes.shenzhenMetroNumLineBadge.branch"),oneLine:!0,isChecked:t.isBranch,onChange:function(e){t.isBranch=e,o(n,t)},minW:"full"}];return h.jsx(d,{fields:r})},metadata:{displayName:"panel.details.nodes.shenzhenMetroNumLineBadge.displayName",tags:[]}};e("m",(n(i={},u.Virtual,g),n(i,u.ShmetroNumLineBadge,b),n(i,u.ShmetroTextLineBadge,N),n(i,u.GzmtrLineBadge,C),n(i,u.BjsubwayNumLineBadge,k),n(i,u.BjsubwayTextLineBadge,L),n(i,u.SuzhouRTNumLineBadge,U),n(i,u.BerlinSBahnLineBadge,Z),n(i,u.BerlinUBahnLineBadge,I),n(i,u.ChongqingRTNumLineBadge,K),n(i,u.ChongqingRTTextLineBadge,J),n(i,u.ShenzhenMetroNumLineBadge,Y),n(i,u.Facilities,p),n(i,u.Text,E),i))}}}))}();
