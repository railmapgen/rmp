!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function t(n,t,r){return(t=function(n){var t=function(n,t){if("object"!==e(n)||null===n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var o=r.call(n,t||"default");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===e(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function r(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,l,a=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(a.push(r.value),a.length!==n);c=!0);}catch(s){u=!0,o=s}finally{try{if(!c&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw o}}return a}}(e,n)||i(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){if(e){if("string"==typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}System.register(["./index-legacy-52161385.js","./chakra-legacy-dae91ce7.js","./react-legacy-57266490.js","./stations-legacy-5d112cfb.js"],(function(e,i){"use strict";var l,a,c,u,s,d,m,h,f;return{setters:[function(e){l=e.an,a=e.C,c=e.e,u=e.ao,s=e.d},function(e){d=e.j},function(e){m=e.b},function(e){h=e.M,f=e.f}],execute:function(){var i,x={component:function(e){var n=e.id,t=e.x,r=e.y,o=e.handlePointerDown,i=e.handlePointerMove,l=e.handlePointerUp,a=m.useCallback((function(e){return o(n,e)}),[n,o]),c=m.useCallback((function(e){return i(n,e)}),[n,i]),u=m.useCallback((function(e){return l(n,e)}),[n,l]);return m.useMemo((function(){return d.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(r,")rotate(45)"),children:[d.jsx("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"black"}),d.jsx("line",{x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"black"}),d.jsx("circle",{id:"virtual_circle_".concat(n),r:5,stroke:"black",fill:"white",fillOpacity:"0",onPointerDown:a,onPointerMove:c,onPointerUp:u,style:{cursor:"move"}})]})}),[n,t,r,a,c,u])},icon:d.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,transform:"rotate(45)",focusable:!1,children:[d.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),d.jsx("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:"currentColor"}),d.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"18",stroke:"currentColor"})]}),defaultAttrs:{},attrsComponent:function(){return d.jsx(l,{fields:[]})},metadata:{displayName:"panel.details.nodes.virtual.displayName",tags:[]}},p={num:1,color:[a.Shanghai,"sh1","#E4002B",c.white]},g=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:p).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:p;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",label:"color",component:d.jsx(u,{type:s.ShmetroNumLineBadge,defaultTheme:p.color})}],y={component:function(e){var n=e.id,t=e.x,i=e.y,l=e.attrs,a=e.handlePointerDown,c=e.handlePointerMove,u=e.handlePointerUp,s=null!=l?l:p,h=s.num,f=void 0===h?p.num:h,x=s.color,g=void 0===x?p.color:x,y=o(f>=10?[22.67,10.75]:[21,10],2),b=y[0],v=y[1],j=m.useCallback((function(e){return a(n,e)}),[n,a]),w=m.useCallback((function(e){return c(n,e)}),[n,c]),N=m.useCallback((function(e){return u(n,e)}),[n,u]);return m.useMemo((function(){return d.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),children:[d.jsx("rect",{fill:g[2],width:b,height:"22.67"}),d.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:v,y:"19",fill:g[3],fontSize:"21.33",letterSpacing:"-1.75",children:f}),d.jsx("text",{className:"rmp-name__zh",x:b+2,y:"12",fontSize:"14.67",children:"号线"}),d.jsxs("text",{className:"rmp-name__en",x:b+4,y:"21.5",fontSize:"8",children:["Line ",f]}),d.jsx("rect",{fill:"white",fillOpacity:"0",width:b,height:"22.67",onPointerDown:j,onPointerMove:w,onPointerUp:N,style:{cursor:"move"}})]})}),[n,t,i,f].concat(r(g),[j,w,N]))},icon:d.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[d.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"10",height:"16"}),d.jsx("text",{x:"4",y:"18",fill:"white",children:"1"}),d.jsx("text",{x:"14",y:"10",fontSize:"5",children:"号线"}),d.jsx("text",{x:"14",y:"18",fontSize:"4",children:"Line 1"})]}),defaultAttrs:p,attrsComponent:function(){return d.jsx(l,{fields:g})},metadata:{displayName:"panel.details.nodes.shmetroNumLineBadge.displayName",tags:[]}},b={names:["浦江线","Pujiang Line"],color:[a.Shanghai,"pjl","#B5B5B6",c.white]},v=[{type:"input",label:"panel.details.nodes.common.nameZh",value:function(e){return(null!=e?e:b).names[0]},onChange:function(e,n){var t=null!=n?n:b;return t.names[0]=e.toString(),t}},{type:"input",label:"panel.details.nodes.common.nameEn",value:function(e){return(null!=e?e:b).names[1]},onChange:function(e,n){var t=null!=n?n:b;return t.names[1]=e.toString(),t}},{type:"custom",label:"color",component:d.jsx(u,{type:s.ShmetroTextLineBadge,defaultTheme:b.color})}],j={component:function(e){var n=e.id,t=e.x,i=e.y,l=e.attrs,a=e.handlePointerDown,c=e.handlePointerMove,u=e.handlePointerUp,s=null!=l?l:b,h=s.names,f=void 0===h?b.names:h,x=s.color,p=void 0===x?b.color:x,g=m.useRef(null),y=o(m.useState({width:12}),2),v=y[0],j=y[1];m.useEffect((function(){return j(g.current.getBBox())}),[].concat(r(f),[j,g]));var w=m.useCallback((function(e){return a(n,e)}),[n,a]),N=m.useCallback((function(e){return c(n,e)}),[n,c]),S=m.useCallback((function(e){return u(n,e)}),[n,u]);return m.useMemo((function(){return d.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),children:[d.jsx("rect",{fill:p[2],x:"0",width:v.width+7,height:"21"}),d.jsxs("g",{ref:g,children:[d.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"hanging",x:(v.width+7)/2,y:"4",fontSize:"10",fill:p[3],letterSpacing:"-0.25",children:f[0]}),d.jsx("text",{className:"rmp-name__en",textAnchor:"middle",dominantBaseline:"hanging",x:(v.width+7)/2,y:"13",fontSize:"5",fill:p[3],letterSpacing:"-0.25",children:f[1]})]}),d.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:v.width+7,height:"21",onPointerDown:w,onPointerMove:N,onPointerUp:S,style:{cursor:"move"}})]})}),[n,t,i].concat(r(f),[v],r(p),[w,N,S]))},icon:d.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[d.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),d.jsx("text",{x:"5",y:"11",fontSize:"5",fill:"white",children:"浦江线"}),d.jsx("text",{x:"3",y:"16",fontSize:"4",fill:"white",children:"Pujiang Line"})]}),defaultAttrs:b,attrsComponent:function(){return d.jsx(l,{fields:v})},metadata:{displayName:"panel.details.nodes.shmetroTextLineBadge.displayName",tags:[]}},w=function(e){var n=e.lineName,t=e.commonPart,r=m.useRef(null),i=o(m.useState({x:0,height:0,width:0}),2),l=i[0],a=i[1];m.useEffect((function(){r.current&&a(r.current.getBBox())}),[n.toString()]);var c=S/Math.max(S,l.width),u=(-l.x-l.width/2)*c,s=l.height*(1-c)*1.2/2;return d.jsx("g",{ref:r,transform:"translate(".concat(u,",").concat(s,")scale(").concat(c,")"),children:d.jsxs("text",{className:"rmp-name__zh",fontSize:14,y:12,textAnchor:"end",dominantBaseline:"central",children:[t,d.jsx("tspan",{className:"rmp-name__zh",fontSize:8,x:0,dy:-2,textAnchor:"start",dominantBaseline:"central",children:n[0].slice(t.length).trim()}),d.jsx("tspan",{className:"rmg-name__en",fontSize:4,x:0,dy:6,textAnchor:"start",dominantBaseline:"central",children:n[1].slice(t.length).trim()})]})})},N=function(e){return d.jsx("rect",function(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?n(Object(o),!0).forEach((function(n){t(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))}))}return e}({x:-22.5,height:24,width:45,rx:4.5},e))},S=42,C=function(e){var n=e.lineName,t=e.foregroundColour,r=e.backgroundColour,i=e.passed,l=o(B(n),2),a=l[0],u=l[1],s=m.useRef(null),h=m.useRef(null),f=o(m.useState({width:0}),2),x=f[0],p=f[1],g=o(m.useState({width:0}),2),y=g[0],b=g[1];m.useEffect((function(){s.current&&p(s.current.getBBox()),h.current&&b(h.current.getBBox())}),[n.toString()]);var v=S/Math.max(S,x.width),j=S/Math.max(S,y.width),C={nameZh:{y:7.3+13.5*(1-v)*v/2},nameEn:{y:19.5-9*(1-j)*j/2}};return d.jsxs("g",{textAnchor:"middle",fill:i?c.white:t,children:[d.jsx(N,{fill:i?"#aaa":r}),2===a?d.jsx(w,{lineName:n,commonPart:u}):d.jsxs(d.Fragment,{children:[d.jsx("text",{ref:s,className:"rmp-name__zh",fontSize:12,transform:"translate(0,".concat(C.nameZh.y,")scale(").concat(v,")"),dominantBaseline:"central",children:1===a?d.jsxs(d.Fragment,{children:[d.jsx("tspan",{fontSize:16,dy:.7,className:"rmp-name__zh",dominantBaseline:"central",children:u}),d.jsx("tspan",{dy:-.7,className:"rmp-name__zh",dominantBaseline:"central",children:n[0].slice(u.length)})]}):n[0]}),d.jsx("text",{ref:h,className:"rmp-name__en",fontSize:8,transform:"translate(0,".concat(C.nameEn.y,")scale(").concat(j,")"),dominantBaseline:"middle",children:n[1]})]})]})},B=function(e){var n=e[0].match(/^(\d+)\D+$/);if(n)return[1,n[1]];var t=e.map((function(e){return e.match(/^(\w+).+$/)}));return t[0]&&t[1]&&t[0][1]===t[1][1]?[2,t[0][1]]:[3,""]},P={names:["1号线","Line 1"],color:[a.Guangzhou,"gz1","#F3D03E",c.black]},z=[{type:"input",label:"panel.details.nodes.common.nameZh",value:function(e){return(null!=e?e:P).names[0]},onChange:function(e,n){var t=null!=n?n:P;return t.names[0]=e.toString(),t}},{type:"input",label:"panel.details.nodes.common.nameEn",value:function(e){return(null!=e?e:P).names[1]},onChange:function(e,n){var t=null!=n?n:P;return t.names[1]=e.toString(),t}},{type:"custom",label:"color",component:d.jsx(u,{type:s.GzmtrLineBadge,defaultTheme:P.color})}],_={component:function(e){var n=e.id,t=e.x,o=e.y,i=e.attrs,l=e.handlePointerDown,a=e.handlePointerMove,c=e.handlePointerUp,u=null!=i?i:P,s=u.names,h=void 0===s?P.names:s,f=u.color,x=void 0===f?P.color:f,p=m.useCallback((function(e){return l(n,e)}),[n,l]),g=m.useCallback((function(e){return a(n,e)}),[n,a]),y=m.useCallback((function(e){return c(n,e)}),[n,c]);return m.useMemo((function(){return d.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(o,")"),children:[d.jsx(C,{lineName:h,foregroundColour:x[3],backgroundColour:x[2]}),d.jsx("rect",{fill:"white",fillOpacity:"0",x:"-22.5",width:"45",height:"24",rx:"4.5",onPointerDown:p,onPointerMove:g,onPointerUp:y,style:{cursor:"move"}})]})}),[n,t,o].concat(r(h),r(x),[p,g,y]))},icon:d.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[d.jsx("rect",{fill:"currentColor",x:"2",y:"5",width:"20",height:"14",rx:"1"}),d.jsx("text",{x:"12",y:"12",textAnchor:"middle",fontSize:"6",fill:"white",children:"1号线"}),d.jsx("text",{x:"12",y:"17",textAnchor:"middle",fontSize:"5",fill:"white",children:"Line 1"})]}),defaultAttrs:P,attrsComponent:function(){return d.jsx(l,{fields:z})},metadata:{displayName:"panel.details.nodes.gzmtrLineBadge.displayName",tags:[]}},k=11.84375,A={num:1,color:[a.Beijing,"bj1","#c23a30",c.white]},M=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:A).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:A;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",label:"color",component:d.jsx(u,{type:s.BjsubwayNumLineBadge,defaultTheme:A.color})}],L={component:function(e){var n=e.id,t=e.x,o=e.y,i=e.attrs,l=e.handlePointerDown,a=e.handlePointerMove,u=e.handlePointerUp,s=null!=i?i:A,h=s.num,f=void 0===h?A.num:h,x=s.color,p=void 0===x?A.color:x,g=m.useCallback((function(e){return l(n,e)}),[n,l]),y=m.useCallback((function(e){return a(n,e)}),[n,a]),b=m.useCallback((function(e){return u(n,e)}),[n,u]),v=p[3]===c.black?"#003670":c.white;return m.useMemo((function(){return d.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(o,")"),children:[d.jsx("rect",{fill:p[2],x:"0",width:32.84375,height:"16",rx:"2"}),d.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:7.921875,y:"13.5",fill:v,fontSize:"15",letterSpacing:"-1.5",children:f}),d.jsx("text",{className:"rmp-name__zh",x:k+(f>9?5.5:3),y:"8.5",fontSize:"7",fill:v,children:"号线"}),d.jsxs("text",{className:"rmp-name__en",x:k+(f>9?6:4.5),y:"13.5",fontSize:"4",fill:v,children:["Line ",f]}),d.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:34.84375,height:"16",rx:"2",onPointerDown:g,onPointerMove:y,onPointerUp:b,style:{cursor:"move"}})]})}),[n,t,o,f].concat(r(p),[g,y,b]))},icon:d.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[d.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),d.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),d.jsx("text",{x:"11",y:"11",fill:"white",fontSize:"5",children:"号线"}),d.jsx("text",{x:"11",y:"17",fill:"white",fontSize:"4",children:"Line 1"})]}),defaultAttrs:A,attrsComponent:function(){return d.jsx(l,{fields:M})},metadata:{displayName:"panel.details.nodes.bjsubwayNumLineBadge.displayName",tags:[]}},T={names:["八通线","Batong Line"],color:[a.Beijing,"bj1","#c23a30",c.white]},D=[{type:"input",label:"panel.details.nodes.common.nameZh",value:function(e){return(null!=e?e:T).names[0]},onChange:function(e,n){var t=null!=n?n:T;return t.names[0]=e.toString(),t}},{type:"input",label:"panel.details.nodes.common.nameEn",value:function(e){return(null!=e?e:T).names[1]},onChange:function(e,n){var t=null!=n?n:T;return t.names[1]=e.toString(),t}},{type:"custom",label:"color",component:d.jsx(u,{type:s.BjsubwayTextLineBadge,defaultTheme:T.color})}],O={component:function(e){var n=e.id,t=e.x,i=e.y,l=e.attrs,a=e.handlePointerDown,u=e.handlePointerMove,s=e.handlePointerUp,h=null!=l?l:T,f=h.names,x=void 0===f?T.names:f,p=h.color,g=void 0===p?T.color:p,y=m.useRef(null),b=o(m.useState({width:12}),2),v=b[0],j=b[1];m.useEffect((function(){return j(y.current.getBBox())}),[].concat(r(x),[j,y]));var w=m.useCallback((function(e){return a(n,e)}),[n,a]),N=m.useCallback((function(e){return u(n,e)}),[n,u]),S=m.useCallback((function(e){return s(n,e)}),[n,s]),C=Math.max(28.84375,v.width),B=g[3]===c.black?"#003670":c.white;return m.useMemo((function(){return d.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),children:[d.jsx("rect",{fill:g[2],x:"0",width:C+4,height:"16",rx:"2"}),d.jsxs("g",{ref:y,children:[d.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:(C+4)/2,y:"8",fontSize:"7",fill:B,children:x[0]}),d.jsx("text",{className:"rmp-name__en",textAnchor:"middle",x:(C+4)/2,y:"13.5",fontSize:"4",fill:B,children:x[1]})]}),d.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:C+3,height:"16",rx:"2",onPointerDown:w,onPointerMove:N,onPointerUp:S,style:{cursor:"move"}})]})}),[n,t,i].concat(r(x),[v],r(g),[w,N,S]))},icon:d.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[d.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12",rx:"2"}),d.jsx("text",{x:"3",y:"12",fontSize:"6",fill:"white",children:"八通线"}),d.jsx("text",{x:"3",y:"16",fontSize:"3.2",fill:"white",children:"Batong Line"})]}),defaultAttrs:T,attrsComponent:function(){return d.jsx(l,{fields:D})},metadata:{displayName:"panel.details.nodes.bjsubwayTextLineBadge.displayName",tags:[]}},U={num:1,branch:!1,color:[a.Suzhou,"sz1","#78BA25",c.white]},E=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:U).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:U;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"switch",label:"panel.details.nodes.suzhouRTNumLineBadge.branch",isChecked:function(e){var n;return null!==(n=null==e?void 0:e.branch)&&void 0!==n?n:U.branch},onChange:function(e,n){var t=null!=n?n:U;return t.branch=e,t}},{type:"custom",label:"color",component:d.jsx(u,{type:s.SuzhouRTNumLineBadge,defaultTheme:U.color})}],R={component:function(e){var n=e.id,t=e.x,o=e.y,i=e.attrs,l=e.handlePointerDown,a=e.handlePointerMove,c=e.handlePointerUp,u=null!=i?i:U,s=u.num,h=void 0===s?U.num:s,f=u.branch,x=void 0===f?U.branch:f,p=u.color,g=void 0===p?U.color:p,y=m.useCallback((function(e){return l(n,e)}),[n,l]),b=m.useCallback((function(e){return a(n,e)}),[n,a]),v=m.useCallback((function(e){return c(n,e)}),[n,c]);return m.useMemo((function(){return d.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(o,")"),children:[d.jsx("rect",{fill:g[2],width:"20",height:"20",rx:"2",ry:"2"}),d.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"middle",x:"10",y:"11.4",fill:g[3],fontSize:"15",letterSpacing:"-1",children:h}),x&&d.jsxs(d.Fragment,{children:[d.jsx("text",{className:"rmp-name__zh",x:22.5,y:"10",fontSize:"10",children:"支线"}),d.jsx("text",{className:"rmp-name__en",x:22.5,y:"18",fontSize:"5",fill:"gray",children:"Branch line"})]}),d.jsx("rect",{fill:"white",fillOpacity:"0",width:"20",height:"20",rx:"2",ry:"2",onPointerDown:y,onPointerMove:b,onPointerUp:v,style:{cursor:"move"}})]})}),[n,t,o,h,x].concat(r(g),[y,b,v]))},icon:d.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[d.jsx("rect",{fill:"currentColor",x:"4",y:"4",width:"16",height:"16",rx:"3",ry:"3"}),d.jsx("text",{x:"12",y:"13.4",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:U,attrsComponent:function(){return d.jsx(l,{fields:E})},metadata:{displayName:"panel.details.nodes.suzhouRTNumLineBadge.displayName",tags:[]}},q={content:"Enter your text here",fontSize:16,lineHeight:16,textAnchor:"middle",dominantBaseline:"middle",language:"en",color:[a.Shanghai,"jsr","#000000",c.white],rotate:0,italic:"normal",bold:"normal"},I=[{type:"textarea",label:"panel.details.nodes.text.content",value:function(e){return(null!=e?e:q).content},onChange:function(e,n){var t=null!=n?n:q;return t.content=e.toString(),t}},{type:"input",label:"panel.details.nodes.text.fontSize",value:function(e){return(null!=e?e:q).fontSize},validator:function(e){return Number.isInteger(e)&&Number(e)>0},onChange:function(e,n){var t=null!=n?n:q;return t.fontSize=Number(e),t}},{type:"input",label:"panel.details.nodes.text.lineHeight",value:function(e){return(null!=e?e:q).lineHeight},validator:function(e){return Number.isInteger(e)&&Number(e)>0},onChange:function(e,n){var t=null!=n?n:q;return t.lineHeight=Number(e),t}},{type:"select",label:"panel.details.nodes.text.textAnchor",value:function(e){return(null!=e?e:q).textAnchor},options:{start:"start",middle:"middle",end:"end"},onChange:function(e,n){var t=null!=n?n:q;return t.textAnchor=e,t}},{type:"select",label:"panel.details.nodes.text.dominantBaseline",value:function(e){return(null!=e?e:q).dominantBaseline},options:{auto:"auto",middle:"middle",hanging:"hanging"},onChange:function(e,n){var t=null!=n?n:q;return t.dominantBaseline=e,t}},{type:"select",label:"panel.details.nodes.text.language",value:function(e){return(null!=e?e:q).language},options:{zh:"Chinese",en:"English",mtr__zh:"MTR Chinese",mtr__en:"MTR English"},onChange:function(e,n){var t=null!=n?n:q;return t.language=e.toString(),t}},{type:"select",label:"panel.details.nodes.text.rotate",value:function(e){var n;return null!==(n=null==e?void 0:e.rotate)&&void 0!==n?n:q.rotate},options:{0:"0",45:"45",90:"90",135:"135",180:"180",225:"225",270:"270",315:"315"},onChange:function(e,n){var t=null!=n?n:q;return t.rotate=Number(e),t}},{type:"switch",label:"panel.details.nodes.text.italic",isChecked:function(e){var n;return"italic"===(null!==(n=null==e?void 0:e.italic)&&void 0!==n?n:q.italic)},onChange:function(e,n){var t=null!=n?n:q;return t.italic=e?"italic":"normal",t}},{type:"switch",label:"panel.details.nodes.text.bold",isChecked:function(e){var n;return"bold"===(null!==(n=null==e?void 0:e.bold)&&void 0!==n?n:q.bold)},onChange:function(e,n){var t=null!=n?n:q;return t.bold=e?"bold":"normal",t}},{type:"custom",label:"color",component:d.jsx(u,{type:s.Text,defaultTheme:q.color})}],H={component:function(e){var n=e.id,t=e.x,r=e.y,i=e.attrs,l=e.handlePointerDown,a=e.handlePointerMove,c=e.handlePointerUp,u=null!=i?i:q,s=u.content,f=void 0===s?q.content:s,x=u.fontSize,p=void 0===x?q.fontSize:x,g=u.lineHeight,y=void 0===g?q.lineHeight:g,b=u.textAnchor,v=void 0===b?q.textAnchor:b,j=u.dominantBaseline,w=void 0===j?q.dominantBaseline:j,N=u.language,S=void 0===N?q.language:N,C=u.color,B=void 0===C?q.color:C,P=u.rotate,z=void 0===P?q.rotate:P,_=u.italic,k=void 0===_?q.italic:_,A=u.bold,M=void 0===A?q.bold:A,L=m.useRef(null),T=o(m.useState({x:0,y:0,width:32,height:16}),2),D=T[0],O=T[1];m.useEffect((function(){return O(L.current.getBBox())}),[f,v,w,O,L]);var U=m.useCallback((function(e){return l(n,e)}),[n,l]),E=m.useCallback((function(e){return a(n,e)}),[n,a]),R=m.useCallback((function(e){return c(n,e)}),[n,c]);return m.useMemo((function(){return d.jsx("g",{id:n,transform:"translate(".concat(t,", ").concat(r,")rotate(").concat(z,")"),onPointerDown:U,onPointerMove:E,onPointerUp:R,style:{cursor:"move"},children:d.jsx(h,{ref:L,text:f.split("\n"),lineHeight:y,grow:"down",className:"rmp-name__".concat(S),fontSize:p,textAnchor:v,dominantBaseline:w,fill:B[2],fontStyle:k,fontWeight:M})})}),[n,t,r,f,p,y,v,w,S,B,z,k,M,D,U,E,R])},icon:d.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:d.jsx("text",{x:"12",y:"12",textAnchor:"middle",dominantBaseline:"middle",fontSize:"10",children:"Text"})}),defaultAttrs:q,attrsComponent:function(){return d.jsx(l,{fields:I})},metadata:{displayName:"panel.details.nodes.text.displayName",tags:[]}},Z={num:1,color:[a.Berlin,"bu1","#62AD2D",c.white]},F=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:Z).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:Z;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",label:"color",component:d.jsx(u,{type:s.BerlinUBahnLineBadge,defaultTheme:Z.color})}],G={component:function(e){var n=e.id,t=e.x,o=e.y,i=e.attrs,l=e.handlePointerDown,a=e.handlePointerMove,c=e.handlePointerUp,u=null!=i?i:Z,s=u.num,h=void 0===s?Z.num:s,f=u.color,x=void 0===f?Z.color:f,p=m.useCallback((function(e){return l(n,e)}),[n,l]),g=m.useCallback((function(e){return a(n,e)}),[n,a]),y=m.useCallback((function(e){return c(n,e)}),[n,c]),b=x[3];return m.useMemo((function(){return d.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(o,")"),children:[d.jsx("rect",{fill:x[2],x:"0",width:"25",height:"15"}),d.jsxs("text",{className:"rmp-name__berlin",textAnchor:"middle",x:"12.5",y:"12.5",fill:b,fontSize:"14",letterSpacing:"1",children:["U",h]}),d.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:"25",height:"15",onPointerDown:p,onPointerMove:g,onPointerUp:y,style:{cursor:"move"}})]})}),[n,t,o,h].concat(r(x),[p,g,y]))},icon:d.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[d.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16"}),d.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"U1"})]}),defaultAttrs:Z,attrsComponent:function(){return d.jsx(l,{fields:F})},metadata:{displayName:"panel.details.nodes.berlinUBahnLineBadge.displayName",tags:[]}},$={num:1,color:[a.Berlin,"bs1","#DD6CA6",c.white]},K=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:$).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:$;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",label:"color",component:d.jsx(u,{type:s.BerlinSBahnLineBadge,defaultTheme:$.color})}],V={component:function(e){var n=e.id,t=e.x,i=e.y,l=e.attrs,a=e.handlePointerDown,c=e.handlePointerMove,u=e.handlePointerUp,s=null!=l?l:$,h=s.num,f=void 0===h?$.num:h,x=s.color,p=void 0===x?$.color:x,g=o(f>=10?[6,19.75]:[10,20],2),y=g[0],b=g[1],v=m.useCallback((function(e){return a(n,e)}),[n,a]),j=m.useCallback((function(e){return c(n,e)}),[n,c]),w=m.useCallback((function(e){return u(n,e)}),[n,u]),N=p[3];return m.useMemo((function(){return d.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),children:[d.jsx("rect",{fill:p[2],x:"0",width:"30",height:"15",rx:"8"}),d.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:y,y:"12.5",fill:N,fontSize:"14",letterSpacing:"0",children:"S"}),d.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:b,y:"12.5",fill:N,fontSize:"14",letterSpacing:"-0.2",children:f}),d.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:"30",height:"15",onPointerDown:v,onPointerMove:j,onPointerUp:w,style:{cursor:"move"}})]})}),[n,t,i,f].concat(r(p),[v,j,w]))},icon:d.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[d.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"8"}),d.jsx("text",{x:"4.5",y:"16.5",fill:"white",fontSize:"14",children:"S1"})]}),defaultAttrs:$,attrsComponent:function(){return d.jsx(l,{fields:K})},metadata:{displayName:"panel.details.nodes.berlinSBahnLineBadge.displayName",tags:[]}},W={num:1,color:[a.Chongqing,"cq1","#e4002b",c.white]},J=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:W).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:W;return Number.isNaN(Number(e))?t.num=e:t.num=Number(e),t}},{type:"custom",label:"color",component:d.jsx(u,{type:s.ChongqingRTNumLineBadge,defaultTheme:W.color})}],Q={component:function(e){var n=e.id,t=e.x,i=e.y,l=e.attrs,a=e.handlePointerDown,c=e.handlePointerMove,u=e.handlePointerUp,s=null!=l?l:W,h=s.num,f=void 0===h?W.num:h,x=s.color,p=void 0===x?W.color:x,g=m.useCallback((function(e){return a(n,e)}),[n,a]),y=m.useCallback((function(e){return c(n,e)}),[n,c]),b=m.useCallback((function(e){return u(n,e)}),[n,u]),v=p[3],j=Number.isInteger(f)?16:15,w=o(Number.isInteger(f)?Number(f)>=10?[-1.2,1.5]:[0,5.5]:[0,2.55],2),N=w[0],S=w[1];return m.useMemo((function(){return d.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),children:[d.jsx("rect",{fill:p[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),d.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:S,y:"10",fill:v,fontSize:j,letterSpacing:N,dominantBaseline:"central",children:f}),d.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:"20",height:"20",rx:"10",ry:"10",onPointerDown:g,onPointerMove:y,onPointerUp:b,style:{cursor:"move"}})]})}),[n,t,i,f].concat(r(p),[g,y,b]))},icon:d.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[d.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),d.jsx("text",{x:"8",y:"18",fill:"white",fontSize:"18",children:"1"})]}),defaultAttrs:W,attrsComponent:function(){return d.jsx(l,{fields:J})},metadata:{displayName:"panel.details.nodes.chongqingRTNumLineBadge.displayName",tags:[]}},X={names:["空港线","Konggang Line"],color:[a.Chongqing,"cq3","#003da5",c.white]},Y=[{type:"input",label:"panel.details.nodes.common.nameZh",value:function(e){return(null!=e?e:X).names[0]},onChange:function(e,n){var t=null!=n?n:X;return t.names[0]=e.toString(),t}},{type:"textarea",label:"panel.details.nodes.common.nameEn",value:function(e){return(null!=e?e:X).names[1]},onChange:function(e,n){var t=null!=n?n:X;return t.names[1]=e.toString(),t}},{type:"custom",label:"color",component:d.jsx(u,{type:s.ChongqingRTTextLineBadge,defaultTheme:X.color})}],ee={component:function(e){var n=e.id,t=e.x,o=e.y,i=e.attrs,l=e.handlePointerDown,a=e.handlePointerMove,c=e.handlePointerUp,u=null!=i?i:X,s=u.names,f=void 0===s?X.names:s,x=u.color,p=void 0===x?X.color:x,g=m.useRef(null),y=m.useCallback((function(e){return l(n,e)}),[n,l]),b=m.useCallback((function(e){return a(n,e)}),[n,a]),v=m.useCallback((function(e){return c(n,e)}),[n,c]),j=p[3];return m.useMemo((function(){return d.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(o,")"),children:[d.jsx("rect",{fill:p[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),d.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"10",y:"10.5",fill:j,fontSize:"6",letterSpacing:"0",children:f[0]}),d.jsx(h,{ref:g,text:f[1].split("\n"),className:"rmp-name__en",textAnchor:"middle",x:"10",y:"9.25",fill:j,fontSize:"2.5",letterSpacing:"0",lineHeight:2.25,grow:"down"}),d.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:"20",height:"20",rx:"10",ry:"10",onPointerDown:y,onPointerMove:b,onPointerUp:v,style:{cursor:"move"}})]})}),[n,t,o].concat(r(f),r(p),[y,b,v]))},icon:d.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[d.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),d.jsx("text",{x:"4.5",y:"12.5",fill:"white",fontSize:"5",children:"空港线"}),d.jsx("text",{x:"4.5",y:"15",fill:"white",fontSize:"2",children:"Konggang Line"})]}),defaultAttrs:X,attrsComponent:function(){return d.jsx(l,{fields:Y})},metadata:{displayName:"panel.details.nodes.chongqingRTTextLineBadge.displayName",tags:[]}};e("m",(t(i={},s.Virtual,x),t(i,s.ShmetroNumLineBadge,y),t(i,s.ShmetroTextLineBadge,j),t(i,s.GzmtrLineBadge,_),t(i,s.BjsubwayNumLineBadge,L),t(i,s.BjsubwayTextLineBadge,O),t(i,s.SuzhouRTNumLineBadge,R),t(i,s.BerlinSBahnLineBadge,V),t(i,s.BerlinUBahnLineBadge,G),t(i,s.ChongqingRTNumLineBadge,Q),t(i,s.ChongqingRTTextLineBadge,ee),t(i,s.Facilities,f),t(i,s.Text,H),i))}}}))}();
