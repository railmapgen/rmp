!function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function t(t){for(var l=1;l<arguments.length;l++){var o=null!=arguments[l]?arguments[l]:{};l%2?e(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function n(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}System.register(["./index-legacy-D0jVuZTo.js","./chakra-legacy-VViCoECn.js","./react-legacy-DopGR7tC.js","./master-manager-legacy-CRC1a0MX.js"],(function(e,n){"use strict";var l,o,i,a,r,s,d,c,h,m,u,x,p,g,f,y,b,j,w,v,C,P,S,B,N,k,z,L,A,T,M;return{setters:[e=>{l=e.C,o=e.M,i=e.aW,a=e.aX,r=e.ax,s=e.j,d=e.c,c=e.aY,h=e.aZ,m=e.a_,u=e.a$,x=e.W,p=e.X,g=e.T,f=e.R,y=e.H,b=e.ao},e=>{j=e.j,w=e.U,v=e.V,C=e.h,P=e.aM,S=e.a2,B=e.t},e=>{N=e.b,k=e.u},e=>{z=e.v,L=e.w,A=e.M,T=e.x,M=e.y}],execute:function(){const n=e("v",{component:e=>{const{id:t,x:n,y:l,handlePointerDown:o,handlePointerMove:i,handlePointerUp:a}=e,r=N.useCallback((e=>o(t,e)),[t,o]),s=N.useCallback((e=>i(t,e)),[t,i]),d=N.useCallback((e=>a(t,e)),[t,a]);return j.jsxs("g",{id:t,transform:`translate(${n}, ${l})rotate(45)`,onPointerDown:r,onPointerMove:s,onPointerUp:d,style:{cursor:"move"},className:"removeMe",children:[j.jsx("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"black"}),j.jsx("line",{x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"black"}),j.jsx("circle",{id:`virtual_circle_${t}`,r:5,stroke:"black",fill:"white",fillOpacity:"0"})]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,transform:"rotate(45)",focusable:!1,children:[j.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),j.jsx("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:"currentColor"}),j.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"18",stroke:"currentColor"})]}),defaultAttrs:{},attrsComponent:()=>{},metadata:{displayName:"panel.details.nodes.virtual.displayName",tags:[]}}),$=new Set([i.zh,i.mtr_zh,i.jreast_ja,i.taipei]),U={content:"Enter your text here",fontSize:16,lineHeight:16,textAnchor:"middle",dominantBaseline:"middle",language:i.en,color:[l.Shanghai,"jsr","#000000",o.white],rotate:0,italic:"normal",bold:"normal",outline:0},W={component:e=>{const n=d(),{id:l,x:o,y:i,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:m}=e,{content:u=U.content,fontSize:x=U.fontSize,lineHeight:p=U.lineHeight,textAnchor:g=U.textAnchor,dominantBaseline:f=U.dominantBaseline,language:y=U.language,color:b=U.color,rotate:w=U.rotate,italic:v=U.italic,bold:C=U.bold,outline:P=U.outline}=null!=a?a:U,S=N.useRef(null),[B,k]=N.useState({x:0,y:0,width:32,height:16});N.useEffect((()=>k(S.current.getBBox())),[u,x,p,g,f,y,w,v,C,k,S]),N.useEffect((()=>{n(c(y))}),[y]);const L=N.useCallback((e=>r(l,e)),[l,r]),A=N.useCallback((e=>s(l,e)),[l,s]),T=N.useCallback((e=>m(l,e)),[l,m]);return j.jsxs("g",{id:l,transform:`translate(${o}, ${i})rotate(${w})`,onPointerDown:L,onPointerMove:A,onPointerUp:T,style:{cursor:"move"},children:[j.jsx("rect",{className:"removeMe",fill:"gray",fillOpacity:"0.1",x:B.x-1.5,y:B.y-1.5,width:B.width+3,height:B.height+3}),j.jsx(z,t(t({ref:S,text:u.split("\n"),lineHeight:p,grow:"down",className:P>0?"rmp-name-outline":""},h(y)),{},{strokeWidth:P>0?P:void 0,fontSize:x,textAnchor:g,dominantBaseline:f,fill:b[2],fontStyle:v,fontWeight:C}))]})},icon:j.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:j.jsx("text",{x:"12",y:"12",textAnchor:"middle",dominantBaseline:"middle",fontSize:"10",children:"Text"})}),defaultAttrs:U,attrsComponent:e=>{var t,n,l,o,i,d,c,h,m;const{id:u,attrs:x,handleAttrsUpdate:p}=e,{t:g}=k(),f=[{type:"textarea",label:g("panel.details.nodes.text.content"),value:null!==(t=x.content)&&void 0!==t?t:U.content,onChange:e=>{x.content=e.toString(),p(u,x)},minW:"full"},{type:"input",label:g("panel.details.nodes.text.fontSize"),value:(null!==(n=x.fontSize)&&void 0!==n?n:U.fontSize).toString(),validator:e=>Number.isInteger(e)&&Number(e)>0,onChange:e=>{x.fontSize=Number(e),p(u,x)},minW:"full"},{type:"input",label:g("panel.details.nodes.text.lineHeight"),value:(null!==(l=x.lineHeight)&&void 0!==l?l:U.lineHeight).toString(),validator:e=>Number.isInteger(e)&&Number(e)>0,onChange:e=>{x.lineHeight=Number(e),p(u,x)},minW:"full"},{type:"select",label:g("panel.details.nodes.text.textAnchor"),value:null!==(o=x.textAnchor)&&void 0!==o?o:U.textAnchor,options:{start:g("panel.details.nodes.text.start"),middle:g("panel.details.nodes.text.middle"),end:g("panel.details.nodes.text.end")},onChange:e=>{x.textAnchor=e,p(u,x)},minW:"full"},{type:"select",label:g("panel.details.nodes.text.dominantBaseline"),value:null!==(i=x.dominantBaseline)&&void 0!==i?i:U.dominantBaseline,options:{auto:g("panel.details.nodes.text.auto"),middle:g("panel.details.nodes.text.middle"),hanging:g("panel.details.nodes.text.hanging")},onChange:e=>{x.dominantBaseline=e,p(u,x)},minW:"full"},{type:"select",label:g("panel.details.nodes.text.language"),value:null!==(d=x.language)&&void 0!==d?d:U.language,options:{zh:g("panel.details.nodes.text.zh"),en:g("panel.details.nodes.text.en"),mtr_zh:g("panel.details.nodes.text.mtr_zh"),mtr_en:g("panel.details.nodes.text.mtr_en"),berlin:g("panel.details.nodes.text.berlin"),mrt:g("panel.details.nodes.text.mrt"),jreast_ja:g("panel.details.nodes.text.jreast_ja"),jreast_en:g("panel.details.nodes.text.jreast_en"),tokyo_en:g("panel.details.nodes.text.tokyo_en"),tube:g("panel.details.nodes.text.tube"),taipei:g("panel.details.nodes.text.taipei")},onChange:e=>{x.language=e.toString(),p(u,x)},minW:"full"},{type:"input",label:g("panel.details.nodes.text.rotate"),value:(null!==(c=x.rotate)&&void 0!==c?c:U.rotate).toString(),optionList:["0","45","90","135","180","225","270","315"],debouncedDelay:500,validator:e=>!Number.isNaN(e),onChange:e=>{x.rotate=(Number(e)%360+360)%360,p(u,x)},minW:"full"},{type:"custom",label:"",hidden:!$.has(null!==(h=x.language)&&void 0!==h?h:U.language),component:j.jsxs(w,{status:"warning",children:[j.jsx(v,{}),g("panel.details.nodes.text.fontSynthesisWarning")]}),minW:"full"},{type:"switch",label:g("panel.details.nodes.text.italic"),isChecked:"italic"===x.italic,onChange:e=>{x.italic=e?"italic":"normal",p(u,x)},minW:"full",oneLine:!0},{type:"switch",label:g("panel.details.nodes.text.bold"),isChecked:"bold"===x.bold,onChange:e=>{x.bold=e?"bold":"normal",p(u,x)},minW:"full",oneLine:!0},{type:"input",label:g("panel.details.nodes.text.outline"),value:(null!==(m=x.outline)&&void 0!==m?m:U.outline).toString(),validator:e=>Number.isInteger(e)&&Number(e)>0,onChange:e=>{x.outline=Math.abs(Number(e)),p(u,x)},minW:"full"},{type:"custom",label:g("color"),component:j.jsx(a,{type:r.Text,defaultTheme:U.color})}];return j.jsx(s,{fields:f})},metadata:{displayName:"panel.details.nodes.text.displayName",tags:[]}},D=t({contents:{}},U),_={component:e=>{const{id:t,x:n,y:l,attrs:o,handlePointerDown:i,handlePointerMove:a,handlePointerUp:r}=e,s=m();o.content=s(o.contents);const d=W.component;return j.jsx(d,{id:t,x:n,y:l,handlePointerDown:i,handlePointerMove:a,handlePointerUp:r,attrs:o})},icon:W.icon,defaultAttrs:D,attrsComponent:W.attrsComponent,metadata:{displayName:"panel.details.nodes.i18nText.displayName",tags:[]}},R={randomId:void 0,label:void 0,transform:u,nodeType:"MiscNode",svgs:[],components:[]},E={component:e=>{var n;const{id:l,x:o,y:i,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,c=N.useCallback((e=>r(l,e)),[l,r]),h=N.useCallback((e=>s(l,e)),[l,s]),m=N.useCallback((e=>d(l,e)),[l,d]),x=(e,...t)=>new Function(...t,`return ${e}`),p="MiscNode"===a.nodeType?{onPointerDown:c,onPointerMove:h,onPointerUp:m,style:{cursor:"move"}}:{},g=e=>e.map((e=>{var n,o;const i="Station"===a.nodeType&&a.core&&a.core===e.id?{id:`stn_core_${l}`,onPointerDown:c,onPointerMove:h,onPointerUp:m,style:{cursor:"move"}}:{},r=((e,t,n)=>{const l={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r))try{var o;l[r]=x(e[r].slice(1),...a.components.map((e=>e.label)),"color")(...t.map(((e,t)=>"number"!==n[t]||Number.isNaN(Number(e))?e:Number(e))),a.color?null!==(o=a.color.value)&&void 0!==o?o:a.color.defaultValue:"")}catch(i){l[r]=""}return l})(e.attrs,a.components.map((e=>e.value)),a.components.map((e=>e.type)));return j.jsx("g",{transform:`translate(${null!==(n=r.x)&&void 0!==n?n:0}, ${null!==(o=r.y)&&void 0!==o?o:0})`,children:N.createElement(e.type,t(t({},r),{},{x:0,y:0},i),e.children?g(e.children):"_rmp_children_text"in r?"style"===e.type?(s=r._rmp_children_text,s.replace(/(^|,)\s*([^{},]+)/g,`$1 #${l} $2`)):r._rmp_children_text:null)},e.id);var s})),f=null!==(n=a.transform)&&void 0!==n?n:u,y=N.useMemo((()=>g(a.svgs)),[a]);return N.createElement("g",t({id:l,transform:`translate(${o}, ${i})`},p),a.randomId?j.jsx("g",{transform:`translate(${f.translateX}, ${f.translateY}) scale(${f.scale}) rotate(${f.rotate})`,children:y}):j.jsxs("g",{children:[j.jsx("circle",{r:"5.5"}),j.jsx("g",{transform:"translate(-4.7, -5) scale(0.8)",children:j.jsx("polygon",{points:"6,1 7.5,4.25 11,4.65 8.5,7.1 9.2,10.75 6,9 2.8,10.75 3.5,7.1 1,4.65 4.5,4.25",fill:"white"})})]}))},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),j.jsx("g",{transform:"translate(7.25, 7) scale(0.8)",children:j.jsx("polygon",{points:"6,1 7.5,4.25 11,4.65 8.5,7.1 9.2,10.75 6,9 2.8,10.75 3.5,7.1 1,4.65 4.5,4.25",fill:"currentColor"})})]}),defaultAttrs:R,attrsComponent:e=>{var n,l,i,a,r;const{id:d,attrs:c,handleAttrsUpdate:h}=e,{t:m}=k(),[u,w]=N.useState(!1),[v,z]=N.useState(!1),T=c.components.map(((e,n)=>{const{label:l,type:o,defaultValue:i,value:a}=e;return"number"===o||"text"===o?{label:m(l),type:"input",value:null!=a?a:i,onChange:e=>{c.components[n].value=e,h(d,t(t({},c),{},{components:c.components}))}}:"switch"===o?{label:m(l),type:"switch",isChecked:void 0!==a?!!a:i,onChange:e=>{c.components[n].value=e,h(d,t(t({},c),{},{components:c.components}))}}:"textarea"===o?{label:m(l),type:"textarea",value:null!=a?a:i,onChange:e=>{c.components[n].value=e,h(d,t(t({},c),{},{components:c.components}))}}:{type:"input",label:"undefined",value:"none"}})),{theme:M,requestThemeChange:$}=x({theme:null===(n=c.color)||void 0===n?void 0:n.value,onThemeApplied:e=>{c.color&&(c.color.value=e,h(d,t(t({},c),{},{color:c.color})))}}),U=[{type:"custom",label:m("color"),component:j.jsx(p,{theme:M,onClick:$})}];return j.jsxs(j.Fragment,{children:[j.jsxs(C,{direction:"row",mr:"auto",width:"100%",children:[j.jsx(g,{width:"100%",overflow:"hidden",label:m("panel.details.nodes.master.type"),children:j.jsxs(C,{width:"100%",overflow:"hidden",children:[j.jsx(f,{name:null!==(l=c.label)&&void 0!==l?l:m("panel.details.nodes.master.undefined"),fg:null!==(i=c.labelColorFg)&&void 0!==i?i:o.white,bg:null!==(a=c.labelColorBg)&&void 0!==a?a:"#000000",sx:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis"},mr:1}),j.jsx(f,{name:null!==(r=c.randomId)&&void 0!==r?r:"UNDEFINED",fg:o.white,bg:c.randomId?"#19B3EA":"#000000",sx:{display:"inline-block"},mr:1})]})}),j.jsx(P,{}),j.jsx(S,{icon:j.jsx(y,{}),onClick:()=>w(!0),"aria-label":"upload"})]}),j.jsx(B,{width:"100%",leftIcon:j.jsx(b,{}),onClick:()=>z(!0),children:m("header.settings.procedures.masterManager.title")}),c.randomId&&j.jsx(s,{fields:T,minW:"full"}),c.randomId&&void 0!==c.color&&j.jsx(s,{fields:U,minW:"full"}),j.jsx(L,{isOpen:u,onClose:()=>w(!1),onSubmit:e=>{e.components.forEach(((t,n)=>{var l;e.components[n].value=null!==(l=(e=>{var t;const n=c.components.find((t=>t.id===e));return n?null!==(t=n.value)&&void 0!==t?t:n.defaultValue:void 0})(t.id))&&void 0!==l?l:t.defaultValue})),void 0!==e.color&&(e.color.value=c.color?c.color.value:e.color.defaultValue),h(d,e)}}),j.jsx(A,{isOpen:v,onClose:()=>z(!1)})]})},metadata:{displayName:"panel.details.nodes.master.displayName",tags:[]}},O={num:1,color:[l.Shanghai,"sh1","#E4002B",o.white]},q={component:e=>{const{id:n,x:l,y:o,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=O.num,color:m=O.color}=null!=a?a:O,[u,x]=c>=10?[22.67,10.75]:[21,10],p=N.useCallback((e=>r(n,e)),[n,r]),g=N.useCallback((e=>s(n,e)),[n,s]),f=N.useCallback((e=>d(n,e)),[n,d]);return j.jsxs("g",{id:n,transform:`translate(${l}, ${o})`,onPointerDown:p,onPointerMove:g,onPointerUp:f,style:{cursor:"move"},children:[j.jsx("rect",{fill:m[2],width:u,height:"22.67"}),j.jsx("text",t(t({},h(i.en)),{},{textAnchor:"middle",x:x,y:"19",fill:m[3],fontSize:"21.33",letterSpacing:"-1.75",children:c})),j.jsx("text",t(t({},h(i.zh)),{},{x:u+2,y:"12",fontSize:"14.67",children:"号线"})),j.jsxs("text",t(t({},h(i.en)),{},{x:u+4,y:"21.5",fontSize:"8",children:["Line ",c]}))]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"10",height:"16"}),j.jsx("text",{x:"4",y:"18",fill:"white",children:"1"}),j.jsx("text",{x:"14",y:"10",fontSize:"5",children:"号线"}),j.jsx("text",{x:"14",y:"18",fontSize:"4",children:"Line 1"})]}),defaultAttrs:O,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:o}=e,{t:i}=k(),d=[{type:"input",label:i("panel.details.nodes.common.num"),value:(null!==(t=l.num)&&void 0!==t?t:O.num).toString(),validator:e=>!Number.isNaN(e),onChange:e=>{l.num=Number(e),o(n,l)}},{type:"custom",label:i("color"),component:j.jsx(a,{type:r.ShmetroNumLineBadge,defaultTheme:O.color})}];return j.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.shmetroNumLineBadge.displayName",tags:[]}},I={names:["浦江线","Pujiang Line"],color:[l.Shanghai,"pjl","#B5B5B6",o.white]},F={component:e=>{const{id:n,x:l,y:o,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{names:c=I.names,color:m=I.color}=null!=a?a:I,u=N.useRef(null),[x,p]=N.useState({width:12});N.useEffect((()=>p(u.current.getBBox())),[...c,p,u]);const g=N.useCallback((e=>r(n,e)),[n,r]),f=N.useCallback((e=>s(n,e)),[n,s]),y=N.useCallback((e=>d(n,e)),[n,d]);return j.jsxs("g",{id:n,transform:`translate(${l}, ${o})`,onPointerDown:g,onPointerMove:f,onPointerUp:y,style:{cursor:"move"},children:[j.jsx("rect",{fill:m[2],x:"0",width:x.width+7,height:"21"}),j.jsxs("g",{ref:u,children:[j.jsx("text",t(t({},h(i.zh)),{},{textAnchor:"middle",dominantBaseline:"hanging",x:(x.width+7)/2,y:"3",fontSize:"10",fill:m[3],letterSpacing:"-0.25",children:c[0]})),j.jsx("text",t(t({},h(i.en)),{},{textAnchor:"middle",dominantBaseline:"hanging",x:(x.width+7)/2,y:"14",fontSize:"5",fill:m[3],letterSpacing:"-0.25",children:c[1]}))]})]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),j.jsx("text",{x:"5",y:"11",fontSize:"5",fill:"white",children:"浦江线"}),j.jsx("text",{x:"3",y:"16",fontSize:"4",fill:"white",children:"Pujiang Line"})]}),defaultAttrs:I,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:o}=k(),i=[{type:"input",label:o("panel.details.nodes.common.nameZh"),value:n.names[0],onChange:e=>{n.names[0]=e,l(t,n)},minW:"full"},{type:"input",label:o("panel.details.nodes.common.nameEn"),value:n.names[1],onChange:e=>{n.names[1]=e,l(t,n)},minW:"full"},{type:"custom",label:o("color"),component:j.jsx(a,{type:r.ShmetroTextLineBadge,defaultTheme:I.color})}];return j.jsx(s,{fields:i})},metadata:{displayName:"panel.details.nodes.shmetroTextLineBadge.displayName",tags:[]}},H={names:["1号线","Line 1"],color:[l.Guangzhou,"gz1","#F3D03E",o.black],tram:!1,span:!0},Q={component:e=>{var n,l;const{id:o,x:a,y:r,attrs:s,handlePointerDown:d,handlePointerMove:c,handlePointerUp:m}=e,{names:u=H.names,color:x=H.color,tram:p=H.tram,span:g=H.span}=null!=s?s:H,f=N.useCallback((e=>d(o,e)),[o,d]),y=N.useCallback((e=>c(o,e)),[o,c]),b=N.useCallback((e=>m(o,e)),[o,m]),w=N.useRef(null),[v,C]=N.useState({height:0,width:0});return N.useEffect((()=>{var e,t;return C(null!==(e=null===(t=w.current)||void 0===t?void 0:t.getBBox())&&void 0!==e?e:{height:0,width:0})}),[...u,p]),j.jsxs("g",{id:o,transform:`translate(${a}, ${r-v.height/2})scale(${p?.5:1})`,children:[j.jsx(T,{ref:w,zhName:null!==(n=u.at(0))&&void 0!==n?n:"",enName:null!==(l=u.at(1))&&void 0!==l?l:"",textProps:{digits:t({},h(i.en)),zh:t({},h(i.zh)),en:t({},h(i.en))},foregroundColour:x[3],backgroundColour:x[2],spanDigits:g}),j.jsx("rect",{id:`misc_node_connectable_${o}`,x:-v.width/2,width:v.width,height:"24",fill:"transparent",onPointerDown:f,onPointerMove:y,onPointerUp:b,style:{cursor:"move"}})]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"2",y:"5",width:"20",height:"14",rx:"1"}),j.jsx("text",{x:"6",y:"15",textAnchor:"middle",fontSize:"10",fill:"white",children:"1"}),j.jsx("text",{x:"15",y:"12",textAnchor:"middle",fontSize:"6",fill:"white",children:"号线"}),j.jsx("text",{x:"14.5",y:"17",textAnchor:"middle",fontSize:"4",fill:"white",children:"Line 1"})]}),defaultAttrs:H,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:o}=e,{t:i}=k(),d=[{type:"input",label:i("panel.details.nodes.common.nameZh"),value:l.names[0],onChange:e=>{l.names[0]=e,o(n,l)},minW:"full"},{type:"input",label:i("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:H.names[1],onChange:e=>{l.names[1]=e,o(n,l)},minW:"full"},{type:"switch",label:i("panel.details.nodes.gzmtrLineBadge.tram"),oneLine:!0,isChecked:l.tram,onChange:e=>{l.tram=e,o(n,l)},minW:"full"},{type:"switch",label:i("panel.details.nodes.gzmtrLineBadge.span"),oneLine:!0,isChecked:l.span,onChange:e=>{l.span=e,o(n,l)},minW:"full"},{type:"custom",label:i("color"),component:j.jsx(a,{type:r.GzmtrLineBadge,defaultTheme:H.color})}];return j.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.gzmtrLineBadge.displayName",tags:[]}},V=11.84375,Z={num:1,color:[l.Beijing,"bj1","#c23a30",o.white]},G={component:e=>{const{id:n,x:l,y:a,attrs:r,handlePointerDown:s,handlePointerMove:d,handlePointerUp:c}=e,{num:m=Z.num,color:u=Z.color}=null!=r?r:Z,x=N.useCallback((e=>s(n,e)),[n,s]),p=N.useCallback((e=>d(n,e)),[n,d]),g=N.useCallback((e=>c(n,e)),[n,c]),f=u[3]===o.black?"#003670":o.white;return j.jsxs("g",{id:n,transform:`translate(${l}, ${a})`,onPointerDown:x,onPointerMove:p,onPointerUp:g,style:{cursor:"move"},children:[j.jsx("rect",{fill:u[2],x:"0",width:32.84375,height:"16",rx:"2"}),j.jsx("text",t(t({},h(i.en)),{},{textAnchor:"middle",x:7.921875,y:"13.5",fill:f,fontSize:"15",letterSpacing:"-1.5",children:m})),j.jsx("text",t(t({x:V+(m>9?5.5:3),y:"8.5",fontSize:"7",fill:f},h(i.zh)),{},{children:"号线"})),j.jsxs("text",t(t({},h(i.en)),{},{x:V+(m>9?6:4.5),y:"13.5",fontSize:"4",fill:f,children:["Line ",m]}))]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),j.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),j.jsx("text",{x:"11",y:"11",fill:"white",fontSize:"5",children:"号线"}),j.jsx("text",{x:"11",y:"17",fill:"white",fontSize:"4",children:"Line 1"})]}),defaultAttrs:Z,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:o}=e,{t:i}=k(),d=[{type:"input",label:i("panel.details.nodes.common.num"),value:(null!==(t=l.num)&&void 0!==t?t:Z.num).toString(),validator:e=>!Number.isNaN(e),onChange:e=>{l.num=Number(e),o(n,l)}},{type:"custom",label:i("color"),component:j.jsx(a,{type:r.BjsubwayNumLineBadge,defaultTheme:Z.color})}];return j.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.bjsubwayNumLineBadge.displayName",tags:[]}},K={names:["八通线","Batong Line"],color:[l.Beijing,"bj1","#c23a30",o.white]},Y={component:e=>{const{id:n,x:l,y:a,attrs:r,handlePointerDown:s,handlePointerMove:d,handlePointerUp:c}=e,{names:m=K.names,color:u=K.color}=null!=r?r:K,x=N.useRef(null),[p,g]=N.useState({width:12});N.useEffect((()=>g(x.current.getBBox())),[...m,g,x]);const f=N.useCallback((e=>s(n,e)),[n,s]),y=N.useCallback((e=>d(n,e)),[n,d]),b=N.useCallback((e=>c(n,e)),[n,c]),w=Math.max(28.84375,p.width),v=u[3]===o.black?"#003670":o.white;return j.jsxs("g",{id:n,transform:`translate(${l}, ${a})`,onPointerDown:f,onPointerMove:y,onPointerUp:b,style:{cursor:"move"},children:[j.jsx("rect",{fill:u[2],x:"0",width:w+4,height:"16",rx:"2"}),j.jsxs("g",{ref:x,children:[j.jsx("text",t(t({},h(i.zh)),{},{textAnchor:"middle",x:(w+4)/2,y:"8",fontSize:"7",fill:v,children:m[0]})),j.jsx("text",t(t({},h(i.en)),{},{textAnchor:"middle",x:(w+4)/2,y:"13.5",fontSize:"4",fill:v,children:m[1]}))]})]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12",rx:"2"}),j.jsx("text",{x:"3",y:"12",fontSize:"6",fill:"white",children:"八通线"}),j.jsx("text",{x:"3",y:"16",fontSize:"3.2",fill:"white",children:"Batong Line"})]}),defaultAttrs:K,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:o}=e,{t:i}=k(),d=[{type:"input",label:i("panel.details.nodes.common.nameZh"),value:l.names[0],onChange:e=>{l.names[0]=e,o(n,l)},minW:"full"},{type:"input",label:i("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:K.names[1],onChange:e=>{l.names[1]=e,o(n,l)},minW:"full"},{type:"custom",label:i("color"),component:j.jsx(a,{type:r.BjsubwayTextLineBadge,defaultTheme:K.color}),minW:"full"}];return j.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.bjsubwayTextLineBadge.displayName",tags:[]}},J={num:1,branch:!1,color:[l.Suzhou,"sz1","#78BA25",o.white]},X={component:e=>{const{id:n,x:l,y:o,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=J.num,branch:m=J.branch,color:u=J.color}=null!=a?a:J,x=N.useCallback((e=>r(n,e)),[n,r]),p=N.useCallback((e=>s(n,e)),[n,s]),g=N.useCallback((e=>d(n,e)),[n,d]);return j.jsxs("g",{id:n,transform:`translate(${l}, ${o})`,onPointerDown:x,onPointerMove:p,onPointerUp:g,style:{cursor:"move"},children:[j.jsx("rect",{fill:u[2],width:"20",height:"20",rx:"2",ry:"2"}),j.jsx("text",t(t({},h(i.zh)),{},{textAnchor:"middle",dominantBaseline:"middle",x:"10",y:"11.4",fill:u[3],fontSize:"15",letterSpacing:"-1",children:c})),m&&j.jsxs(j.Fragment,{children:[j.jsx("text",t(t({},h(i.zh)),{},{x:22.5,y:"10",fontSize:"10",children:"支线"})),j.jsx("text",t(t({},h(i.en)),{},{x:22.5,y:"18",fontSize:"5",fill:"gray",children:"Branch line"}))]})]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"4",y:"4",width:"16",height:"16",rx:"3",ry:"3"}),j.jsx("text",{x:"12",y:"13.4",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:J,attrsComponent:e=>{var t,n;const{id:l,attrs:o,handleAttrsUpdate:i}=e,{t:d}=k(),c=[{type:"input",label:d("panel.details.nodes.common.num"),value:(null!==(t=o.num)&&void 0!==t?t:J.num).toString(),validator:e=>!Number.isNaN(e),onChange:e=>{o.num=Number(e),i(l,o)}},{type:"switch",label:d("panel.details.nodes.suzhouRTNumLineBadge.branch"),isChecked:null!==(n=null==o?void 0:o.branch)&&void 0!==n?n:J.branch,onChange:e=>{o.branch=e,i(l,o)}},{type:"custom",label:d("color"),component:j.jsx(a,{type:r.SuzhouRTNumLineBadge,defaultTheme:J.color})}];return j.jsx(s,{fields:c})},metadata:{displayName:"panel.details.nodes.suzhouRTNumLineBadge.displayName",tags:[]}},ee={num:1,color:[l.Berlin,"bu1","#62AD2D",o.white]},te={component:e=>{const{id:n,x:l,y:o,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=ee.num,color:m=ee.color}=null!=a?a:ee,u=N.useCallback((e=>r(n,e)),[n,r]),x=N.useCallback((e=>s(n,e)),[n,s]),p=N.useCallback((e=>d(n,e)),[n,d]),g=m[3];return j.jsxs("g",{id:n,transform:`translate(${l}, ${o})`,onPointerDown:u,onPointerMove:x,onPointerUp:p,style:{cursor:"move"},children:[j.jsx("rect",{fill:m[2],x:"0",width:"25",height:"15"}),j.jsxs("text",t(t({},h(i.berlin)),{},{textAnchor:"middle",x:"12.5",y:"12.5",fill:g,fontSize:"14",letterSpacing:"1",children:["U",c]}))]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16"}),j.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"U1"})]}),defaultAttrs:ee,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:o}=e,{t:i}=k(),d=[{type:"input",label:i("panel.details.nodes.common.num"),value:(null!==(t=l.num)&&void 0!==t?t:ee.num).toString(),validator:e=>!Number.isNaN(e),onChange:e=>{l.num=Number(e),o(n,l)}},{type:"custom",label:i("color"),component:j.jsx(a,{type:r.BerlinUBahnLineBadge,defaultTheme:ee.color})}];return j.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.berlinUBahnLineBadge.displayName",tags:[]}},ne={num:1,color:[l.Berlin,"bs1","#DD6CA6",o.white]},le={component:e=>{const{id:n,x:l,y:o,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=ne.num,color:m=ne.color}=null!=a?a:ne,[u,x]=c>=10?[6,19.75]:[10,20],p=N.useCallback((e=>r(n,e)),[n,r]),g=N.useCallback((e=>s(n,e)),[n,s]),f=N.useCallback((e=>d(n,e)),[n,d]),y=m[3];return j.jsxs("g",{id:n,transform:`translate(${l}, ${o})`,onPointerDown:p,onPointerMove:g,onPointerUp:f,style:{cursor:"move"},children:[j.jsx("rect",{fill:m[2],x:"0",width:"30",height:"15",rx:"8"}),j.jsx("text",t(t({},h(i.berlin)),{},{textAnchor:"middle",x:u,y:"12.5",fill:y,fontSize:"14",letterSpacing:"0",children:"S"})),j.jsx("text",t(t({},h(i.berlin)),{},{textAnchor:"middle",x:x,y:"12.5",fill:y,fontSize:"14",letterSpacing:"-0.2",children:c}))]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"8"}),j.jsx("text",{x:"4.5",y:"16.5",fill:"white",fontSize:"14",children:"S1"})]}),defaultAttrs:ne,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:o}=e,{t:i}=k(),d=[{type:"input",label:i("panel.details.nodes.common.num"),value:(null!==(t=l.num)&&void 0!==t?t:ne.num).toString(),validator:e=>!Number.isNaN(e),onChange:e=>{l.num=Number(e),o(n,l)}},{type:"custom",label:i("color"),component:j.jsx(a,{type:r.BerlinSBahnLineBadge,defaultTheme:ne.color})}];return j.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.berlinSBahnLineBadge.displayName",tags:[]}},oe={num:1,color:[l.Chongqing,"cq1","#e4002b",o.white]},ie={component:e=>{const{id:n,x:l,y:o,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=oe.num,color:m=oe.color}=null!=a?a:oe,u=N.useCallback((e=>r(n,e)),[n,r]),x=N.useCallback((e=>s(n,e)),[n,s]),p=N.useCallback((e=>d(n,e)),[n,d]),g=m[3],f=Number.isInteger(c)?16:15,y=Number.isInteger(c)&&Number(c)>=10?-1.2:0;return j.jsxs("g",{id:n,transform:`translate(${l}, ${o})`,onPointerDown:u,onPointerMove:x,onPointerUp:p,style:{cursor:"move"},children:[j.jsx("rect",{fill:m[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),j.jsx("text",t(t({},h(i.zh)),{},{textAnchor:"middle",x:"10",y:"10",fill:g,fontSize:f,letterSpacing:y,dominantBaseline:"central",children:c}))]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),j.jsx("text",{x:"8",y:"18",fill:"white",fontSize:"18",children:"1"})]}),defaultAttrs:oe,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:o}=e,{t:i}=k(),d=[{type:"input",label:i("panel.details.nodes.common.num"),value:(null!==(t=l.num)&&void 0!==t?t:oe.num).toString(),onChange:e=>{l.num=e,o(n,l)}},{type:"custom",label:i("color"),component:j.jsx(a,{type:r.ChongqingRTNumLineBadge,defaultTheme:oe.color})}];return j.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.chongqingRTNumLineBadge.displayName",tags:[]}},ae={names:["空港线","Konggang Line"],color:[l.Chongqing,"cq3","#003da5",o.white]},re={component:e=>{const{id:n,x:l,y:o,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{names:c=ae.names,color:m=ae.color}=null!=a?a:ae,u=N.useRef(null),x=N.useCallback((e=>r(n,e)),[n,r]),p=N.useCallback((e=>s(n,e)),[n,s]),g=N.useCallback((e=>d(n,e)),[n,d]),f=m[3];return j.jsxs("g",{id:n,transform:`translate(${l}, ${o})`,onPointerDown:x,onPointerMove:p,onPointerUp:g,style:{cursor:"move"},children:[j.jsx("rect",{fill:m[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),j.jsx("text",t(t({},h(i.zh)),{},{textAnchor:"middle",x:"10",y:"10.5",fill:f,fontSize:"6",letterSpacing:"0",children:c[0]})),j.jsx(z,t(t({ref:u,text:c[1].split("\n")},h(i.en)),{},{textAnchor:"middle",x:"10",y:"9.25",fill:f,fontSize:"2.5",letterSpacing:"0",lineHeight:2.25,grow:"down"}))]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),j.jsx("text",{x:"4.5",y:"12.5",fill:"white",fontSize:"5",children:"空港线"}),j.jsx("text",{x:"4.5",y:"15",fill:"white",fontSize:"2",children:"Konggang Line"})]}),defaultAttrs:ae,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:o}=e,{t:i}=k(),d=[{type:"input",label:i("panel.details.nodes.common.nameZh"),value:l.names[0],onChange:e=>{l.names[0]=e,o(n,l)},minW:"full"},{type:"input",label:i("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:ae.names[1],onChange:e=>{l.names[1]=e,o(n,l)},minW:"full"},{type:"custom",label:i("color"),component:j.jsx(a,{type:r.ChongqingRTTextLineBadge,defaultTheme:ae.color})}];return j.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.chongqingRTTextLineBadge.displayName",tags:[]}},se={num:1,color:[l.Chongqing,"cq1","#e4002b",o.white]},de={component:e=>{const{id:n,x:l,y:o,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=se.num,color:m=se.color}=null!=a?a:se,u=N.useCallback((e=>r(n,e)),[n,r]),x=N.useCallback((e=>s(n,e)),[n,s]),p=N.useCallback((e=>d(n,e)),[n,d]),g=m[3],f=Number.isInteger(c)?Number(c)>=10?15:16:15,y=Number.isInteger(c)&&Number(c)>=10?-1:0,b=Number.isInteger(c)&&Number(c)>=10?9.5:10.5;return j.jsx("g",{transform:`translate(${l}, ${o})`,children:j.jsxs("g",{transform:"translate(-10.5, -10.5)",children:[j.jsx("rect",{fill:m[2],x:"0",width:"21",height:"21",rx:"3",ry:"3"}),j.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:"18",height:"18",rx:"2",ry:"2"}),j.jsx("text",t(t({},h(i.zh)),{},{textAnchor:"middle",x:b,y:"10.5",fill:g,fontSize:f,letterSpacing:y,dominantBaseline:"central",children:c})),j.jsx("rect",{id:`misc_node_connectable_${n}`,onPointerDown:u,onPointerMove:x,onPointerUp:p,style:{cursor:"move",zIndex:1e3},x:0,y:0,width:21,height:21,fill:"white",opacity:0,stroke:"none"})]})})},icon:j.jsxs("svg",{viewBox:"0 0 21 21",height:40,width:40,focusable:!1,style:{padding:3},children:[j.jsx("rect",{fill:"currentColor",x:"0",width:"21",height:"21",rx:"3",ry:"3"}),j.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:"18",height:"18",rx:"2",ry:"2"}),j.jsx("text",{textAnchor:"left",x:"7.5",y:"9.5",fill:"white",fontSize:"15",dominantBaseline:"central",children:"1"})]}),defaultAttrs:se,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:o}=k(),i=[{type:"input",label:o("panel.details.nodes.common.num"),value:(null!=n?n:se).num,validator:e=>!Number.isNaN(e),onChange:e=>{Number.isNaN(Number(e))?n.num=e:n.num=Number(e),l(t,n)},minW:"full"},{type:"custom",label:o("color"),component:j.jsx(a,{type:r.ChongqingRTNumLineBadge2021,defaultTheme:se.color}),minW:"full"}];return j.jsx(s,{fields:i})},metadata:{displayName:"panel.details.nodes.chongqingRTNumLineBadge2021.displayName",tags:[]}},ce={names:["空港线","Konggang Line"],color:[l.Chongqing,"cq3","#003da5",o.white],isRapid:!1},he={component:e=>{const{id:n,x:l,y:o,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{names:c=ce.names,color:m=ce.color,isRapid:u=ce.isRapid}=null!=a?a:ce,x=N.useRef(null),p=N.useCallback((e=>r(n,e)),[n,r]),g=N.useCallback((e=>s(n,e)),[n,s]),f=N.useCallback((e=>d(n,e)),[n,d]),y=m[3],b=u?42:21,w=21;return j.jsx("g",{transform:`translate(${l}, ${o})`,children:j.jsxs("g",{transform:`translate(${-b/2}, -10.5)`,children:[j.jsx("rect",{fill:m[2],x:"0",width:b,height:w,rx:"3",ry:"3"}),j.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:b-3,height:18,rx:"2",ry:"2"}),j.jsx("text",t(t({},h(i.zh)),{},{textAnchor:"middle",x:b/2,y:11,fill:y,fontSize:u?8:5,letterSpacing:"0",children:c[0]})),j.jsx(z,t(t({ref:x,text:c[1].split("\n")},h(i.en)),{},{textAnchor:"middle",x:b/2,y:10.5-.75*Number(!u),fill:y,fontSize:u?4:2.2,letterSpacing:"0",lineHeight:2.25,grow:"down"})),j.jsx("rect",{id:`misc_node_connectable_${n}`,onPointerDown:p,onPointerMove:g,onPointerUp:f,style:{cursor:"move",zIndex:1e3},x:0,y:0,width:b,height:w,fill:"white",opacity:0,stroke:"none"})]})})},icon:j.jsxs("svg",{viewBox:"0 0 21 21",height:40,width:40,focusable:!1,style:{padding:3},children:[j.jsx("rect",{fill:"currentColor",x:"0",width:"21",height:"21",rx:"3",ry:"3"}),j.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:"18",height:"18",rx:"2",ry:"2"}),j.jsx("text",t(t({},h(i.zh)),{},{textAnchor:"middle",x:"10.5",y:"11",fill:"white",fontSize:"5",letterSpacing:"0",children:"空港线"})),j.jsx("text",t(t({},h(i.en)),{},{textAnchor:"middle",x:"10.5",y:"13.75",fill:"white",fontSize:"2",letterSpacing:"0",children:"Konggang Line"}))]}),defaultAttrs:ce,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:o}=e,{t:i}=k(),d=[{type:"input",label:i("panel.details.nodes.common.nameZh"),value:l.names[0],onChange:e=>{l.names[0]=e.toString(),o(n,l)},minW:"full"},{type:"textarea",label:i("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:ce.names[1],onChange:e=>{l.names[1]=e.toString(),o(n,l)},minW:"full"},{type:"custom",label:i("color"),component:j.jsx(a,{type:r.ChongqingRTTextLineBadge2021,defaultTheme:ce.color}),minW:"full"},{type:"switch",label:i("panel.details.nodes.chongqingRTTextLineBadge2021.isRapid"),isChecked:(null!=l?l:ce).isRapid,onChange:e=>{l.isRapid=e,o(n,l)},oneLine:!0,minW:"full"}];return j.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.chongqingRTTextLineBadge2021.displayName",tags:[]}},me=11.84375,ue={num:1,color:[l.Shenzhen,"sz1","#00b140",o.white],isBranch:!1},xe={component:e=>{const{id:n,x:l,y:o,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=ue.num,color:m=ue.color,isBranch:u=ue.isBranch}=null!=a?a:ue,x=N.useCallback((e=>r(n,e)),[n,r]),p=N.useCallback((e=>s(n,e)),[n,s]),g=N.useCallback((e=>d(n,e)),[n,d]),f=m[3],y=u?10:me+(c>9?6.5:3),b=u?-1:0,w=u?11:me+(c>9?7:3.5),v=u?6:9.921875;return j.jsxs("g",{id:n,transform:`translate(${l}, ${o})`,onPointerDown:x,onPointerMove:p,onPointerUp:g,style:{cursor:"move"},children:[j.jsx("rect",{fill:m[2],x:"0",width:32.84375,height:"16",rx:"2"}),j.jsx("text",t(t({},h(i.en)),{},{textAnchor:"middle",x:v,y:"13.5",fill:f,fontSize:"15",letterSpacing:"-1",children:c})),j.jsxs("text",t(t({},h(i.zh)),{},{x:y,y:"9.5",fontSize:"6",fill:f,letterSpacing:b,children:["号线",u?"支线":""]})),j.jsxs("text",t(t({},h(i.en)),{},{x:w,y:"13.5",fontSize:"3",fill:f,children:[u?"Branch":""," Line ",c]}))]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),j.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),j.jsx("text",{x:"11",y:"14",fill:"white",fontSize:"5",children:"号线"}),j.jsx("text",{x:"12",y:"17",fill:"white",fontSize:"3",children:"Line 1"})]}),defaultAttrs:ue,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:o}=k(),i=[{type:"input",label:o("panel.details.nodes.common.num"),value:String(n.num),validator:e=>!Number.isNaN(e),onChange:e=>{n.num=Number(e),l(t,n)},minW:"full"},{type:"custom",label:o("color"),component:j.jsx(a,{type:r.ShenzhenMetroNumLineBadge,defaultTheme:ue.color}),minW:"full"},{type:"switch",label:o("panel.details.nodes.shenzhenMetroNumLineBadge.branch"),oneLine:!0,isChecked:n.isBranch,onChange:e=>{n.isBranch=e,l(t,n)},minW:"full"}];return j.jsx(s,{fields:i})},metadata:{displayName:"panel.details.nodes.shenzhenMetroNumLineBadge.displayName",tags:[]}},pe={num:1,color:[l.Singapore,"ewl","#009739",o.white]},ge={component:e=>{const{id:n,x:l,y:o,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=pe.num,color:m=pe.color}=null!=a?a:pe,u=N.useCallback((e=>r(n,e)),[n,r]),x=N.useCallback((e=>s(n,e)),[n,s]),p=N.useCallback((e=>d(n,e)),[n,d]),g=m[3],f=m[2];return j.jsxs("g",{id:n,transform:`translate(${l}, ${o})`,onPointerDown:u,onPointerMove:x,onPointerUp:p,style:{cursor:"move"},children:[j.jsx("circle",{r:"8",fill:f}),j.jsx("text",t(t({},h(i.mrt)),{},{textAnchor:"middle",x:"0",y:"0",width:"12",height:"12",fill:g,fontSize:"12",dominantBaseline:"central",letterSpacing:"-0.2",children:c}))]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),j.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:pe,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:o}=k(),i=[{type:"input",label:o("panel.details.nodes.common.num"),value:String(n.num),validator:e=>!Number.isNaN(e),onChange:e=>{n.num=Number(e),l(t,n)},minW:"full"},{type:"custom",label:o("color"),component:j.jsx(a,{type:r.MRTDestinationNumbers,defaultTheme:pe.color}),minW:"full"}];return j.jsx(s,{fields:i})},metadata:{displayName:"panel.details.nodes.mrtDestinationNumbers.displayName",tags:[]}},fe={lineCode:"EWL",name:"East-West Line",lines:"1, 2, 3, airport",isTram:!1,color:[l.Singapore,"ewl","#009739",o.white]},ye={component:e=>{const{id:n,x:l,y:o,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{lineCode:c=fe.lineCode,color:m=fe.color,lines:u=fe.lines,name:x=fe.name,isTram:p=fe.isTram}=null!=a?a:fe,g=N.useCallback((e=>r(n,e)),[n,r]),f=N.useCallback((e=>s(n,e)),[n,s]),y=N.useCallback((e=>d(n,e)),[n,d]),b=12.935,w=m[3],v=m[2];return j.jsxs("g",{id:n,transform:`translate(${l}, ${o})`,onPointerDown:g,onPointerMove:f,onPointerUp:y,style:{cursor:"move"},children:[j.jsx("rect",{transform:"scale(1.8)",x:-11.425,y:-6.4675,rx:"3",ry:"6",width:22.85,height:b,fill:v,stroke:"white",strokeWidth:"1"}),j.jsx("text",t(t({},h(i.mrt)),{},{textAnchor:"middle",fill:w,fontSize:"15",dominantBaseline:"central",letterSpacing:"-0.2",children:c})),j.jsx("text",t(t({},h(i.mrt)),{},{textAnchor:"left",x:"28",y:p?3.5:-3,fill:"black",fontSize:"10",letterSpacing:"-0.2",children:x})),!p&&u.split(",").map(((e,n)=>j.jsx("g",{transform:`translate(${34+14*n}, 4.5)`,children:"airport"!==e.trim()?j.jsxs(j.Fragment,{children:[j.jsx("circle",{r:"6",fill:v}),j.jsx("text",t(t({},h(i.mrt)),{},{textAnchor:"middle",fill:w,fontSize:"9",dominantBaseline:"central",letterSpacing:"-0.2",children:e}))]}):j.jsxs("g",{transform:"translate(-6, -6) scale(4.5)",children:[j.jsx("path",{d:"M2.467 0H.226A.226.226 0 0 0 0 .226v2.241a.225.225 0 0 0 .226.225h2.241a.225.225 0 0 0 .225-.225V.226A.226.226 0 0 0 2.467 0",style:{fill:"#2d2a26"}}),j.jsx("path",{d:"M1.5.746v.3l.73.642a.08.08 0 0 1 .022.05v.12c0 .017-.012.025-.027.018L1.5 1.529l-.06.541.2.113a.03.03 0 0 1 .013.023V2.3a.01.01 0 0 1-.014.011l-.293-.091-.286.087a.01.01 0 0 1-.014-.007v-.09a.03.03 0 0 1 .013-.023l.2-.113-.059-.545-.724.348a.018.018 0 0 1-.028-.018v-.12a.07.07 0 0 1 .023-.05l.73-.642v-.3c0-.482.3-.482.3 0",style:{fill:"#fff",fillRule:"evenodd"}})]})},n)))]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),j.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:fe,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:o}=k(),i=[{type:"input",label:o("panel.details.nodes.common.nameEn"),value:n.name,onChange:e=>{n.name=e,l(t,n)},minW:"full"},{type:"input",label:o("panel.details.stations.common.lineCode"),value:n.lineCode,onChange:e=>{n.lineCode=e,l(t,n)},minW:"full"},{type:"switch",label:o("panel.details.nodes.mrtLineBadge.isTram"),isChecked:n.isTram,onChange:e=>{n.isTram=e,l(t,n)},minW:"full",oneLine:!0},...n.isTram?[]:[{type:"input",label:o("panel.details.nodes.common.num"),value:n.lines,onChange:e=>{n.lines=e,l(t,n)},minW:"full"}],{type:"custom",label:o("color"),component:j.jsx(a,{type:r.MRTLineBadge,defaultTheme:fe.color}),minW:"full"}];return j.jsx(s,{fields:i})},metadata:{displayName:"panel.details.nodes.mrtLineBadge.displayName",tags:[]}},be=5*Math.SQRT1_2,je=.25,we=(be*Math.SQRT2-je)/2*Math.SQRT2,ve={names:["山手線","Yamanote Line"],color:[l.Tokyo,"jy","#9ACD32",o.black],num:9,crosshatchPatternFill:!1},Ce={component:e=>{const{id:n,x:l,y:o,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{names:c=ve.names,num:m=ve.num,color:u=ve.color,crosshatchPatternFill:x=ve.crosshatchPatternFill}=null!=a?a:ve,p=N.useRef(null),[g,f]=N.useState({height:10,width:12});N.useEffect((()=>f(p.current.getBBox())),[...c,f,p]);const y=N.useCallback((e=>r(n,e)),[n,r]),b=N.useCallback((e=>s(n,e)),[n,s]),w=N.useCallback((e=>d(n,e)),[n,d]);return j.jsxs("g",{id:n,transform:`translate(${l}, ${o})`,onPointerDown:y,onPointerMove:b,onPointerUp:w,style:{cursor:"move"},children:[j.jsxs("defs",{children:[j.jsxs("clipPath",{id:"jr_east_fill_pattern_clip_path",patternUnits:"userSpaceOnUse",children:[j.jsx("polygon",{points:`0,0 0,${we} ${we},0`}),j.jsx("polygon",{points:`${be},${be} ${be-we},${be} ${be},${be-we}`})]}),j.jsxs("pattern",{id:`jr_east_${n}_fill_pattern_${u[2]}`,width:be,height:be,patternUnits:"userSpaceOnUse",children:[j.jsx("rect",{width:be,height:be,fill:u[2]}),j.jsx("line",{x1:"0",y1:"0",x2:be,y2:be,stroke:"white",strokeWidth:je,strokeOpacity:"33%",clipPath:"url(#jr_east_fill_pattern_clip_path)"}),j.jsx("line",{x1:be,y1:"0",x2:"0",y2:be,stroke:"white",strokeWidth:je,strokeOpacity:"33%"})]})]}),j.jsx("rect",{fill:x?`url(#jr_east_${n}_fill_pattern_${u[2]})`:u[2],x:"0",y:"-1",width:g.width+4+10,height:g.height+1,rx:"1",stroke:"black",strokeWidth:"0.25"}),j.jsx("circle",{r:4,cx:7,cy:6,stroke:"black",strokeWidth:"0.25",fill:u[3]}),j.jsx("text",t(t({x:7,y:6.75,textAnchor:"middle",dominantBaseline:"middle",fill:"#000"===u[3]?"white":u[2],fontSize:m>9?7:8},h(i.jreast_en)),{},{children:m})),j.jsx(z,t({ref:p,text:c[0].split("\n"),x:12,y:"-1",fill:u[3],fontSize:10,lineHeight:10,grow:"down"},h(i.jreast_ja))),j.jsx(z,t({text:c[1].split("\n"),textAnchor:"middle",dominantBaseline:"hanging",x:(g.width+4+10)/2,y:g.height+1,fontSize:5,lineHeight:5,baseOffset:0,grow:"down"},h(i.jreast_en)))]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"1",y:"6",width:"22",height:"7"}),j.jsx("circle",{cx:"3.5",cy:"9.25",r:"2",fill:"white"}),j.jsx("text",{x:"3",y:"10.5",fontSize:"3",children:"9"}),j.jsx("text",{x:"6",y:"11.25",fontSize:"5",fill:"white",children:"山手線"}),j.jsx("text",{x:"1.5",y:"16",fontSize:"3",children:"Yamanote Line"})]}),defaultAttrs:ve,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:o}=e,{t:i}=k(),d=[{type:"input",label:i("panel.details.nodes.common.num"),value:String(l.num),validator:e=>!Number.isNaN(e),onChange:e=>{l.num=Number(e),o(n,l)},minW:"full"},{type:"textarea",label:i("panel.details.nodes.common.nameJa"),value:l.names[0],onChange:e=>{l.names[0]=e,o(n,l)},minW:"full"},{type:"textarea",label:i("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:ve.names[1],onChange:e=>{l.names[1]=e,o(n,l)},minW:"full"},{type:"switch",label:i("panel.details.nodes.jrEastLineBadge.crosshatchPatternFill"),oneLine:!0,isChecked:l.crosshatchPatternFill,onChange:e=>{l.crosshatchPatternFill=e,o(n,l)},minW:"full"},{type:"custom",label:i("color"),component:j.jsx(a,{type:r.JREastLineBadge,defaultTheme:ve.color})}];return j.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.jrEastLineBadge.displayName",tags:[]}},Pe={num:1,numEn:"1",showText:!0,color:[l.Qingdao,"qd1","#f7b000",o.white]},Se={component:e=>{const{id:n,x:l,y:o,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{num:c=Pe.num,numEn:m=Pe.numEn,color:u=Pe.color,showText:x=Pe.showText}=null!=a?a:Pe,p=N.useCallback((e=>r(n,e)),[n,r]),g=N.useCallback((e=>s(n,e)),[n,s]),f=N.useCallback((e=>d(n,e)),[n,d]),y=u[3],[b,w,v,C]=Number(c)>=10?[-2.4,0,10.25,20]:[0,4,10,22];return j.jsxs("g",{id:n,transform:`translate(${l}, ${o})`,onPointerDown:p,onPointerMove:g,onPointerUp:f,style:{cursor:"move"},children:[j.jsx("rect",{fill:u[2],x:"0",width:"20",height:"20",rx:"2",ry:"2"}),j.jsx("text",t(t({},h(i.en)),{},{textAnchor:"left",x:w,y:v,fill:y,fontSize:C,fontWeight:"bold",letterSpacing:b,dominantBaseline:"central",children:c})),x&&j.jsxs(j.Fragment,{children:[j.jsx("text",t(t({},h(i.zh)),{},{x:"22",y:"10.5",fontSize:"13",children:"号线"})),j.jsxs("text",t(t({},h(i.en)),{},{x:"22.5",y:"19.5",fontSize:"8",children:["Line ",m]}))]})]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"2",y:"6",rx:"1",ry:"1",width:"10",height:"10"}),j.jsx("text",{x:"4",y:"15",fill:"white",fontSize:"12",children:"1"}),j.jsx("text",{x:"12",y:"11.5",fill:"black",fontSize:"6",children:"号线"}),j.jsx("text",{x:"12",y:"15.5",fill:"black",fontSize:"4",children:"Line1"})]}),defaultAttrs:Pe,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:o}=k(),i=[{type:"input",label:o("panel.details.nodes.common.num"),value:n.num.toString(),onChange:e=>{n.num=Number(e),n.numEn=e,l(t,n)}},{type:"input",label:o("panel.details.nodes.qingdaoMetroNumLineBadge.numEn"),value:n.numEn.toString(),onChange:e=>{n.numEn=e,l(t,n)}},{type:"switch",label:o("panel.details.nodes.qingdaoMetroNumLineBadge.showText"),isChecked:n.showText,oneLine:!0,onChange:e=>{n.showText=e,l(t,n)}},{type:"custom",label:o("color"),component:j.jsx(a,{type:r.QingdaoMetroNumLineBadge,defaultTheme:Pe.color})}];return j.jsx(s,{fields:i,minW:"full"})},metadata:{displayName:"panel.details.nodes.qingdaoMetroNumLineBadge.displayName",tags:[]}},Be={names:["广清城际","Guangzhou-Qingyuan Intercity"],color:[l.Guangzhou,"ir","#2559a8",o.white]},Ne={component:e=>{const{id:n,x:l,y:o,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{names:c=Be.names,color:m=Be.color}=null!=a?a:Be,u=N.useRef(null),[x,p]=N.useState({width:12});N.useEffect((()=>p(u.current.getBBox())),[...c,p,u]);const g=N.useCallback((e=>r(n,e)),[n,r]),f=N.useCallback((e=>s(n,e)),[n,s]),y=N.useCallback((e=>d(n,e)),[n,d]);return j.jsxs("g",{id:n,transform:`translate(${l}, ${o})`,onPointerDown:g,onPointerMove:f,onPointerUp:y,style:{cursor:"move"},children:[j.jsx("rect",{rx:"2",ry:"2",fill:m[2],x:"0",width:x.width+7,height:"21"}),j.jsxs("g",{ref:u,children:[j.jsx("text",t(t({},h(i.zh)),{},{textAnchor:"middle",dominantBaseline:"hanging",x:(x.width+7)/2,y:"3",fontSize:"8.63",fill:m[3],children:c[0]})),j.jsx("text",t(t({},h(i.en)),{},{textAnchor:"middle",dominantBaseline:"hanging",x:(x.width+7)/2,y:"14",fontSize:"3.54",fill:m[3],children:c[1]}))]})]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),j.jsx("text",{x:"4.5",y:"11",fontSize:"4",fill:"white",children:"广清城际"}),j.jsx("text",{x:"3",y:"16",fontSize:"2",fill:"white",children:"Guangzhou-Qingyuan Intercity"})]}),defaultAttrs:Be,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:o}=e,{t:i}=k(),a=[{type:"input",label:i("panel.details.nodes.common.nameZh"),value:l.names[0],onChange:e=>{l.names[0]=e,o(n,l)},minW:"full"},{type:"input",label:i("panel.details.nodes.common.nameEn"),value:null!==(t=l.names.at(1))&&void 0!==t?t:Be.names[1],onChange:e=>{l.names[1]=e,o(n,l)},minW:"full"}];return j.jsx(s,{fields:a})},metadata:{displayName:"panel.details.nodes.guangdongIntercityRailwayLineBadge.displayName",tags:[]}},ke=`M0,0 L-10,-10 L${5*Math.SQRT2-10},-10 L${5*Math.SQRT2},0 L${5*Math.SQRT2-10},10 L-10,10 Z`,ze={color:[l.London,"thameslink","#d28db0",o.white],rotate:0,type:"continuation"},Le={component:e=>{const{id:t,x:n,y:l,attrs:o,handlePointerDown:i,handlePointerMove:a,handlePointerUp:r}=e,{color:s=ze.color,rotate:d=ze.rotate,type:c=ze.type}=null!=o?o:ze,h=N.useCallback((e=>i(t,e)),[t,i]),m=N.useCallback((e=>a(t,e)),[t,a]),u=N.useCallback((e=>r(t,e)),[t,r]);return j.jsx("g",{id:t,transform:`translate(${n}, ${l})rotate(${d})`,onPointerDown:h,onPointerMove:m,onPointerUp:u,style:{cursor:"move"},children:"continuation"===c?j.jsx("path",{id:`virtual_circle_${t}`,fill:s[2],d:ke}):"sandwich"===c?j.jsx("path",{transform:"scale(0.5)",id:`virtual_circle_${t}`,stroke:"white",strokeWidth:"1",fill:s[2],d:ke}):j.jsx("path",{transform:"scale(0.25)",id:`virtual_circle_${t}`,fill:"white",d:ke})})},icon:j.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:j.jsx("path",{transform:"translate(14,12)scale(0.75)",fill:"currentColor",d:ke})}),defaultAttrs:ze,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:o}=k(),i=[{type:"select",label:o("panel.details.stations.common.rotate"),value:n.rotate,options:{0:"0",45:"45",90:"90",135:"135",180:"180",225:"225",270:"270",315:"315"},onChange:e=>{n.rotate=Number(e),l(t,n)},minW:"full"},{type:"select",label:o("panel.details.nodes.londonArrow.type"),value:n.type,options:{continuation:o("panel.details.nodes.londonArrow.continuation"),sandwich:o("panel.details.nodes.londonArrow.sandwich"),tube:o("panel.details.nodes.londonArrow.tube")},onChange:e=>{n.type=e,l(t,n)},minW:"full"},{type:"custom",label:o("color"),component:j.jsx(a,{type:r.LondonArrow,defaultTheme:ze.color}),minW:"full"}];return j.jsx(s,{fields:i})},metadata:{displayName:"panel.details.nodes.londonArrow.displayName",tags:[]}},Ae={content:1,color:[l.Chengdu,"cd1","#222a8c",o.white],badgeType:"normal"},Te={component:e=>{const{id:n,x:l,y:o,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{content:c=Ae.content,color:m=Ae.color,badgeType:u=Ae.badgeType}=null!=a?a:Ae,x=N.useCallback((e=>r(n,e)),[n,r]),p=N.useCallback((e=>s(n,e)),[n,s]),g=N.useCallback((e=>d(n,e)),[n,d]),f=m[3],y="suburban"==u?16*(c.toString().length-2)/2:0;return j.jsx("g",{transform:`translate(${l}, ${o})`,children:j.jsxs("g",{transform:"translate(-12.5, -12.5)",children:["normal"==u?j.jsxs(j.Fragment,{children:[j.jsx("rect",{fill:m[2],x:"0",width:"25",height:"25",rx:"12.5",ry:"12.5"}),j.jsx("text",t(t({},h(i.zh)),{},{textAnchor:"middle",x:"12.5",y:"12.5",fill:f,fontSize:16,dominantBaseline:"central",children:c}))]}):"suburban"==u?j.jsxs(j.Fragment,{children:[j.jsx("rect",{fill:m[2],x:-y/2,y:"0",width:20+y,height:"25",rx:"0",ry:"0"}),j.jsx("rect",{fill:m[2],x:19+y/2,y:"0",width:"6",height:"5",rx:"0",ry:"0"}),j.jsx("rect",{fill:m[2],x:19+y/2,y:"10",width:"6",height:"5",rx:"0",ry:"0"}),j.jsx("rect",{fill:m[2],x:19+y/2,y:"20",width:"6",height:"5",rx:"0",ry:"0"}),j.jsx("text",t(t({},h(i.zh)),{},{textAnchor:"left",x:-y/2,y:"12.5",fill:f,fontSize:16,dominantBaseline:"central",children:c}))]}):j.jsxs(j.Fragment,{children:[j.jsx("rect",{fill:m[2],x:"-1.25",y:"0",width:"27.5",height:"7.5",rx:"0",ry:"0"}),j.jsx("rect",{fill:m[2],x:"7.5",y:"0",width:"10",height:"25",rx:"0",ry:"0"}),j.jsx(z,{text:c.toString().split(""),lineHeight:10.5,x:12.5,y:6.5,fill:"white",fontSize:10,textAnchor:"middle",grow:"down",dominantBaseline:"middle"})]}),j.jsx("rect",{id:`misc_node_connectable_${n}`,onPointerDown:x,onPointerMove:p,onPointerUp:g,style:{cursor:"move",zIndex:1e3},x:0-y/2,y:0,width:25+y,height:25,fill:"white",opacity:0,stroke:"none"})]})})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),j.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:Ae,attrsComponent:e=>{const{id:t,attrs:n,handleAttrsUpdate:l}=e,{t:o}=k(),i=[{type:"input",label:o("panel.details.nodes.text.content"),value:(null!=n?n:Ae).content,validator:e=>!Number.isNaN(e),onChange:e=>{Number.isNaN(Number(e))?n.content=e:n.content=Number(e),l(t,n)},minW:"full"},{type:"custom",label:o("color"),component:j.jsx(a,{type:r.ChengduRTLineBadge,defaultTheme:Ae.color}),minW:"full"},{type:"select",label:o("panel.details.nodes.chengduRTLineBadge.badgeType.displayName"),value:(null!=n?n:Ae).badgeType,options:{normal:o("panel.details.nodes.chengduRTLineBadge.badgeType.normal"),suburban:o("panel.details.nodes.chengduRTLineBadge.badgeType.suburban"),tram:o("panel.details.nodes.chengduRTLineBadge.badgeType.tram")},onChange:e=>{n.badgeType=e,l(t,n)},minW:"full"}];return j.jsx(s,{fields:i})},metadata:{displayName:"panel.details.nodes.chengduRTLineBadge.displayName",tags:[]}},Me={code:"BR",tram:!1,color:[l.Taipei,"br","#C48C31",o.white]},$e={component:e=>{const{id:n,x:l,y:o,attrs:a,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,{code:c=Me.code,color:m=Me.color,tram:u=Me.tram}=null!=a?a:Me,x=N.useCallback((e=>r(n,e)),[n,r]),p=N.useCallback((e=>s(n,e)),[n,s]),g=N.useCallback((e=>d(n,e)),[n,d]),f=6+(c.length<=2?10:5.5*c.length);return j.jsxs("g",{id:n,transform:`translate(${l}, ${o})scale(${u?.8:1})`,onPointerDown:x,onPointerMove:p,onPointerUp:g,style:{cursor:"move"},children:[j.jsx("rect",{fill:m[2],x:-f/2,y:"-8",width:f,height:"16",rx:"2.5",ry:"2.5"}),j.jsx("g",{children:j.jsx("text",t(t({},h(i.taipei)),{},{textAnchor:"middle",dominantBaseline:"central",fontSize:"10",fill:m[3],children:c}))})]})},icon:j.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[j.jsx("rect",{fill:"currentColor",x:"6",y:"6",width:"12",height:"12",rx:"2",ry:"2"}),j.jsx("text",{x:"12",y:"12",fontSize:"6",fill:"white",textAnchor:"middle",dominantBaseline:"central",children:"BR"})]}),defaultAttrs:Me,attrsComponent:e=>{var t;const{id:n,attrs:l,handleAttrsUpdate:o}=e,{t:i}=k(),d=[{type:"input",label:i("panel.details.stations.common.lineCode"),value:l.code,onChange:e=>{l.code=e,o(n,l)},minW:"full"},{type:"switch",label:i("panel.details.nodes.taipeiMetroLineBadge.tram"),isChecked:null!==(t=l.tram)&&void 0!==t?t:Me.tram,onChange:e=>{l.tram=e,o(n,l)},oneLine:!0,minW:"full"},{type:"custom",label:i("color"),component:j.jsx(a,{type:r.TaiPeiMetroLineBadege,defaultTheme:Me.color})}];return j.jsx(s,{fields:d})},metadata:{displayName:"panel.details.nodes.taipeiMetroLineBadge.displayName",tags:[]}};e("m",{[r.Virtual]:n,[r.Facilities]:M,[r.Text]:W,[r.I18nText]:_,[r.Master]:E,[r.ShmetroNumLineBadge]:q,[r.ShmetroTextLineBadge]:F,[r.GzmtrLineBadge]:Q,[r.BjsubwayNumLineBadge]:G,[r.BjsubwayTextLineBadge]:Y,[r.SuzhouRTNumLineBadge]:X,[r.BerlinSBahnLineBadge]:le,[r.BerlinUBahnLineBadge]:te,[r.ChongqingRTNumLineBadge]:ie,[r.ChongqingRTTextLineBadge]:re,[r.ChongqingRTNumLineBadge2021]:de,[r.ChongqingRTTextLineBadge2021]:he,[r.ShenzhenMetroNumLineBadge]:xe,[r.MRTDestinationNumbers]:ge,[r.MRTLineBadge]:ye,[r.JREastLineBadge]:Ce,[r.QingdaoMetroNumLineBadge]:Se,[r.GuangdongIntercityRailwayLineBadge]:Ne,[r.LondonArrow]:Le,[r.ChengduRTLineBadge]:Te,[r.TaiPeiMetroLineBadege]:$e})}}}))}();
