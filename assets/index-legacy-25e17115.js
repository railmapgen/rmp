!function(){var e=["present","past","future"],n=["version","graph"];function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function a(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,a)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,u,"next",e)}function u(e){a(i,r,o,s,u,"throw",e)}s(void 0)}))}}function i(e){return function(e){if(Array.isArray(e))return C(e)}(e)||d(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,w(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,e)},s(e)}function u(e,t,n){return u=b()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&g(a,n.prototype),a},u.apply(null,arguments)}function l(e,t){return h(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,a=c}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||F(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){if(Array.isArray(e))return e}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function m(e){var t=b();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return(t=N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N(r.key),r)}}function z(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function N(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function E(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */E=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(C){u=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),s=new z(a||[]);return r(i,"_invoke",{value:k(e,n,s)}),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=l;var d={};function h(){}function f(){}function g(){}var m={};u(m,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(N([])));v&&v!==t&&n.call(v,o)&&(m=v);var b=g.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function a(r,o,i,s){var u=c(e[r],e,o);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==p(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,s)}),(function(e){a("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return a("throw",e,i,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return F()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=j(i,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=c(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:F}}function F(){return{value:void 0,done:!0}}return f.prototype=g,r(b,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:f,configurable:!0}),f.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),u(x.prototype,i,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new x(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=N,z.prototype={constructor:z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function F(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./chakra-legacy-87ae493d.js","./react-legacy-9060605e.js"],(function(a,u){"use strict";var g,b,w,x,_,N,C,O,A,L,T,H,R,M,P,G,I,B,D,U,V,W,K,J,Y,q,Z,Q,X,$,ee,te,ne,re,ae,oe,ie,se,ue,le,ce,de,he,pe,fe,ge,me,ye,ve,be,we,xe,ke,je,Se,_e,ze,Ne,Ee,Fe,Ce,Oe,Ae,Le,Te,He,Re,Me,Pe,Ge;return{setters:[function(e){g=e.u,b=e.a,w=e.j,x=e.P,_=e.B,N=e.b,C=e.I,O=e.c,A=e.d,L=e.e,T=e.f,H=e.L,R=e.g,M=e.h,P=e.F,G=e.T,I=e.i,B=e.k,D=e.l,U=e.m,V=e.n,W=e.A,K=e.M,J=e.o,Y=e.p,q=e.q,Z=e.r,Q=e.s,X=e.t,$=e.v,ee=e.w,te=e.x,ne=e.y,re=e.z,ae=e.C,oe=e.D,ie=e.E,se=e.S,ue=e.G,le=e.H,ce=e.J,de=e.K,he=e.N,pe=e.O,fe=e.Q,ge=e.R,me=e.U,ye=e.V,ve=e.W,be=e.X,we=e.Y,xe=e.Z,ke=e._,je=e.$,Se=e.a0,_e=e.a1,ze=e.a2,Ne=e.a3,Ee=e.a4,Fe=e.a5,Ce=e.a6,Oe=e.a7},function(e){Ae=e.g,Le=e.a,Te=e.r,He=e.b,Re=e.d,Me=e.e,Pe=e.f,Ge=e.h}],execute:function(){var Ie,Be,De,Ue=document.createElement("style");Ue.textContent=":root{background-color:#fff}@media (prefers-color-scheme: dark){:root{background-color:#1a202c;color:#fff}}html{height:100%}body{margin:0;overflow:hidden;height:100%;width:100%;width:-webkit-fill-available;padding:env(safe-area-inset-top,20px) env(safe-area-inset-right,20px) env(safe-area-inset-bottom,20px) env(safe-area-inset-left,20px)}div#root{height:100%;width:100%}*{box-sizing:border-box}.tools::-webkit-scrollbar{display:none}.tools{-ms-overflow-style:none;scrollbar-width:none}.rmp-name-station{paint-order:stroke;stroke:#fff;stroke-width:1.5px;stroke-linejoin:round}.rmp-name__zh{font-family:Arial,SimHei,STHeitiSC-Medium,PingFangSC-Regular,sans-serif}.rmp-name__en{font-family:Arial,sans-serif}\n",document.head.appendChild(Ue),a({$:function(e){var t=e.environment,n=e.version,r=e.popoverHeader,a=e.popoverBody,o=yi(Te.useState(!1),2),i=o[0],s=o[1];return w.jsxs(O,mi({isOpen:i,onOpen:function(){return r&&s(!0)},onClose:function(){return s(!1)}},{children:[w.jsx(I,{children:w.jsx(B,mi({ml:1,colorScheme:vi(t),title:"".concat(t,": ").concat(n),cursor:r?"pointer":"help"},{children:t===Ve.PRD?n:t}))}),w.jsxs(L,{children:[w.jsx(D,{}),w.jsx(U,{}),w.jsx(V,{children:r}),w.jsx(T,{children:a})]})]}))},A:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}}]})(e)},B:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M21 12.4V7l-4-4H5a2 2 0 00-2 2v14a2 2 0 002 2h7.4l8.6-8.6zM15 15c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zM6 6h9v4H6V6zm13.99 10.25l1.77 1.77L16.77 23H15v-1.77l4.99-4.98zm3.26.26l-.85.85-1.77-1.77.85-.85c.2-.2.51-.2.71 0l1.06 1.06c.2.2.2.52 0 .71z"}}]})(e)},D:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}}]})(e)},E:Ki,J:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}},{tag:"path",attr:{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}}]})(e)},K:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}}]})(e)},M:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}}]})(e)},N:Au,Q:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M13 7h9v2h-9zM13 15h9v2h-9zM16 11h6v2h-6zM13 12L8 7v4H2v2h6v4z"}}]})(e)},T:Nu,U:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}}]})(e)},V:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}}]})(e)},W:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}}]})(e)},X:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}}]})(e)},a:ta,a0:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}}]})(e)},a2:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16a8.002 8.002 0 017.6-5.5c1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}}]})(e)},a4:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12.87 15.07l-2.54-2.51.03-.03A17.52 17.52 0 0014.07 6H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"}}]})(e)},a5:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 00.12-.61l-1.92-3.32a.488.488 0 00-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 00-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 00-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}}]})(e)},a6:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}}]})(e)},a8:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}}]})(e)},a9:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}}]})(e)},ag:Pi,aq:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}}]})(e)},ar:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}}]})(e)},as:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)},b:ga,d:wa,g:fa,k:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"}}]})(e)},m:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"}}]})(e)},o:Su,w:ra,y:function(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}}]})(e)}});var Ve,We,Ke=function(e){return new Promise((function(t){setTimeout(t,e,"Timeout after ".concat(e/1e3," seconds"))}))};a("Z",Ve),function(e){e.DEV="DEV",e.UAT="UAT",e.PRD="PRD"}(Ve||a("Z",Ve={})),function(e){e.GITHUB="GitHub",e.GITLAB="GitLab",e.BITBUCKET="Bitbucket",e.LOCALHOST="localhost",e.UNKNOWN="unknown"}(We||(We={}));var Je,Ye,qe,Ze,Qe,Xe=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(io){o(io)}}function s(e){try{u(r.throw(e))}catch(io){o(io)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},$e=function(){Je=!1,Ye="rmg-unknown",qe="unknown",Ze=Ve.PRD,Qe=We.UNKNOWN};$e();var et={loadWithTimeout:function(){return Xe(void 0,void 0,void 0,E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("[rmg-runtime] Loading config..."),e.next=4,Promise.race([Xe(void 0,void 0,void 0,E().mark((function e(){var t,n,r,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.pathname.split("/")[1],n=t?"/".concat(t,"/info.json"):"/info.json",e.next=4,fetch(n);case 4:if(!(r=e.sent).ok){e.next=15;break}return e.next=8,r.json();case 8:a=e.sent,Ye=a.component,qe=a.version,Ze=a.environment,Qe=a.instance,e.next=16;break;case 15:throw new Error("Failed to fetch config from ".concat(n));case 16:case"end":return e.stop()}}),e)}))),Ke(1e4)]);case 4:(t=e.sent)?console.error("[rmg-runtime] Failed to load config.",t):(Je=!0,console.log("[rmg-runtime] Config loaded!")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("[rmg-runtime] Failed to load config.",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))},isInitialised:function(){return Je},getComponent:function(){return Ye},getVersion:function(){return qe},getEnvironment:function(){return Ze},getInstance:function(){return Qe},_resetConfig:$e};window.dataLayer=window.dataLayer||[];function tt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(et.getEnvironment()!==Ve.DEV)return window.dataLayer.push(arguments);console.log("[rmg-runtime] Not going to send event in DEV environment",t)}var nt,rt={init:function(){var e;(e=document.createElement("script")).async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-2HP8Y4MRRQ",document.head.append(e),tt("js",new Date),tt("config","G-2HP8Y4MRRQ",{appName:et.getComponent(),version:et.getVersion(),environment:et.getEnvironment(),instance:et.getInstance()})},customEvent:function(e,t){tt("event",e,t)}},at={};try{(nt=new BroadcastChannel("rmg-runtime-channel")).onmessage=function(e){var t,n=e.data,r=n.event,a=n.data,o=n.frameId;null===(t=at[r])||void 0===t||t.forEach((function(e){return e(a,o)}))}}catch(io){console.warn("[rmg-runtime] Failed to initiate broadcast channel. Some features may be unavailable.",io)}var ot={postEvent:function(e,t,n){var r;n&&console.log("[rmg-runtime] Broadcasting event ".concat(e," with data"),t),null==nt||nt.postMessage({event:e,data:t,frameId:null===(r=window.frameElement)||void 0===r?void 0:r.id})},onMessage:function(e,t){var n;e in at?null===(n=at[e])||void 0===n||n.push(t):at[e]=[t]}},it=function(){return!window.frameElement},st={isStandaloneWindow:it,injectUITools:function(){if(!it()){var e=document.createElement("style");e.textContent="body{padding: 0;}",document.head.appendChild(e)}var t,n=document.createElement("style");n.textContent=".rmg-window__header{margin-left: 40px;}",it()||(null===(t=window.frameElement)||void 0===t?void 0:t.closest(".show-menu"))||document.head.appendChild(n),ot.onMessage("TOGGLE_NAV_MENU",(function(e){if(e)try{document.head.removeChild(n)}catch(io){console.warn("[rmg-runtime] Unable to remove indent style from RmgWindowHeader",io)}else document.head.appendChild(n)}))},openApp:function(e,t){ot.postEvent("OPEN_APP",{appId:e,url:t})},onAppOpen:function(e){ot.onMessage("OPEN_APP",e)},closeApp:function(e){ot.postEvent("CLOSE_APP",e)},onAppClose:function(e){ot.onMessage("CLOSE_APP",e)},updateUrl:function(e){ot.postEvent("UPDATE_URL",e)},onUrlUpdate:function(e){ot.onMessage("UPDATE_URL",e)},toggleNavMenu:function(e){ot.postEvent("TOGGLE_NAV_MENU",e,!0)}},ut="rmg-runtime__language",lt="rmg-runtime__colourMode",ct="rmg-runtime__allowAnalytics",dt=["en","zh-Hans","zh-Hant","ko"],ht=["light","dark","system"],pt=function(){return"true"===window.localStorage.getItem(ct)},ft={setLanguage:function(e){dt.includes(e)&&(ot.postEvent("SET_LANGUAGE",e),window.localStorage.setItem(ut,e))},getLanguage:function(){var e=window.localStorage.getItem(ut);return e&&dt.includes(e)?e:"en"},onLanguageChange:function(e){ot.onMessage("SET_LANGUAGE",e)},setColourMode:function(e){ht.includes(e)&&(ot.postEvent("SET_COLOUR_MODE",e,!0),window.localStorage.setItem(lt,e))},getColourMode:function(){var e=window.localStorage.getItem(lt);return e&&ht.includes(e)?e:"system"},onColourModeChange:function(e){ot.onMessage("SET_COLOUR_MODE",e)},isAnalyticsQADone:function(){return null!==window.localStorage.getItem(ct)},isAllowAnalytics:pt,allowAnalytics:function(e){var t=pt();return e?(t||(window.localStorage.setItem(ct,e.toString()),rt.init()),{refreshRequired:!1}):t?(window.localStorage.setItem(ct,e.toString()),{refreshRequired:!0}):{refreshRequired:!1}}},gt=(new Date).getTime();var mt={getMsSinceStartUp:function(){var e=et.getComponent(),t=window.localStorage.getItem(e+"__startTime");return null===t?(new Date).getTime()-gt:(new Date).getTime()-Number(t)}},yt=function(){var e=et.getComponent();if("rmg-unknown"===e)throw new Error("[rmg-runtime] Unable to clear storage for unknown app");return"railmapgen.github.io"===e?"rmg-home":e},vt={getStorageForCurrentApp:function(){for(var e=yt(),t={},n=0;n<window.localStorage.length;){var r=window.localStorage.key(n);if(null==r?void 0:r.startsWith(e+"__")){var a=window.localStorage.getItem(r);a&&(t[r]=a)}n++}return t},clearStorageForCurrentApp:function(){for(var e=yt(),t=0;t<window.localStorage.length;){var n=window.localStorage.key(t);(null==n?void 0:n.startsWith(e+"__"))?(window.localStorage.removeItem(n),console.log("[rmg-runtime] Removed item ".concat(n))):t++}}},bt={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},wt=function(){function e(t){S(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(t,n)}return z(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||bt,this.options=t,this.debug=t.debug}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,k(k({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),xt=new wt,kt=function(){function e(){S(this,e),this.observers={}}return z(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var a=[].concat(this.observers[e]);a.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function jt(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function St(e){return null==e?"":""+e}function _t(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function zt(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function a(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(a())return{};var i=r(o.shift());!e[i]&&n&&(e[i]=new n),e=Object.prototype.hasOwnProperty.call(e,i)?e[i]:{}}return a()?{}:{obj:e,k:r(o.shift())}}function Nt(e,t,n){var r=zt(e,t,Object);r.obj[r.k]=n}function Et(e,t){var n=zt(e,t),r=n.obj,a=n.k;if(r)return r[a]}function Ft(e,t,n){var r=Et(e,n);return void 0!==r?r:Et(t,n)}function Ct(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):Ct(e[r],t[r],n):e[r]=t[r]);return e}function Ot(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var At={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Lt(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return At[e]})):e}var Tt=[" ",",","?","!",";"];function Ht(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),a=e,o=0;o<r.length;++o){if(!a)return;if("string"==typeof a[r[o]]&&o+1<r.length)return;if(void 0===a[r[o]]){for(var i=2,s=r.slice(o,o+i).join(n),u=a[s];void 0===u&&r.length>o+i;)i++,u=a[s=r.slice(o,o+i).join(n)];if(void 0===u)return;if(null===u)return null;if(t.endsWith(s)){if("string"==typeof u)return u;if(s&&"string"==typeof u[s])return u[s]}var l=r.slice(o+i).join(n);return l?Ht(u,l,n):void 0}a=a[r[o]]}return a}}function Rt(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}var Mt=function(e){f(n,e);var t=m(n);function n(e){var r;S(this,n);var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(r=t.call(this)).data=e||{},r.options=a,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return z(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,i=[e,t];n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(i=e.split("."));var s=Et(this.data,i);return s||!o||"string"!=typeof n?s:Ht(this.data&&this.data[e]&&this.data[e][t],n,a)}},{key:"addResource",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,i=[e,t];n&&(i=i.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(i=e.split("."))[1]),this.addNamespaces(t),Nt(this.data,i,r),a.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var a in n)"string"!=typeof n[a]&&"[object Array]"!==Object.prototype.toString.apply(n[a])||this.addResource(e,t,a,n[a],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},i=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(i=e.split("."))[1]),this.addNamespaces(t);var s=Et(this.data,i)||{};r?Ct(s,n,a):s=k(k({},s),n),Nt(this.data,i,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?k(k({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(kt),Pt={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,a){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,a))})),t}},Gt={},It=function(e){f(n,e);var t=m(n);function n(e){var r;S(this,n);var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _t(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,v(r=t.call(this))),r.options=a,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=xt.create("translator"),r}return z(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,a=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,i=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=Tt.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var a=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!a.test(e);if(!o){var i=e.indexOf(n);i>0&&!a.test(e.substring(0,i))&&(o=!0)}return o}(e,n,r));if(o&&!i){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:a};var u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),e=u.join(r)}return"string"==typeof a&&(a=[a]),{key:e,namespaces:a}}},{key:"translate",value:function(e,t,r){var a=this;if("object"!==p(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===p(t)&&(t=k({},t)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),u=s.key,l=s.namespaces,c=l[l.length-1],d=t.lng||this.language,h=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(h){var f=t.nsSeparator||this.options.nsSeparator;return o?{res:"".concat(c).concat(f).concat(u),usedKey:u,exactUsedKey:u,usedLng:d,usedNS:c}:"".concat(c).concat(f).concat(u)}return o?{res:u,usedKey:u,exactUsedKey:u,usedLng:d,usedNS:c}:u}var g=this.resolve(e,t),m=g&&g.res,y=g&&g.usedKey||u,v=g&&g.exactUsedKey||u,b=Object.prototype.toString.apply(m),w=["[object Number]","[object Function]","[object RegExp]"],x=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,j=!this.i18nFormat||this.i18nFormat.handleAsObject,S="string"!=typeof m&&"boolean"!=typeof m&&"number"!=typeof m;if(j&&m&&S&&w.indexOf(b)<0&&("string"!=typeof x||"[object Array]"!==b)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var _=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,m,k(k({},t),{},{ns:l})):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");return o?(g.res=_,g):_}if(i){var z="[object Array]"===b,N=z?[]:{},E=z?v:y;for(var F in m)if(Object.prototype.hasOwnProperty.call(m,F)){var C="".concat(E).concat(i).concat(F);N[F]=this.translate(C,k(k({},t),{joinArrays:!1,ns:l})),N[F]===C&&(N[F]=m[F])}m=N}}else if(j&&"string"==typeof x&&"[object Array]"===b)(m=m.join(x))&&(m=this.extendTranslation(m,e,t,r));else{var O=!1,A=!1,L=void 0!==t.count&&"string"!=typeof t.count,T=n.hasDefaultValue(t),H=L?this.pluralResolver.getSuffix(d,t.count,t):"",R=t.ordinal&&L?this.pluralResolver.getSuffix(d,t.count,{ordinal:!1}):"",M=t["defaultValue".concat(H)]||t["defaultValue".concat(R)]||t.defaultValue;!this.isValidLookup(m)&&T&&(O=!0,m=M),this.isValidLookup(m)||(A=!0,m=u);var P=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,G=P&&A?void 0:m,I=T&&M!==m&&this.options.updateMissing;if(A||O||I){if(this.logger.log(I?"updateKey":"missingKey",d,c,u,I?M:m),i){var B=this.resolve(u,k(k({},t),{},{keySeparator:!1}));B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var D=[],U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&U&&U[0])for(var V=0;V<U.length;V++)D.push(U[V]);else"all"===this.options.saveMissingTo?D=this.languageUtils.toResolveHierarchy(t.lng||this.language):D.push(t.lng||this.language);var W=function(e,n,r){var o=T&&r!==m?r:G;a.options.missingKeyHandler?a.options.missingKeyHandler(e,c,n,o,I,t):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(e,c,n,o,I,t),a.emit("missingKey",e,c,n,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&L?D.forEach((function(e){a.pluralResolver.getSuffixes(e,t).forEach((function(n){W([e],u+n,t["defaultValue".concat(n)]||M)}))})):W(D,u,M))}m=this.extendTranslation(m,e,t,g,r),A&&m===u&&this.options.appendNamespaceToMissingKey&&(m="".concat(c,":").concat(u)),(A||O)&&this.options.parseMissingKeyHandler&&(m="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(c,":").concat(u):u,O?m:void 0):this.options.parseMissingKeyHandler(m))}return o?(g.res=m,g):m}},{key:"extendTranslation",value:function(e,t,n,r,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,k(k({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(k(k({},n),{interpolation:k(k({},this.options.interpolation),n.interpolation)}));var i,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var u=e.match(this.interpolator.nestingRegexp);i=u&&u.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=k(k({},this.options.interpolation.defaultVariables),l)),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),s){var c=e.match(this.interpolator.nestingRegexp);i<(c&&c.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return a&&a[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,h="string"==typeof d?[d]:d;return null!=e&&h&&h.length&&!1!==n.applyPostProcessor&&(e=Pt.handle(h,e,t,this.options&&this.options.postProcessPassResolved?k({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,a,o,i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!i.isValidLookup(t)){var u=i.extractFromKey(e,s),l=u.key;n=l;var c=u.namespaces;i.options.fallbackNS&&(c=c.concat(i.options.fallbackNS));var d=void 0!==s.count&&"string"!=typeof s.count,h=d&&!s.ordinal&&0===s.count&&i.pluralResolver.shouldUseIntlApi(),p=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,f=s.lngs?s.lngs:i.languageUtils.toResolveHierarchy(s.lng||i.language,s.fallbackLng);c.forEach((function(e){i.isValidLookup(t)||(o=e,!Gt["".concat(f[0],"-").concat(e)]&&i.utils&&i.utils.hasLoadedNamespace&&!i.utils.hasLoadedNamespace(o)&&(Gt["".concat(f[0],"-").concat(e)]=!0,i.logger.warn('key "'.concat(n,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((function(n){if(!i.isValidLookup(t)){a=n;var o,u=[l];if(i.i18nFormat&&i.i18nFormat.addLookupKeys)i.i18nFormat.addLookupKeys(u,l,n,e,s);else{var c;d&&(c=i.pluralResolver.getSuffix(n,s.count,s));var f="".concat(i.options.pluralSeparator,"zero"),g="".concat(i.options.pluralSeparator,"ordinal").concat(i.options.pluralSeparator);if(d&&(u.push(l+c),s.ordinal&&0===c.indexOf(g)&&u.push(l+c.replace(g,i.options.pluralSeparator)),h&&u.push(l+f)),p){var m="".concat(l).concat(i.options.contextSeparator).concat(s.context);u.push(m),d&&(u.push(m+c),s.ordinal&&0===c.indexOf(g)&&u.push(m+c.replace(g,i.options.pluralSeparator)),h&&u.push(m+f))}}for(;o=u.pop();)i.isValidLookup(t)||(r=o,t=i.getResource(n,e,o,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:a,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),n}(kt);function Bt(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Dt=function(){function e(t){S(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=xt.create("languageUtils")}return z(e,[{key:"getScriptPartFromCode",value:function(e){if(!(e=Rt(e))||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!(e=Rt(e))||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Bt(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Bt(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Bt(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){return e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:0===e.indexOf(r)?e:void 0}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],o=function(e){e&&(n.isSupportedCode(e)?a.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){a.indexOf(e)<0&&o(n.formatLanguageCode(e))})),a}}]),e}(),Ut=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Vt={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},Wt=["v1","v2","v3"],Kt=["v4"],Jt={zero:0,one:1,two:2,few:3,many:4,other:5};function Yt(){var e={};return Ut.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:Vt[t.fc]}}))})),e}var qt=function(){function e(t){S(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=xt.create("pluralResolver"),this.options.compatibilityJSON&&!Kt.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Yt()}return z(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Rt(e),{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return Jt[e]-Jt[t]})).map((function(e){return"".concat(t.options.prepend).concat(n.ordinal?"ordinal".concat(t.options.prepend):"").concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),a=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===a?a="plural":1===a&&(a=""));var o=function(){return n.options.prepend&&a.toString()?n.options.prepend+a.toString():a.toString()};return"v1"===this.options.compatibilityJSON?1===a?"":"number"==typeof a?"_plural_".concat(a.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!Wt.includes(this.options.compatibilityJSON)}}]),e}();function Zt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=Ft(e,t,n);return!o&&a&&"string"==typeof n&&void 0===(o=Ht(e,n,r))&&(o=Ht(t,n,r)),o}var Qt=function(){function e(){S(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=xt.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return z(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:Lt,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?Ot(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?Ot(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?Ot(t.nestingPrefix):t.nestingPrefixEscaped||Ot("$t("),this.nestingSuffix=t.nestingSuffix?Ot(t.nestingSuffix):t.nestingSuffixEscaped||Ot(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var a,o,i,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(s.formatSeparator)<0){var a=Zt(t,u,e,s.options.keySeparator,s.options.ignoreJSONStructure);return s.alwaysFormat?s.format(a,void 0,n,k(k(k({},r),t),{},{interpolationkey:e})):a}var o=e.split(s.formatSeparator),i=o.shift().trim(),l=o.join(s.formatSeparator).trim();return s.format(Zt(t,u,i,s.options.keySeparator,s.options.ignoreJSONStructure),l,n,k(k(k({},r),t),{},{interpolationkey:i}))};this.resetRegExp();var d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return l(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?l(s.escape(e)):l(e)}}].forEach((function(t){for(i=0;a=t.regex.exec(e);){var n=a[1].trim();if(void 0===(o=c(n)))if("function"==typeof d){var u=d(e,a,r);o="string"==typeof u?u:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))o="";else{if(h){o=a[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=St(o));var l=t.safeValue(o);if(e=e.replace(a[0],l),h?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=a[0].length):t.regex.lastIndex=0,++i>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,a,o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),o="{".concat(r[1]);e=r[0];var i=(o=this.interpolate(o,a)).match(/'/g),s=o.match(/"/g);(i&&i.length%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{a=JSON.parse(o),t&&(a=k(k({},t),a))}catch(io){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),io),"".concat(e).concat(n).concat(o)}return delete a.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){var u=[];(a=(a=k({},i)).replace&&"string"!=typeof a.replace?a.replace:a).applyPostProcessor=!1,delete a.defaultValue;var l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=c.shift(),u=c,l=!0}if((r=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=St(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),l&&(r=u.reduce((function(e,t){return o.format(e,t,i.lng,k(k({},i),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function Xt(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var a=r[1].substring(0,r[1].length-1);if("currency"===t&&a.indexOf(":")<0)n.currency||(n.currency=a.trim());else if("relativetime"===t&&a.indexOf(":")<0)n.range||(n.range=a.trim());else{a.split(";").forEach((function(e){if(e){var t,r=e.split(":"),a=h(t=r)||d(t)||F(t)||c(),o=a[0],i=a.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[o.trim()]||(n[o.trim()]=i),"false"===i&&(n[o.trim()]=!1),"true"===i&&(n[o.trim()]=!0),isNaN(i)||(n[o.trim()]=parseInt(i,10))}}))}}return{formatName:t,formatOptions:n}}function $t(e){var t={};return function(n,r,a){var o=r+JSON.stringify(a),i=t[o];return i||(i=e(Rt(r),a),t[o]=i),i(n)}}var en=function(){function e(){S(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=xt.create("formatter"),this.options=t,this.formats={number:$t((function(e,t){var n=new Intl.NumberFormat(e,k({},t));return function(e){return n.format(e)}})),currency:$t((function(e,t){var n=new Intl.NumberFormat(e,k(k({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:$t((function(e,t){var n=new Intl.DateTimeFormat(e,k({},t));return function(e){return n.format(e)}})),relativetime:$t((function(e,t){var n=new Intl.RelativeTimeFormat(e,k({},t));return function(e){return n.format(e,t.range||"day")}})),list:$t((function(e,t){var n=new Intl.ListFormat(e,k({},t));return function(e){return n.format(e)}}))},this.init(t)}return z(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=$t(t)}},{key:"format",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t.split(this.formatSeparator),i=o.reduce((function(e,t){var o=Xt(t),i=o.formatName,s=o.formatOptions;if(r.formats[i]){var u=e;try{var l=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},c=l.locale||l.lng||a.locale||a.lng||n;u=r.formats[i](e,c,k(k(k({},s),a),l))}catch(d){r.logger.warn(d)}return u}return r.logger.warn("there was no format function for ".concat(i)),e}),e);return i}}]),e}();var tn=function(e){f(n,e);var t=m(n);function n(e,r,a){var o;S(this,n);var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(o=t.call(this)).backend=e,o.store=r,o.services=a,o.languageUtils=a.languageUtils,o.options=i,o.logger=xt.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=i.maxParallelReads||10,o.readingCalls=0,o.maxRetries=i.maxRetries>=0?i.maxRetries:5,o.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,i.backend,i),o}return z(n,[{key:"queueLoad",value:function(e,t,n,r){var a=this,o={},i={},s={},u={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&a.store.hasResourceBundle(e,t)?a.state[s]=2:a.state[s]<0||(1===a.state[s]?void 0===i[s]&&(i[s]=!0):(a.state[s]=1,r=!1,void 0===i[s]&&(i[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===u[t]&&(u[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(u)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),a=r[0],o=r[1];t&&this.emit("failedLoading",a,o,t),n&&this.store.addResourceBundle(a,o,n),this.state[e]=t?-1:2;var i={};this.queue.forEach((function(n){!function(e,t,n,r){var a=zt(e,t,Object),o=a.obj,i=a.k;o[i]=o[i]||[],r&&(o[i]=o[i].concat(n)),r||o[i].push(n)}(n.loaded,[a],o),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){i[e]||(i[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===i[e][t]&&(i[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",i),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:e,ns:t,fcName:n,tried:a,wait:o,callback:i});else{this.readingCalls++;var s=function(s,u){if(r.readingCalls--,r.waitingReads.length>0){var l=r.waitingReads.shift();r.read(l.lng,l.ns,l.fcName,l.tried,l.wait,l.callback)}s&&u&&a<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,a+1,2*o,i)}),o):i(s,u)},u=this.backend[n].bind(this.backend);if(2!==u.length)return u(e,t,s);try{var l=u(e,t);l&&"function"==typeof l.then?l.then((function(e){return s(null,e)})).catch(s):s(null,l)}catch(c){s(c)}}}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),a=r[0],o=r[1];this.read(a,o,"read",void 0,void 0,(function(r,i){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(a," failed"),r),!r&&i&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(a),i),t.loaded(e,r,i)}))}},{key:"saveMissing",value:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){var s=k(k({},o),{},{isUpdate:a}),u=this.backend.create.bind(this.backend);if(u.length<6)try{var l;(l=5===u.length?u(e,t,n,r,s):u(e,t,n,r))&&"function"==typeof l.then?l.then((function(e){return i(null,e)})).catch(i):i(null,l)}catch(c){i(c)}else u(e,t,n,r,i,s)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}]),n}(kt);function nn(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===p(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===p(e[2])||"object"===p(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function rn(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function an(){}function on(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var sn,un=function(e){f(n,e);var t=m(n);function n(){var e;S(this,n);var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if((e=t.call(this)).options=rn(r),e.services={},e.logger=xt,e.modules={external:[]},on(v(e)),a&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,a),y(e,v(e));setTimeout((function(){e.init(r,a)}),0)}return e}return z(n,[{key:"init",value:function(){var e=this,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;"function"==typeof n&&(r=n,n={}),!n.defaultNS&&!1!==n.defaultNS&&n.ns&&("string"==typeof n.ns?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));var a=nn();function o(e){return e?"function"==typeof e?new e:e:null}if(this.options=k(k(k({},a),this.options),rn(n)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=k(k({},a.interpolation),this.options.interpolation)),void 0!==n.keySeparator&&(this.options.userDefinedKeySeparator=n.keySeparator),void 0!==n.nsSeparator&&(this.options.userDefinedNsSeparator=n.nsSeparator),!this.options.isClone){var i;this.modules.logger?xt.init(o(this.modules.logger),this.options):xt.init(null,this.options),this.modules.formatter?i=this.modules.formatter:"undefined"!=typeof Intl&&(i=en);var s=new Dt(this.options);this.store=new Mt(this.options.resources,this.options);var u=this.services;u.logger=xt,u.resourceStore=this.store,u.languageUtils=s,u.pluralResolver=new qt(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!i||this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format||(u.formatter=o(i),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new Qt(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new tn(o(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];t.emit.apply(t,[e].concat(r))})),this.modules.languageDetector&&(u.languageDetector=o(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=o(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new It(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];t.emit.apply(t,[e].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,r||(r=an),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var c=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];c.forEach((function(n){e[n]=function(){var e;return(e=t.store)[n].apply(e,arguments)}}));var d=["addResource","addResources","addResourceBundle","removeResourceBundle"];d.forEach((function(n){e[n]=function(){var e;return(e=t.store)[n].apply(e,arguments),t}}));var h=jt(),p=function(){var t=function(t,n){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),h.resolve(n),r(t,n)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?p():setTimeout(p,0),h}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:an,r=n,a="string"==typeof e?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(a&&"cimode"===a.toLowerCase())return r();var o=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(a)i(a);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return i(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return i(e)})),this.services.backendConnector.load(o,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),r(e)}))}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=jt();return e||(e=this.languages),t||(t=this.options.ns),n||(n=an),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Pt.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this,r=this;this.isLanguageChangingTo=e;var a=jt();this.emit("languageChanging",e);var o=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},i=function(i){e||i||!n.services.languageDetector||(i=[]);var s="string"==typeof i?i:n.services.languageUtils.getBestMatchFromCodes(i);s&&(n.language||o(s),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(e){!function(e,i){i?(o(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,a.resolve((function(){return r.t.apply(r,arguments)})),t&&t(e,(function(){return r.t.apply(r,arguments)}))}(e,s)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),a}},{key:"getFixedT",value:function(e,t,n){var r=this,a=function e(t,a){var o;if("object"!==p(a)){for(var i=arguments.length,s=new Array(i>2?i-2:0),u=2;u<i;u++)s[u-2]=arguments[u];o=r.options.overloadTranslationOptionHandler([t,a].concat(s))}else o=k({},a);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,o.keyPrefix=o.keyPrefix||n||e.keyPrefix;var l,c=r.options.keySeparator||".";return l=o.keyPrefix&&Array.isArray(t)?t.map((function(e){return"".concat(o.keyPrefix).concat(c).concat(e)})):o.keyPrefix?"".concat(o.keyPrefix).concat(c).concat(t):t,r.t(l,o)};return"string"==typeof e?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=n,a}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=n.lng||this.resolvedLanguage||this.languages[0],a=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var i=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,i);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!i(r,e)||a&&!i(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=jt();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=jt();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],a=e.filter((function(e){return r.indexOf(e)<0}));return a.length?(this.options.preload=r.concat(a),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var t=this.services&&this.services.languageUtils||new Dt(nn());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:an,a=t.forkResourceStore;a&&delete t.forkResourceStore;var o=k(k(k({},this.options),t),{isClone:!0}),i=new n(o);void 0===t.debug&&void 0===t.prefix||(i.logger=i.logger.clone(t));var s=["store","services","language"];return s.forEach((function(t){i[t]=e[t]})),i.services=k({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},a&&(i.store=new Mt(this.store.data,o),i.services.resourceStore=i.store),i.translator=new It(i.services,o),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit.apply(i,[e].concat(n))})),i.init(o,r),i.translator.options=o,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}],[{key:"createInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new n(e,t)}}]),n}(kt),ln=un.createInstance();ln.createInstance=un.createInstance,ln.createInstance,ln.dir,ln.init,ln.loadResources,ln.reloadResources,ln.use,ln.changeLanguage,ln.getFixedT,ln.t,ln.exists,ln.setDefaultNamespace,ln.hasLoadedNamespace,ln.loadNamespaces,ln.loadLanguages;var cn=function(){function e(){S(this,e),this._appName="RMG",this._lng=void 0,this._defaultResources={},this._resources={}}return z(e,[{key:"use",value:function(e){return ln.use(e),this}},{key:"withAppName",value:function(e){return this._appName=e,this}},{key:"withLng",value:function(e){return this._lng=e,this}},{key:"withDefaultResource",value:function(e){var t=this;return Object.entries(e).forEach((function(e){var n=l(e,2),r=n[0],a=n[1];t._defaultResources[r]=a})),this}},{key:"withResource",value:function(e,t){return this._resources[e]=t,this}},{key:"combineResource",value:function(){var e={};return Object.entries(this._defaultResources).forEach((function(t){var n=l(t,2),r=n[0],a=n[1];e[r]={translation:a}})),Object.entries(this._resources).forEach((function(t){var n=l(t,2),r=n[0],a=n[1];r in e?e[r].translation=Object.assign(Object.assign({},e[r].translation),a):e[r]={translation:a}})),e}},{key:"build",value:function(){var e=this;return(sn=ln.createInstance({lng:this._lng,fallbackLng:{"zh-CN":["zh-Hans","zh-Hant","en"],"zh-HK":["zh-Hant","zh-Hans","en"],"zh-TW":["zh-Hant","zh-Hans","en"],default:["en"]},resources:this.combineResource()},(function(t,n){var r;t?console.error("[rmg-runtime] unexpected error occurs while initialising i18n",t):(document.title=n(e._appName),document.documentElement.lang=null!==(r=e._lng)&&void 0!==r?r:"en")}))).on("languageChanged",(function(t){document.title=sn.t(e._appName),document.documentElement.lang=t})),function(e){ft.onLanguageChange((function(t){return e.changeLanguage(t)}))}(sn),sn}}]),e}(),dn=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(io){o(io)}}function s(e){try{u(r.throw(e))}catch(io){o(io)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},hn=!1,pn=a("r",{ready:function(){return dn(void 0,void 0,void 0,E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<=10)||hn){e.next=7;break}return e.next=4,Ke(1e3);case 4:t+=1,e.next=1;break;case 7:case"end":return e.stop()}}),e)})))},getAppName:et.getComponent,getAppVersion:et.getVersion,getEnv:et.getEnvironment,getInstance:et.getInstance,event:rt.customEvent,isStandaloneWindow:st.isStandaloneWindow,injectUITools:st.injectUITools,openApp:st.openApp,onAppOpen:st.onAppOpen,closeApp:st.closeApp,onAppClose:st.onAppClose,updateUrl:st.updateUrl,onUrlUpdate:st.onUrlUpdate,toggleNavMenu:st.toggleNavMenu,postEvent:ot.postEvent,onMessage:ot.onMessage,setLanguage:ft.setLanguage,getLanguage:ft.getLanguage,onLanguageChange:ft.onLanguageChange,setColourMode:ft.setColourMode,getColourMode:ft.getColourMode,onColourModeChange:ft.onColourModeChange,isAnalyticsQADone:ft.isAnalyticsQADone,isAllowAnalytics:ft.isAllowAnalytics,allowAnalytics:ft.allowAnalytics,getStorageForCurrentApp:vt.getStorageForCurrentApp,clearStorageForCurrentApp:vt.clearStorageForCurrentApp,getMsSinceStartUp:mt.getMsSinceStartUp,I18nBuilder:cn,getI18nInstance:function(){return sn}});dn(void 0,void 0,void 0,E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et.loadWithTimeout();case 2:ft.isAnalyticsQADone()?ft.isAllowAnalytics()&&(console.log("[rmg-runtime] User has previously allowed GA"),rt.init()):st.isStandaloneWindow()&&"rmg-home"!==et.getComponent()&&(console.warn("[rmg-runtime] App is opened in standalone window but analytics Q&A is not finished. GA will be init by default."),rt.init()),hn=!0;case 4:case"end":return e.stop()}}),e)}))).then(),window.rmgRuntime=pn;var fn,gn={exports:{}},mn="object"===("undefined"==typeof Reflect?"undefined":p(Reflect))?Reflect:null,yn=mn&&"function"==typeof mn.apply?mn.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};fn=mn&&"function"==typeof mn.ownKeys?mn.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var vn=Number.isNaN||function(e){return e!=e};function bn(){bn.init.call(this)}gn.exports=bn,gn.exports.once=function(e,t){return new Promise((function(n,r){function a(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",a),n([].slice.call(arguments))}Fn(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&Fn(e,"error",t,n)}(e,a,{once:!0})}))},bn.EventEmitter=bn,bn.prototype._events=void 0,bn.prototype._eventsCount=0,bn.prototype._maxListeners=void 0;var wn=10;function xn(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+p(e))}function kn(e){return void 0===e._maxListeners?bn.defaultMaxListeners:e._maxListeners}function jn(e,t,n,r){var a,o,i;if(xn(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),i=o[t]),void 0===i)i=o[t]=n,++e._eventsCount;else if("function"==typeof i?i=o[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),(a=kn(e))>0&&i.length>a&&!i.warned){i.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=i.length,function(e){console&&console.warn&&console.warn(e)}(s)}return e}function Sn(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _n(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=Sn.bind(r);return a.listener=n,r.wrapFn=a,a}function zn(e,t,n){var r=e._events;if(void 0===r)return[];var a=r[t];return void 0===a?[]:"function"==typeof a?n?[a.listener||a]:[a]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(a):En(a,a.length)}function Nn(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function En(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function Fn(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+p(e));e.addEventListener(t,(function a(o){r.once&&e.removeEventListener(t,a),n(o)}))}}Object.defineProperty(bn,"defaultMaxListeners",{enumerable:!0,get:function(){return wn},set:function(e){if("number"!=typeof e||e<0||vn(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");wn=e}}),bn.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},bn.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||vn(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},bn.prototype.getMaxListeners=function(){return kn(this)},bn.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,a=this._events;if(void 0!==a)r=r&&void 0===a.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var i=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw i.context=o,i}var s=a[e];if(void 0===s)return!1;if("function"==typeof s)yn(s,this,t);else{var u=s.length,l=En(s,u);for(n=0;n<u;++n)yn(l[n],this,t)}return!0},bn.prototype.addListener=function(e,t){return jn(this,e,t,!1)},bn.prototype.on=bn.prototype.addListener,bn.prototype.prependListener=function(e,t){return jn(this,e,t,!0)},bn.prototype.once=function(e,t){return xn(t),this.on(e,_n(this,e,t)),this},bn.prototype.prependOnceListener=function(e,t){return xn(t),this.prependListener(e,_n(this,e,t)),this},bn.prototype.removeListener=function(e,t){var n,r,a,o,i;if(xn(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(a=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){i=n[o].listener,a=o;break}if(a<0)return this;0===a?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,a),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,i||t)}return this},bn.prototype.off=bn.prototype.removeListener,bn.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var a,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(a=o[r])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},bn.prototype.listeners=function(e){return zn(this,e,!0)},bn.prototype.rawListeners=function(e){return zn(this,e,!1)},bn.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Nn.call(e,t)},bn.prototype.listenerCount=Nn,bn.prototype.eventNames=function(){return this._eventsCount>0?fn(this._events):[]};var Cn=gn.exports;function On(e){if("function"!=typeof e)throw new Error("obliterator/iterator: expecting a function!");this.next=e}"undefined"!=typeof Symbol&&(On.prototype[Symbol.iterator]=function(){return this}),On.of=function(){var e=arguments,t=e.length,n=0;return new On((function(){return n>=t?{done:!0}:{done:!1,value:e[n++]}}))},On.empty=function(){return new On((function(){return{done:!0}}))},On.fromSequence=function(e){var t=0,n=e.length;return new On((function(){return t>=n?{done:!0}:{done:!1,value:e[t++]}}))},On.is=function(e){return e instanceof On||"object"===p(e)&&null!==e&&"function"==typeof e.next};var An=On,Ln=Ae(An),Tn={};Tn.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,Tn.SYMBOL_SUPPORT="undefined"!=typeof Symbol;var Hn=An,Rn=Tn,Mn=Rn.ARRAY_BUFFER_SUPPORT,Pn=Rn.SYMBOL_SUPPORT;var Gn=function(e){var t=function(e){return"string"==typeof e||Array.isArray(e)||Mn&&ArrayBuffer.isView(e)?Hn.fromSequence(e):"object"!==p(e)||null===e?null:Pn&&"function"==typeof e[Symbol.iterator]?e[Symbol.iterator]():"function"==typeof e.next?e:null}(e);if(!t)throw new Error("obliterator: target is not iterable nor a valid iterator.");return t},In=Gn,Bn=function(e,t){for(var n,r=arguments.length>1?t:1/0,a=r!==1/0?new Array(r):[],o=0,i=In(e);;){if(o===r)return a;if((n=i.next()).done)return o!==t&&(a.length=o),a;a[o++]=n.value}},Dn=Ae(Bn),Un=An,Vn=Gn,Wn=function(){var e=arguments,t=null,n=-1;return new Un((function(){for(var r=null;;){if(null===t){if(++n>=e.length)return{done:!0};t=Vn(e[n])}if(!0!==(r=t.next()).done)break;t=null}return r}))},Kn=Ae(Wn);var Jn=function(){for(var e=arguments[0],t=1,n=arguments.length;t<n;t++)if(arguments[t])for(var r in arguments[t])e[r]=arguments[t][r];return e};function Yn(e,t,n,r){var a=e._nodes.get(t),o=null;return a?o="mixed"===r?a.out&&a.out[n]||a.undirected&&a.undirected[n]:"directed"===r?a.out&&a.out[n]:a.undirected&&a.undirected[n]:o}function qn(e){return"object"===p(e)&&null!==e&&e.constructor===Object}function Zn(e){var t;for(t in e)return!1;return!0}function Qn(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!0,value:n})}function Xn(e,t,n){var r={enumerable:!0,configurable:!0};"function"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(e,t,r)}function $n(e){return!!qn(e)&&!(e.attributes&&!Array.isArray(e.attributes))}"function"==typeof Object.assign&&(Jn=Object.assign);var er=function(e){f(n,e);var t=m(n);function n(e){var r;return S(this,n),(r=t.call(this)).name="GraphError",r.message=e,r}return z(n)}(s(Error)),tr=function(e){f(n,e);var t=m(n);function n(e){var r;return S(this,n),(r=t.call(this,e)).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(v(r),n.prototype.constructor),r}return z(n)}(er),nr=function(e){f(n,e);var t=m(n);function n(e){var r;return S(this,n),(r=t.call(this,e)).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(v(r),n.prototype.constructor),r}return z(n)}(er),rr=function(e){f(n,e);var t=m(n);function n(e){var r;return S(this,n),(r=t.call(this,e)).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(v(r),n.prototype.constructor),r}return z(n)}(er);function ar(e,t){this.key=e,this.attributes=t,this.clear()}function or(e,t){this.key=e,this.attributes=t,this.clear()}function ir(e,t){this.key=e,this.attributes=t,this.clear()}function sr(e,t,n,r,a){this.key=t,this.attributes=a,this.undirected=e,this.source=n,this.target=r}ar.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},or.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},ir.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},sr.prototype.attach=function(){var e="out",t="in";this.undirected&&(e=t="undirected");var n=this.source.key,r=this.target.key;this.source[e][r]=this,this.undirected&&n===r||(this.target[t][n]=this)},sr.prototype.attachMulti=function(){var e="out",t="in",n=this.source.key,r=this.target.key;this.undirected&&(e=t="undirected");var a=this.source[e],o=a[r];if(void 0===o)return a[r]=this,void(this.undirected&&n===r||(this.target[t][n]=this));o.previous=this,this.next=o,a[r]=this,this.target[t][n]=this},sr.prototype.detach=function(){var e=this.source.key,t=this.target.key,n="out",r="in";this.undirected&&(n=r="undirected"),delete this.source[n][t],delete this.target[r][e]},sr.prototype.detachMulti=function(){var e=this.source.key,t=this.target.key,n="out",r="in";this.undirected&&(n=r="undirected"),void 0===this.previous?void 0===this.next?(delete this.source[n][t],delete this.target[r][e]):(this.next.previous=void 0,this.source[n][t]=this.next,this.target[r][e]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};function ur(e,t,n,r,a,o,i){var s,u,l,c;if(r=""+r,0===n){if(!(s=e._nodes.get(r)))throw new nr("Graph.".concat(t,': could not find the "').concat(r,'" node in the graph.'));l=a,c=o}else if(3===n){if(a=""+a,!(u=e._edges.get(a)))throw new nr("Graph.".concat(t,': could not find the "').concat(a,'" edge in the graph.'));var d=u.source.key,h=u.target.key;if(r===d)s=u.target;else{if(r!==h)throw new nr("Graph.".concat(t,': the "').concat(r,'" node is not attached to the "').concat(a,'" edge (').concat(d,", ").concat(h,")."));s=u.source}l=o,c=i}else{if(!(u=e._edges.get(r)))throw new nr("Graph.".concat(t,': could not find the "').concat(r,'" edge in the graph.'));s=1===n?u.source:u.target,l=a,c=o}return[s,l,c]}var lr=[{name:function(e){return"get".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,a){var o=l(ur(this,t,n,e,r,a),2),i=o[0],s=o[1];return i.attributes[s]}}},{name:function(e){return"get".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){return l(ur(this,t,n,e,r),1)[0].attributes}}},{name:function(e){return"has".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,a){var o=l(ur(this,t,n,e,r,a),2),i=o[0],s=o[1];return i.attributes.hasOwnProperty(s)}}},{name:function(e){return"set".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,a,o){var i=l(ur(this,t,n,e,r,a,o),3),s=i[0],u=i[1],c=i[2];return s.attributes[u]=c,this.emit("nodeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:u}),this}}},{name:function(e){return"update".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,a,o){var i=l(ur(this,t,n,e,r,a,o),3),s=i[0],u=i[1],c=i[2];if("function"!=typeof c)throw new tr("Graph.".concat(t,": updater should be a function."));var d=s.attributes,h=c(d[u]);return d[u]=h,this.emit("nodeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:u}),this}}},{name:function(e){return"remove".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,a){var o=l(ur(this,t,n,e,r,a),2),i=o[0],s=o[1];return delete i.attributes[s],this.emit("nodeAttributesUpdated",{key:i.key,type:"remove",attributes:i.attributes,name:s}),this}}},{name:function(e){return"replace".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r,a){var o=l(ur(this,t,n,e,r,a),2),i=o[0],s=o[1];if(!qn(s))throw new tr("Graph.".concat(t,": provided attributes are not a plain object."));return i.attributes=s,this.emit("nodeAttributesUpdated",{key:i.key,type:"replace",attributes:i.attributes}),this}}},{name:function(e){return"merge".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r,a){var o=l(ur(this,t,n,e,r,a),2),i=o[0],s=o[1];if(!qn(s))throw new tr("Graph.".concat(t,": provided attributes are not a plain object."));return Jn(i.attributes,s),this.emit("nodeAttributesUpdated",{key:i.key,type:"merge",attributes:i.attributes,data:s}),this}}},{name:function(e){return"update".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r,a){var o=l(ur(this,t,n,e,r,a),2),i=o[0],s=o[1];if("function"!=typeof s)throw new tr("Graph.".concat(t,": provided updater is not a function."));return i.attributes=s(i.attributes),this.emit("nodeAttributesUpdated",{key:i.key,type:"update",attributes:i.attributes}),this}}}];var cr=[{name:function(e){return"get".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var a;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new rr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new rr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,i=""+r;if(r=arguments[2],!(a=Yn(this,o,i,n)))throw new nr("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(i,'").'))}else{if("mixed"!==n)throw new rr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(a=this._edges.get(e)))throw new nr("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return a.attributes[r]}}},{name:function(e){return"get".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e){var r;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new rr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new rr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,o=""+arguments[1];if(!(r=Yn(this,a,o,n)))throw new nr("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(o,'").'))}else{if("mixed"!==n)throw new rr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(r=this._edges.get(e)))throw new nr("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return r.attributes}}},{name:function(e){return"has".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var a;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new rr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new rr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,i=""+r;if(r=arguments[2],!(a=Yn(this,o,i,n)))throw new nr("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(i,'").'))}else{if("mixed"!==n)throw new rr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(a=this._edges.get(e)))throw new nr("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return a.attributes.hasOwnProperty(r)}}},{name:function(e){return"set".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,a){var o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new rr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new rr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var i=""+e,s=""+r;if(r=arguments[2],a=arguments[3],!(o=Yn(this,i,s,n)))throw new nr("Graph.".concat(t,': could not find an edge for the given path ("').concat(i,'" - "').concat(s,'").'))}else{if("mixed"!==n)throw new rr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(o=this._edges.get(e)))throw new nr("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return o.attributes[r]=a,this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:r}),this}}},{name:function(e){return"update".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,a){var o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new rr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new rr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var i=""+e,s=""+r;if(r=arguments[2],a=arguments[3],!(o=Yn(this,i,s,n)))throw new nr("Graph.".concat(t,': could not find an edge for the given path ("').concat(i,'" - "').concat(s,'").'))}else{if("mixed"!==n)throw new rr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(o=this._edges.get(e)))throw new nr("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if("function"!=typeof a)throw new tr("Graph.".concat(t,": updater should be a function."));return o.attributes[r]=a(o.attributes[r]),this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:r}),this}}},{name:function(e){return"remove".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var a;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new rr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new rr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,i=""+r;if(r=arguments[2],!(a=Yn(this,o,i,n)))throw new nr("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(i,'").'))}else{if("mixed"!==n)throw new rr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(a=this._edges.get(e)))throw new nr("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return delete a.attributes[r],this.emit("edgeAttributesUpdated",{key:a.key,type:"remove",attributes:a.attributes,name:r}),this}}},{name:function(e){return"replace".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var a;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new rr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new rr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,i=""+r;if(r=arguments[2],!(a=Yn(this,o,i,n)))throw new nr("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(i,'").'))}else{if("mixed"!==n)throw new rr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(a=this._edges.get(e)))throw new nr("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if(!qn(r))throw new tr("Graph.".concat(t,": provided attributes are not a plain object."));return a.attributes=r,this.emit("edgeAttributesUpdated",{key:a.key,type:"replace",attributes:a.attributes}),this}}},{name:function(e){return"merge".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var a;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new rr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new rr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,i=""+r;if(r=arguments[2],!(a=Yn(this,o,i,n)))throw new nr("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(i,'").'))}else{if("mixed"!==n)throw new rr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(a=this._edges.get(e)))throw new nr("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if(!qn(r))throw new tr("Graph.".concat(t,": provided attributes are not a plain object."));return Jn(a.attributes,r),this.emit("edgeAttributesUpdated",{key:a.key,type:"merge",attributes:a.attributes,data:r}),this}}},{name:function(e){return"update".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var a;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new rr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new rr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,i=""+r;if(r=arguments[2],!(a=Yn(this,o,i,n)))throw new nr("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(i,'").'))}else{if("mixed"!==n)throw new rr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(a=this._edges.get(e)))throw new nr("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if("function"!=typeof r)throw new tr("Graph.".concat(t,": provided updater is not a function."));return a.attributes=r(a.attributes),this.emit("edgeAttributesUpdated",{key:a.key,type:"update",attributes:a.attributes}),this}}}];var dr=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function hr(e,t,n,r){var a=!1;for(var o in t)if(o!==r){var i=t[o];if(a=n(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),e&&a)return i.key}}function pr(e,t,n,r){var a,o,i,s=!1;for(var u in t)if(u!==r){a=t[u];do{if(o=a.source,i=a.target,s=n(a.key,a.attributes,o.key,i.key,o.attributes,i.attributes,a.undirected),e&&s)return a.key;a=a.next}while(void 0!==a)}}function fr(e,t){var n,r=Object.keys(e),a=r.length,o=0;return new Ln((function(){do{if(n)n=n.next;else{if(o>=a)return{done:!0};var i=r[o++];if(i===t){n=void 0;continue}n=e[i]}}while(!n);return{done:!1,value:{edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected}}}))}function gr(e,t,n,r){var a=t[n];if(a){var o=a.source,i=a.target;return r(a.key,a.attributes,o.key,i.key,o.attributes,i.attributes,a.undirected)&&e?a.key:void 0}}function mr(e,t,n,r){var a=t[n];if(a){var o=!1;do{if(o=r(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected),e&&o)return a.key;a=a.next}while(void 0!==a)}}function yr(e,t){var n=e[t];return void 0!==n.next?new Ln((function(){if(!n)return{done:!0};var e={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:e}})):Ln.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function vr(e,t){if(0===e.size)return[];if("mixed"===t||t===e.type)return"function"==typeof Array.from?Array.from(e._edges.keys()):Dn(e._edges.keys(),e._edges.size);for(var n,r,a="undirected"===t?e.undirectedSize:e.directedSize,o=new Array(a),i="undirected"===t,s=e._edges.values(),u=0;!0!==(n=s.next()).done;)(r=n.value).undirected===i&&(o[u++]=r.key);return o}function br(e,t,n,r){if(0!==t.size)for(var a,o,i="mixed"!==n&&n!==t.type,s="undirected"===n,u=!1,l=t._edges.values();!0!==(a=l.next()).done;)if(o=a.value,!i||o.undirected===s){var c=o,d=c.key,h=c.attributes,p=c.source,f=c.target;if(u=r(d,h,p.key,f.key,p.attributes,f.attributes,o.undirected),e&&u)return d}}function wr(e,t){if(0===e.size)return Ln.empty();var n="mixed"!==t&&t!==e.type,r="undirected"===t,a=e._edges.values();return new Ln((function(){for(var e,t;;){if((e=a.next()).done)return e;if(t=e.value,!n||t.undirected===r)break}return{value:{edge:t.key,attributes:t.attributes,source:t.source.key,target:t.target.key,sourceAttributes:t.source.attributes,targetAttributes:t.target.attributes,undirected:t.undirected},done:!1}}))}function xr(e,t,n,r,a,o){var i,s=t?pr:hr;if("undirected"!==n){if("out"!==r&&(i=s(e,a.in,o),e&&i))return i;if("in"!==r&&(i=s(e,a.out,o,r?void 0:a.key),e&&i))return i}if("directed"!==n&&(i=s(e,a.undirected,o),e&&i))return i}function kr(e,t,n,r){var a=[];return xr(!1,e,t,n,r,(function(e){a.push(e)})),a}function jr(e,t,n){var r=Ln.empty();return"undirected"!==e&&("out"!==t&&void 0!==n.in&&(r=Kn(r,fr(n.in))),"in"!==t&&void 0!==n.out&&(r=Kn(r,fr(n.out,t?void 0:n.key)))),"directed"!==e&&void 0!==n.undirected&&(r=Kn(r,fr(n.undirected))),r}function Sr(e,t,n,r,a,o,i){var s,u=n?mr:gr;if("undirected"!==t){if(void 0!==a.in&&"out"!==r&&(s=u(e,a.in,o,i),e&&s))return s;if(void 0!==a.out&&"in"!==r&&(r||a.key!==o)&&(s=u(e,a.out,o,i),e&&s))return s}if("directed"!==t&&void 0!==a.undirected&&(s=u(e,a.undirected,o,i),e&&s))return s}function _r(e,t,n,r,a){var o=[];return Sr(!1,e,t,n,r,a,(function(e){o.push(e)})),o}function zr(e,t,n,r){var a=Ln.empty();return"undirected"!==e&&(void 0!==n.in&&"out"!==t&&r in n.in&&(a=Kn(a,yr(n.in,r))),void 0!==n.out&&"in"!==t&&r in n.out&&(t||n.key!==r)&&(a=Kn(a,yr(n.out,r)))),"directed"!==e&&void 0!==n.undirected&&r in n.undirected&&(a=Kn(a,yr(n.undirected,r))),a}var Nr=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function Er(){this.A=null,this.B=null}function Fr(e,t,n,r,a){for(var o in r){var i=r[o],s=i.source,u=i.target,l=s===n?u:s;if(!t||!t.has(l.key)){var c=a(l.key,l.attributes);if(e&&c)return l.key}}}function Cr(e,t,n,r,a){if("mixed"!==t){if("undirected"===t)return Fr(e,null,r,r.undirected,a);if("string"==typeof n)return Fr(e,null,r,r[n],a)}var o,i=new Er;if("undirected"!==t){if("out"!==n){if(o=Fr(e,null,r,r.in,a),e&&o)return o;i.wrap(r.in)}if("in"!==n){if(o=Fr(e,i,r,r.out,a),e&&o)return o;i.wrap(r.out)}}if("directed"!==t&&(o=Fr(e,i,r,r.undirected,a),e&&o))return o}function Or(e,t,n){var r=Object.keys(n),a=r.length,o=0;return new Ln((function(){var i=null;do{if(o>=a)return e&&e.wrap(n),{done:!0};var s=n[r[o++]],u=s.source,l=s.target;i=u===t?l:u,e&&e.has(i.key)&&(i=null)}while(null===i);return{done:!1,value:{neighbor:i.key,attributes:i.attributes}}}))}function Ar(e,t){var n=t.name,r=t.type,a=t.direction;e.prototype[n]=function(e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];e=""+e;var t=this._nodes.get(e);if(void 0===t)throw new nr("Graph.".concat(n,': could not find the "').concat(e,'" node in the graph.'));return function(e,t,n){if("mixed"!==e){if("undirected"===e)return Object.keys(n.undirected);if("string"==typeof t)return Object.keys(n[t])}var r=[];return Cr(!1,e,t,n,(function(e){r.push(e)})),r}("mixed"===r?this.type:r,a,t)}}function Lr(e,t){var n=t.name,r=t.type,a=t.direction,o=n.slice(0,-1)+"Entries";e.prototype[o]=function(e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return Ln.empty();e=""+e;var t=this._nodes.get(e);if(void 0===t)throw new nr("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return function(e,t,n){if("mixed"!==e){if("undirected"===e)return Or(null,n,n.undirected);if("string"==typeof t)return Or(null,n,n[t])}var r=Ln.empty(),a=new Er;return"undirected"!==e&&("out"!==t&&(r=Kn(r,Or(a,n,n.in))),"in"!==t&&(r=Kn(r,Or(a,n,n.out)))),"directed"!==e&&(r=Kn(r,Or(a,n,n.undirected))),r}("mixed"===r?this.type:r,a,t)}}function Tr(e,t,n,r,a){for(var o,i,s,u,l,c,d,h=r._nodes.values(),p=r.type;!0!==(o=h.next()).done;){var f=!1;if(i=o.value,"undirected"!==p)for(s in u=i.out){l=u[s];do{if(c=l.target,f=!0,d=a(i.key,c.key,i.attributes,c.attributes,l.key,l.attributes,l.undirected),e&&d)return l;l=l.next}while(l)}if("directed"!==p)for(s in u=i.undirected)if(!(t&&i.key>s)){l=u[s];do{if((c=l.target).key!==s&&(c=l.source),f=!0,d=a(i.key,c.key,i.attributes,c.attributes,l.key,l.attributes,l.undirected),e&&d)return l;l=l.next}while(l)}if(n&&!f&&(d=a(i.key,null,i.attributes,null,null,null,null),e&&d))return null}}function Hr(e){if(!qn(e))throw new tr('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in e))throw new tr("Graph.import: serialized node is missing its key.");if("attributes"in e&&(!qn(e.attributes)||null===e.attributes))throw new tr("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function Rr(e){if(!qn(e))throw new tr('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in e))throw new tr("Graph.import: serialized edge is missing its source.");if(!("target"in e))throw new tr("Graph.import: serialized edge is missing its target.");if("attributes"in e&&(!qn(e.attributes)||null===e.attributes))throw new tr("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in e&&"boolean"!=typeof e.undirected)throw new tr("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}Er.prototype.wrap=function(e){null===this.A?this.A=e:null===this.B&&(this.B=e)},Er.prototype.has=function(e){return null!==this.A&&e in this.A||null!==this.B&&e in this.B};var Mr,Pr=(Mr=255&Math.floor(256*Math.random()),function(){return Mr++}),Gr=new Set(["directed","undirected","mixed"]),Ir=new Set(["domain","_events","_eventsCount","_maxListeners"]),Br={allowSelfLoops:!0,multi:!1,type:"mixed"};function Dr(e,t,n){var r=new e.NodeDataClass(t,n);return e._nodes.set(t,r),e.emit("nodeAdded",{key:t,attributes:n}),r}function Ur(e,t,n,r,a,o,i,s){if(!r&&"undirected"===e.type)throw new rr("Graph.".concat(t,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(r&&"directed"===e.type)throw new rr("Graph.".concat(t,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(s&&!qn(s))throw new tr("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(s,'"'));if(o=""+o,i=""+i,s=s||{},!e.allowSelfLoops&&o===i)throw new rr("Graph.".concat(t,': source & target are the same ("').concat(o,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var u=e._nodes.get(o),l=e._nodes.get(i);if(!u)throw new nr("Graph.".concat(t,': source node "').concat(o,'" not found.'));if(!l)throw new nr("Graph.".concat(t,': target node "').concat(i,'" not found.'));var c={key:null,undirected:r,source:o,target:i,attributes:s};if(n)a=e._edgeKeyGenerator();else if(a=""+a,e._edges.has(a))throw new rr("Graph.".concat(t,': the "').concat(a,'" edge already exists in the graph.'));if(!e.multi&&(r?void 0!==u.undirected[i]:void 0!==u.out[i]))throw new rr("Graph.".concat(t,': an edge linking "').concat(o,'" to "').concat(i,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var d=new sr(r,a,u,l,s);e._edges.set(a,d);var h=o===i;return r?(u.undirectedDegree++,l.undirectedDegree++,h&&(u.undirectedLoops++,e._undirectedSelfLoopCount++)):(u.outDegree++,l.inDegree++,h&&(u.directedLoops++,e._directedSelfLoopCount++)),e.multi?d.attachMulti():d.attach(),r?e._undirectedSize++:e._directedSize++,c.key=a,e.emit("edgeAdded",c),a}function Vr(e,t,n,r,a,o,i,s,u){if(!r&&"undirected"===e.type)throw new rr("Graph.".concat(t,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(r&&"directed"===e.type)throw new rr("Graph.".concat(t,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if(s)if(u){if("function"!=typeof s)throw new tr("Graph.".concat(t,': invalid updater function. Expecting a function but got "').concat(s,'"'))}else if(!qn(s))throw new tr("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(s,'"'));var l;if(o=""+o,i=""+i,u&&(l=s,s=void 0),!e.allowSelfLoops&&o===i)throw new rr("Graph.".concat(t,': source & target are the same ("').concat(o,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var c,d,h=e._nodes.get(o),p=e._nodes.get(i);if(!n&&(c=e._edges.get(a))){if(!(c.source.key===o&&c.target.key===i||r&&c.source.key===i&&c.target.key===o))throw new rr("Graph.".concat(t,': inconsistency detected when attempting to merge the "').concat(a,'" edge with "').concat(o,'" source & "').concat(i,'" target vs. ("').concat(c.source.key,'", "').concat(c.target.key,'").'));d=c}if(d||e.multi||!h||(d=r?h.undirected[i]:h.out[i]),d){var f=[d.key,!1,!1,!1];if(u?!l:!s)return f;if(u){var g=d.attributes;d.attributes=l(g),e.emit("edgeAttributesUpdated",{type:"replace",key:d.key,attributes:d.attributes})}else Jn(d.attributes,s),e.emit("edgeAttributesUpdated",{type:"merge",key:d.key,attributes:d.attributes,data:s});return f}s=s||{},u&&l&&(s=l(s));var m={key:null,undirected:r,source:o,target:i,attributes:s};if(n)a=e._edgeKeyGenerator();else if(a=""+a,e._edges.has(a))throw new rr("Graph.".concat(t,': the "').concat(a,'" edge already exists in the graph.'));var y=!1,v=!1;h||(h=Dr(e,o,{}),y=!0,o===i&&(p=h,v=!0)),p||(p=Dr(e,i,{}),v=!0),c=new sr(r,a,h,p,s),e._edges.set(a,c);var b=o===i;return r?(h.undirectedDegree++,p.undirectedDegree++,b&&(h.undirectedLoops++,e._undirectedSelfLoopCount++)):(h.outDegree++,p.inDegree++,b&&(h.directedLoops++,e._directedSelfLoopCount++)),e.multi?c.attachMulti():c.attach(),r?e._undirectedSize++:e._directedSize++,m.key=a,e.emit("edgeAdded",m),[a,!0,y,v]}function Wr(e,t){e._edges.delete(t.key);var n=t.source,r=t.target,a=t.attributes,o=t.undirected,i=n===r;o?(n.undirectedDegree--,r.undirectedDegree--,i&&(n.undirectedLoops--,e._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,i&&(n.directedLoops--,e._directedSelfLoopCount--)),e.multi?t.detachMulti():t.detach(),o?e._undirectedSize--:e._directedSize--,e.emit("edgeDropped",{key:t.key,attributes:a,source:n.key,target:r.key,undirected:o})}var Kr=function(e){f(n,e);var t=m(n);function n(e){var r;if(S(this,n),r=t.call(this),"boolean"!=typeof(e=Jn({},Br,e)).multi)throw new tr("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(e.multi,'".'));if(!Gr.has(e.type))throw new tr('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(e.type,'".'));if("boolean"!=typeof e.allowSelfLoops)throw new tr("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(e.allowSelfLoops,'".'));var a="mixed"===e.type?ar:"directed"===e.type?or:ir;Qn(v(r),"NodeDataClass",a);var o="geid_"+Pr()+"_",i=0;return Qn(v(r),"_attributes",{}),Qn(v(r),"_nodes",new Map),Qn(v(r),"_edges",new Map),Qn(v(r),"_directedSize",0),Qn(v(r),"_undirectedSize",0),Qn(v(r),"_directedSelfLoopCount",0),Qn(v(r),"_undirectedSelfLoopCount",0),Qn(v(r),"_edgeKeyGenerator",(function(){var e;do{e=o+i++}while(r._edges.has(e));return e})),Qn(v(r),"_options",e),Ir.forEach((function(e){return Qn(v(r),e,r[e])})),Xn(v(r),"order",(function(){return r._nodes.size})),Xn(v(r),"size",(function(){return r._edges.size})),Xn(v(r),"directedSize",(function(){return r._directedSize})),Xn(v(r),"undirectedSize",(function(){return r._undirectedSize})),Xn(v(r),"selfLoopCount",(function(){return r._directedSelfLoopCount+r._undirectedSelfLoopCount})),Xn(v(r),"directedSelfLoopCount",(function(){return r._directedSelfLoopCount})),Xn(v(r),"undirectedSelfLoopCount",(function(){return r._undirectedSelfLoopCount})),Xn(v(r),"multi",r._options.multi),Xn(v(r),"type",r._options.type),Xn(v(r),"allowSelfLoops",r._options.allowSelfLoops),Xn(v(r),"implementation",(function(){return"graphology"})),r}return z(n,[{key:"_resetInstanceCounters",value:function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}},{key:"hasNode",value:function(e){return this._nodes.has(""+e)}},{key:"hasDirectedEdge",value:function(e,t){if("undirected"===this.type)return!1;if(1===arguments.length){var n=""+e,r=this._edges.get(n);return!!r&&!r.undirected}if(2===arguments.length){e=""+e,t=""+t;var a=this._nodes.get(e);return!!a&&a.out.hasOwnProperty(t)}throw new tr("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))}},{key:"hasUndirectedEdge",value:function(e,t){if("directed"===this.type)return!1;if(1===arguments.length){var n=""+e,r=this._edges.get(n);return!!r&&r.undirected}if(2===arguments.length){e=""+e,t=""+t;var a=this._nodes.get(e);return!!a&&a.undirected.hasOwnProperty(t)}throw new tr("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))}},{key:"hasEdge",value:function(e,t){if(1===arguments.length){var n=""+e;return this._edges.has(n)}if(2===arguments.length){e=""+e,t=""+t;var r=this._nodes.get(e);return!!r&&(void 0!==r.out&&r.out.hasOwnProperty(t)||void 0!==r.undirected&&r.undirected.hasOwnProperty(t))}throw new tr("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))}},{key:"directedEdge",value:function(e,t){if("undirected"!==this.type){if(e=""+e,t=""+t,this.multi)throw new rr("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var n=this._nodes.get(e);if(!n)throw new nr('Graph.directedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new nr('Graph.directedEdge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.out&&n.out[t]||void 0;return r?r.key:void 0}}},{key:"undirectedEdge",value:function(e,t){if("directed"!==this.type){if(e=""+e,t=""+t,this.multi)throw new rr("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var n=this._nodes.get(e);if(!n)throw new nr('Graph.undirectedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new nr('Graph.undirectedEdge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.undirected&&n.undirected[t]||void 0;return r?r.key:void 0}}},{key:"edge",value:function(e,t){if(this.multi)throw new rr("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new nr('Graph.edge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new nr('Graph.edge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.out&&n.out[t]||n.undirected&&n.undirected[t]||void 0;if(r)return r.key}},{key:"areDirectedNeighbors",value:function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new nr('Graph.areDirectedNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&(t in n.in||t in n.out)}},{key:"areOutNeighbors",value:function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new nr('Graph.areOutNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.out}},{key:"areInNeighbors",value:function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new nr('Graph.areInNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.in}},{key:"areUndirectedNeighbors",value:function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new nr('Graph.areUndirectedNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"directed"!==this.type&&t in n.undirected}},{key:"areNeighbors",value:function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new nr('Graph.areNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&(t in n.in||t in n.out)||"directed"!==this.type&&t in n.undirected}},{key:"areInboundNeighbors",value:function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new nr('Graph.areInboundNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.in||"directed"!==this.type&&t in n.undirected}},{key:"areOutboundNeighbors",value:function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new nr('Graph.areOutboundNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.out||"directed"!==this.type&&t in n.undirected}},{key:"inDegree",value:function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new nr('Graph.inDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree}},{key:"outDegree",value:function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new nr('Graph.outDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.outDegree}},{key:"directedDegree",value:function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new nr('Graph.directedDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree+t.outDegree}},{key:"undirectedDegree",value:function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new nr('Graph.undirectedDegree: could not find the "'.concat(e,'" node in the graph.'));return"directed"===this.type?0:t.undirectedDegree}},{key:"inboundDegree",value:function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new nr('Graph.inboundDegree: could not find the "'.concat(e,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=t.undirectedDegree),"undirected"!==this.type&&(n+=t.inDegree),n}},{key:"outboundDegree",value:function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new nr('Graph.outboundDegree: could not find the "'.concat(e,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=t.undirectedDegree),"undirected"!==this.type&&(n+=t.outDegree),n}},{key:"degree",value:function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new nr('Graph.degree: could not find the "'.concat(e,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=t.undirectedDegree),"undirected"!==this.type&&(n+=t.inDegree+t.outDegree),n}},{key:"inDegreeWithoutSelfLoops",value:function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new nr('Graph.inDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree-t.directedLoops}},{key:"outDegreeWithoutSelfLoops",value:function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new nr('Graph.outDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.outDegree-t.directedLoops}},{key:"directedDegreeWithoutSelfLoops",value:function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new nr('Graph.directedDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree+t.outDegree-2*t.directedLoops}},{key:"undirectedDegreeWithoutSelfLoops",value:function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new nr('Graph.undirectedDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"directed"===this.type?0:t.undirectedDegree-2*t.undirectedLoops}},{key:"inboundDegreeWithoutSelfLoops",value:function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new nr('Graph.inboundDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=t.undirectedDegree,r+=2*t.undirectedLoops),"undirected"!==this.type&&(n+=t.inDegree,r+=t.directedLoops),n-r}},{key:"outboundDegreeWithoutSelfLoops",value:function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new nr('Graph.outboundDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=t.undirectedDegree,r+=2*t.undirectedLoops),"undirected"!==this.type&&(n+=t.outDegree,r+=t.directedLoops),n-r}},{key:"degreeWithoutSelfLoops",value:function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new nr('Graph.degreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=t.undirectedDegree,r+=2*t.undirectedLoops),"undirected"!==this.type&&(n+=t.inDegree+t.outDegree,r+=2*t.directedLoops),n-r}},{key:"source",value:function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new nr('Graph.source: could not find the "'.concat(e,'" edge in the graph.'));return t.source.key}},{key:"target",value:function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new nr('Graph.target: could not find the "'.concat(e,'" edge in the graph.'));return t.target.key}},{key:"extremities",value:function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new nr('Graph.extremities: could not find the "'.concat(e,'" edge in the graph.'));return[t.source.key,t.target.key]}},{key:"opposite",value:function(e,t){e=""+e,t=""+t;var n=this._edges.get(t);if(!n)throw new nr('Graph.opposite: could not find the "'.concat(t,'" edge in the graph.'));var r=n.source.key,a=n.target.key;if(e===r)return a;if(e===a)return r;throw new nr('Graph.opposite: the "'.concat(e,'" node is not attached to the "').concat(t,'" edge (').concat(r,", ").concat(a,")."))}},{key:"hasExtremity",value:function(e,t){e=""+e,t=""+t;var n=this._edges.get(e);if(!n)throw new nr('Graph.hasExtremity: could not find the "'.concat(e,'" edge in the graph.'));return n.source.key===t||n.target.key===t}},{key:"isUndirected",value:function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new nr('Graph.isUndirected: could not find the "'.concat(e,'" edge in the graph.'));return t.undirected}},{key:"isDirected",value:function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new nr('Graph.isDirected: could not find the "'.concat(e,'" edge in the graph.'));return!t.undirected}},{key:"isSelfLoop",value:function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new nr('Graph.isSelfLoop: could not find the "'.concat(e,'" edge in the graph.'));return t.source===t.target}},{key:"addNode",value:function(e,t){var n=function(e,t,n){if(n&&!qn(n))throw new tr('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(n,'"'));if(t=""+t,n=n||{},e._nodes.has(t))throw new rr('Graph.addNode: the "'.concat(t,'" node already exist in the graph.'));var r=new e.NodeDataClass(t,n);return e._nodes.set(t,r),e.emit("nodeAdded",{key:t,attributes:n}),r}(this,e,t);return n.key}},{key:"mergeNode",value:function(e,t){if(t&&!qn(t))throw new tr('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(t,'"'));e=""+e,t=t||{};var n=this._nodes.get(e);return n?(t&&(Jn(n.attributes,t),this.emit("nodeAttributesUpdated",{type:"merge",key:e,attributes:n.attributes,data:t})),[e,!1]):(n=new this.NodeDataClass(e,t),this._nodes.set(e,n),this.emit("nodeAdded",{key:e,attributes:t}),[e,!0])}},{key:"updateNode",value:function(e,t){if(t&&"function"!=typeof t)throw new tr('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(t,'"'));e=""+e;var n=this._nodes.get(e);if(n){if(t){var r=n.attributes;n.attributes=t(r),this.emit("nodeAttributesUpdated",{type:"replace",key:e,attributes:n.attributes})}return[e,!1]}var a=t?t({}):{};return n=new this.NodeDataClass(e,a),this._nodes.set(e,n),this.emit("nodeAdded",{key:e,attributes:a}),[e,!0]}},{key:"dropNode",value:function(e){e=""+e;var t,n=this._nodes.get(e);if(!n)throw new nr('Graph.dropNode: could not find the "'.concat(e,'" node in the graph.'));if("undirected"!==this.type){for(var r in n.out){t=n.out[r];do{Wr(this,t),t=t.next}while(t)}for(var a in n.in){t=n.in[a];do{Wr(this,t),t=t.next}while(t)}}if("directed"!==this.type)for(var o in n.undirected){t=n.undirected[o];do{Wr(this,t),t=t.next}while(t)}this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:n.attributes})}},{key:"dropEdge",value:function(e){var t;if(arguments.length>1){var n=""+arguments[0],r=""+arguments[1];if(!(t=Yn(this,n,r,this.type)))throw new nr('Graph.dropEdge: could not find the "'.concat(n,'" -> "').concat(r,'" edge in the graph.'))}else if(e=""+e,!(t=this._edges.get(e)))throw new nr('Graph.dropEdge: could not find the "'.concat(e,'" edge in the graph.'));return Wr(this,t),this}},{key:"dropDirectedEdge",value:function(e,t){if(arguments.length<2)throw new rr("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new rr("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var n=Yn(this,e=""+e,t=""+t,"directed");if(!n)throw new nr('Graph.dropDirectedEdge: could not find a "'.concat(e,'" -> "').concat(t,'" edge in the graph.'));return Wr(this,n),this}},{key:"dropUndirectedEdge",value:function(e,t){if(arguments.length<2)throw new rr("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new rr("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var n=Yn(this,e,t,"undirected");if(!n)throw new nr('Graph.dropUndirectedEdge: could not find a "'.concat(e,'" -> "').concat(t,'" edge in the graph.'));return Wr(this,n),this}},{key:"clear",value:function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}},{key:"clearEdges",value:function(){for(var e,t=this._nodes.values();!0!==(e=t.next()).done;)e.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}},{key:"getAttribute",value:function(e){return this._attributes[e]}},{key:"getAttributes",value:function(){return this._attributes}},{key:"hasAttribute",value:function(e){return this._attributes.hasOwnProperty(e)}},{key:"setAttribute",value:function(e,t){return this._attributes[e]=t,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}},{key:"updateAttribute",value:function(e,t){if("function"!=typeof t)throw new tr("Graph.updateAttribute: updater should be a function.");var n=this._attributes[e];return this._attributes[e]=t(n),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}},{key:"removeAttribute",value:function(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:e}),this}},{key:"replaceAttributes",value:function(e){if(!qn(e))throw new tr("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=e,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}},{key:"mergeAttributes",value:function(e){if(!qn(e))throw new tr("Graph.mergeAttributes: provided attributes are not a plain object.");return Jn(this._attributes,e),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:e}),this}},{key:"updateAttributes",value:function(e){if("function"!=typeof e)throw new tr("Graph.updateAttributes: provided updater is not a function.");return this._attributes=e(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}},{key:"updateEachNodeAttributes",value:function(e,t){if("function"!=typeof e)throw new tr("Graph.updateEachNodeAttributes: expecting an updater function.");if(t&&!$n(t))throw new tr("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var n,r,a=this._nodes.values();!0!==(n=a.next()).done;)(r=n.value).attributes=e(r.key,r.attributes);this.emit("eachNodeAttributesUpdated",{hints:t||null})}},{key:"updateEachEdgeAttributes",value:function(e,t){if("function"!=typeof e)throw new tr("Graph.updateEachEdgeAttributes: expecting an updater function.");if(t&&!$n(t))throw new tr("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var n,r,a,o,i=this._edges.values();!0!==(n=i.next()).done;)a=(r=n.value).source,o=r.target,r.attributes=e(r.key,r.attributes,a.key,o.key,a.attributes,o.attributes,r.undirected);this.emit("eachEdgeAttributesUpdated",{hints:t||null})}},{key:"forEachAdjacencyEntry",value:function(e){if("function"!=typeof e)throw new tr("Graph.forEachAdjacencyEntry: expecting a callback.");Tr(!1,!1,!1,this,e)}},{key:"forEachAdjacencyEntryWithOrphans",value:function(e){if("function"!=typeof e)throw new tr("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");Tr(!1,!1,!0,this,e)}},{key:"forEachAssymetricAdjacencyEntry",value:function(e){if("function"!=typeof e)throw new tr("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");Tr(!1,!0,!1,this,e)}},{key:"forEachAssymetricAdjacencyEntryWithOrphans",value:function(e){if("function"!=typeof e)throw new tr("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");Tr(!1,!0,!0,this,e)}},{key:"nodes",value:function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):Dn(this._nodes.keys(),this._nodes.size)}},{key:"forEachNode",value:function(e){if("function"!=typeof e)throw new tr("Graph.forEachNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)e((n=t.value).key,n.attributes)}},{key:"findNode",value:function(e){if("function"!=typeof e)throw new tr("Graph.findNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)if(e((n=t.value).key,n.attributes))return n.key}},{key:"mapNodes",value:function(e){if("function"!=typeof e)throw new tr("Graph.mapNode: expecting a callback.");for(var t,n,r=this._nodes.values(),a=new Array(this.order),o=0;!0!==(t=r.next()).done;)n=t.value,a[o++]=e(n.key,n.attributes);return a}},{key:"someNode",value:function(e){if("function"!=typeof e)throw new tr("Graph.someNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)if(e((n=t.value).key,n.attributes))return!0;return!1}},{key:"everyNode",value:function(e){if("function"!=typeof e)throw new tr("Graph.everyNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)if(!e((n=t.value).key,n.attributes))return!1;return!0}},{key:"filterNodes",value:function(e){if("function"!=typeof e)throw new tr("Graph.filterNodes: expecting a callback.");for(var t,n,r=this._nodes.values(),a=[];!0!==(t=r.next()).done;)e((n=t.value).key,n.attributes)&&a.push(n.key);return a}},{key:"reduceNodes",value:function(e,t){if("function"!=typeof e)throw new tr("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new tr("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");for(var n,r,a=t,o=this._nodes.values();!0!==(n=o.next()).done;)a=e(a,(r=n.value).key,r.attributes);return a}},{key:"nodeEntries",value:function(){var e=this._nodes.values();return new Ln((function(){var t=e.next();if(t.done)return t;var n=t.value;return{value:{node:n.key,attributes:n.attributes},done:!1}}))}},{key:"export",value:function(){var e=this,t=new Array(this._nodes.size),n=0;this._nodes.forEach((function(e,r){t[n++]=function(e,t){var n={key:e};return Zn(t.attributes)||(n.attributes=Jn({},t.attributes)),n}(r,e)}));var r=new Array(this._edges.size);return n=0,this._edges.forEach((function(t,a){r[n++]=function(e,t,n){var r={key:t,source:n.source.key,target:n.target.key};return Zn(n.attributes)||(r.attributes=Jn({},n.attributes)),"mixed"===e&&n.undirected&&(r.undirected=!0),r}(e.type,a,t)})),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:t,edges:r}}},{key:"import",value:function(e){var t,r,a,o,i,s=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e instanceof n)return e.forEachNode((function(e,t){u?s.mergeNode(e,t):s.addNode(e,t)})),e.forEachEdge((function(e,t,n,r,a,o,i){u?i?s.mergeUndirectedEdgeWithKey(e,n,r,t):s.mergeDirectedEdgeWithKey(e,n,r,t):i?s.addUndirectedEdgeWithKey(e,n,r,t):s.addDirectedEdgeWithKey(e,n,r,t)})),this;if(!qn(e))throw new tr("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!qn(e.attributes))throw new tr("Graph.import: invalid attributes. Expecting a plain object.");u?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}if(e.nodes){if(a=e.nodes,!Array.isArray(a))throw new tr("Graph.import: invalid nodes. Expecting an array.");for(t=0,r=a.length;t<r;t++){Hr(o=a[t]);var l=o,c=l.key,d=l.attributes;u?this.mergeNode(c,d):this.addNode(c,d)}}if(e.edges){var h=!1;if("undirected"===this.type&&(h=!0),a=e.edges,!Array.isArray(a))throw new tr("Graph.import: invalid edges. Expecting an array.");for(t=0,r=a.length;t<r;t++){Rr(i=a[t]);var p=i,f=p.source,g=p.target,m=p.attributes,y=p.undirected,v=void 0===y?h:y;"key"in i?(u?v?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:v?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,i.key,f,g,m):(u?v?this.mergeUndirectedEdge:this.mergeDirectedEdge:v?this.addUndirectedEdge:this.addDirectedEdge).call(this,f,g,m)}}return this}},{key:"nullCopy",value:function(e){var t=new n(Jn({},this._options,e));return t.replaceAttributes(Jn({},this.getAttributes())),t}},{key:"emptyCopy",value:function(e){var t=this.nullCopy(e);return this._nodes.forEach((function(e,n){var r=Jn({},e.attributes);e=new t.NodeDataClass(n,r),t._nodes.set(n,e)})),t}},{key:"copy",value:function(e){if("string"==typeof(e=e||{}).type&&e.type!==this.type&&"mixed"!==e.type)throw new rr('Graph.copy: cannot create an incompatible copy from "'.concat(this.type,'" type to "').concat(e.type,'" because this would mean losing information about the current graph.'));if("boolean"==typeof e.multi&&e.multi!==this.multi&&!0!==e.multi)throw new rr("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if("boolean"==typeof e.allowSelfLoops&&e.allowSelfLoops!==this.allowSelfLoops&&!0!==e.allowSelfLoops)throw new rr("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");for(var t,n,r=this.emptyCopy(e),a=this._edges.values();!0!==(t=a.next()).done;)Ur(r,"copy",!1,(n=t.value).undirected,n.key,n.source.key,n.target.key,Jn({},n.attributes));return r}},{key:"toJSON",value:function(){return this.export()}},{key:"toString",value:function(){return"[object Graph]"}},{key:"inspect",value:function(){var e=this,t={};this._nodes.forEach((function(e,n){t[n]=e.attributes}));var n={},r={};this._edges.forEach((function(t,a){var o,i=t.undirected?"--":"->",s="",u=t.source.key,l=t.target.key;t.undirected&&u>l&&(o=u,u=l,l=o);var c="(".concat(u,")").concat(i,"(").concat(l,")");a.startsWith("geid_")?e.multi&&(void 0===r[c]?r[c]=0:r[c]++,s+="".concat(r[c],". ")):s+="[".concat(a,"]: "),n[s+=c]=t.attributes}));var a={};for(var o in this)this.hasOwnProperty(o)&&!Ir.has(o)&&"function"!=typeof this[o]&&"symbol"!==p(o)&&(a[o]=this[o]);return a.attributes=this._attributes,a.nodes=t,a.edges=n,Qn(a,"constructor",this.constructor),a}}]),n}(Cn.EventEmitter);"undefined"!=typeof Symbol&&(Kr.prototype[Symbol.for("nodejs.util.inspect.custom")]=Kr.prototype.inspect),[{name:function(e){return"".concat(e,"Edge")},generateKey:!0},{name:function(e){return"".concat(e,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(e){return"".concat(e,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(e){return"".concat(e,"EdgeWithKey")}},{name:function(e){return"".concat(e,"DirectedEdgeWithKey")},type:"directed"},{name:function(e){return"".concat(e,"UndirectedEdgeWithKey")},type:"undirected"}].forEach((function(e){["add","merge","update"].forEach((function(t){var n=e.name(t),r="add"===t?Ur:Vr;e.generateKey?Kr.prototype[n]=function(a,o,i){return r(this,n,!0,"undirected"===(e.type||this.type),null,a,o,i,"update"===t)}:Kr.prototype[n]=function(a,o,i,s){return r(this,n,!1,"undirected"===(e.type||this.type),a,o,i,s,"update"===t)}}))})),function(e){lr.forEach((function(t){var n=t.name,r=t.attacher;r(e,n("Node"),0),r(e,n("Source"),1),r(e,n("Target"),2),r(e,n("Opposite"),3)}))}(Kr),function(e){cr.forEach((function(t){var n=t.name,r=t.attacher;r(e,n("Edge"),"mixed"),r(e,n("DirectedEdge"),"directed"),r(e,n("UndirectedEdge"),"undirected")}))}(Kr),function(e){dr.forEach((function(t){!function(e,t){var n=t.name,r=t.type,a=t.direction;e.prototype[n]=function(e,t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];if(!arguments.length)return vr(this,r);if(1===arguments.length){e=""+e;var o=this._nodes.get(e);if(void 0===o)throw new nr("Graph.".concat(n,': could not find the "').concat(e,'" node in the graph.'));return kr(this.multi,"mixed"===r?this.type:r,a,o)}if(2===arguments.length){e=""+e,t=""+t;var i=this._nodes.get(e);if(!i)throw new nr("Graph.".concat(n,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new nr("Graph.".concat(n,':  could not find the "').concat(t,'" target node in the graph.'));return _r(r,this.multi,a,i,t)}throw new tr("Graph.".concat(n,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(e,t),function(e,t){var n=t.name,r=t.type,a=t.direction,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(e,t,n){if("mixed"===r||"mixed"===this.type||r===this.type){if(1===arguments.length)return br(!1,this,r,n=e);if(2===arguments.length){e=""+e,n=t;var i=this._nodes.get(e);if(void 0===i)throw new nr("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return xr(!1,this.multi,"mixed"===r?this.type:r,a,i,n)}if(3===arguments.length){e=""+e,t=""+t;var s=this._nodes.get(e);if(!s)throw new nr("Graph.".concat(o,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new nr("Graph.".concat(o,':  could not find the "').concat(t,'" target node in the graph.'));return Sr(!1,r,this.multi,a,s,t,n)}throw new tr("Graph.".concat(o,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};var i="map"+n[0].toUpperCase()+n.slice(1);e.prototype[i]=function(){var e,t=Array.prototype.slice.call(arguments),n=t.pop();if(0===t.length){var a=0;"directed"!==r&&(a+=this.undirectedSize),"undirected"!==r&&(a+=this.directedSize),e=new Array(a);var i=0;t.push((function(t,r,a,o,s,u,l){e[i++]=n(t,r,a,o,s,u,l)}))}else e=[],t.push((function(t,r,a,o,i,s,u){e.push(n(t,r,a,o,i,s,u))}));return this[o].apply(this,t),e};var s="filter"+n[0].toUpperCase()+n.slice(1);e.prototype[s]=function(){var e=Array.prototype.slice.call(arguments),t=e.pop(),n=[];return e.push((function(e,r,a,o,i,s,u){t(e,r,a,o,i,s,u)&&n.push(e)})),this[o].apply(this,e),n};var u="reduce"+n[0].toUpperCase()+n.slice(1);e.prototype[u]=function(){var e,t,n=Array.prototype.slice.call(arguments);if(n.length<2||n.length>4)throw new tr("Graph.".concat(u,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(n.length,")."));if("function"==typeof n[n.length-1]&&"function"!=typeof n[n.length-2])throw new tr("Graph.".concat(u,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));2===n.length?(e=n[0],t=n[1],n=[]):3===n.length?(e=n[1],t=n[2],n=[n[0]]):4===n.length&&(e=n[2],t=n[3],n=[n[0],n[1]]);var r=t;return n.push((function(t,n,a,o,i,s,u){r=e(r,t,n,a,o,i,s,u)})),this[o].apply(this,n),r}}(e,t),function(e,t){var n=t.name,r=t.type,a=t.direction,o="find"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(e,t,n){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return!1;if(1===arguments.length)return br(!0,this,r,n=e);if(2===arguments.length){e=""+e,n=t;var i=this._nodes.get(e);if(void 0===i)throw new nr("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return xr(!0,this.multi,"mixed"===r?this.type:r,a,i,n)}if(3===arguments.length){e=""+e,t=""+t;var s=this._nodes.get(e);if(!s)throw new nr("Graph.".concat(o,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new nr("Graph.".concat(o,':  could not find the "').concat(t,'" target node in the graph.'));return Sr(!0,r,this.multi,a,s,t,n)}throw new tr("Graph.".concat(o,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};var i="some"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[i]=function(){var e=Array.prototype.slice.call(arguments),t=e.pop();return e.push((function(e,n,r,a,o,i,s){return t(e,n,r,a,o,i,s)})),!!this[o].apply(this,e)};var s="every"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[s]=function(){var e=Array.prototype.slice.call(arguments),t=e.pop();return e.push((function(e,n,r,a,o,i,s){return!t(e,n,r,a,o,i,s)})),!this[o].apply(this,e)}}(e,t),function(e,t){var n=t.name,r=t.type,a=t.direction,o=n.slice(0,-1)+"Entries";e.prototype[o]=function(e,t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return Ln.empty();if(!arguments.length)return wr(this,r);if(1===arguments.length){e=""+e;var n=this._nodes.get(e);if(!n)throw new nr("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return jr(r,a,n)}if(2===arguments.length){e=""+e,t=""+t;var i=this._nodes.get(e);if(!i)throw new nr("Graph.".concat(o,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new nr("Graph.".concat(o,':  could not find the "').concat(t,'" target node in the graph.'));return zr(r,a,i,t)}throw new tr("Graph.".concat(o,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(e,t)}))}(Kr),function(e){Nr.forEach((function(t){Ar(e,t),function(e,t){var n=t.name,r=t.type,a=t.direction,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(e,t){if("mixed"===r||"mixed"===this.type||r===this.type){e=""+e;var n=this._nodes.get(e);if(void 0===n)throw new nr("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));Cr(!1,"mixed"===r?this.type:r,a,n,t)}};var i="map"+n[0].toUpperCase()+n.slice(1);e.prototype[i]=function(e,t){var n=[];return this[o](e,(function(e,r){n.push(t(e,r))})),n};var s="filter"+n[0].toUpperCase()+n.slice(1);e.prototype[s]=function(e,t){var n=[];return this[o](e,(function(e,r){t(e,r)&&n.push(e)})),n};var u="reduce"+n[0].toUpperCase()+n.slice(1);e.prototype[u]=function(e,t,n){if(arguments.length<3)throw new tr("Graph.".concat(u,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var r=n;return this[o](e,(function(e,n){r=t(r,e,n)})),r}}(e,t),function(e,t){var n=t.name,r=t.type,a=t.direction,o=n[0].toUpperCase()+n.slice(1,-1),i="find"+o;e.prototype[i]=function(e,t){if("mixed"===r||"mixed"===this.type||r===this.type){e=""+e;var n=this._nodes.get(e);if(void 0===n)throw new nr("Graph.".concat(i,': could not find the "').concat(e,'" node in the graph.'));return Cr(!0,"mixed"===r?this.type:r,a,n,t)}};var s="some"+o;e.prototype[s]=function(e,t){return!!this[i](e,t)};var u="every"+o;e.prototype[u]=function(e,t){var n=this[i](e,(function(e,n){return!t(e,n)}));return!n}}(e,t),Lr(e,t)}))}(Kr);var Jr,Yr=function(e){f(n,e);var t=m(n);function n(e){S(this,n);var r=Jn({type:"directed"},e);if("multi"in r&&!1!==r.multi)throw new tr("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==r.type)throw new tr('DirectedGraph.from: inconsistent "'+r.type+'" type in given options!');return t.call(this,r)}return z(n)}(Kr),qr=function(e){f(n,e);var t=m(n);function n(e){S(this,n);var r=Jn({type:"undirected"},e);if("multi"in r&&!1!==r.multi)throw new tr("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==r.type)throw new tr('UndirectedGraph.from: inconsistent "'+r.type+'" type in given options!');return t.call(this,r)}return z(n)}(Kr),Zr=function(e){f(n,e);var t=m(n);function n(e){S(this,n);var r=Jn({multi:!0},e);if("multi"in r&&!0!==r.multi)throw new tr("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return t.call(this,r)}return z(n)}(Kr),Qr=function(e){f(n,e);var t=m(n);function n(e){S(this,n);var r=Jn({type:"directed",multi:!0},e);if("multi"in r&&!0!==r.multi)throw new tr("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==r.type)throw new tr('MultiDirectedGraph.from: inconsistent "'+r.type+'" type in given options!');return t.call(this,r)}return z(n)}(Kr),Xr=function(e){f(n,e);var t=m(n);function n(e){S(this,n);var r=Jn({type:"undirected",multi:!0},e);if("multi"in r&&!0!==r.multi)throw new tr("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==r.type)throw new tr('MultiUndirectedGraph.from: inconsistent "'+r.type+'" type in given options!');return t.call(this,r)}return z(n)}(Kr);function $r(e){e.from=function(t,n){var r=Jn({},t.options,n),a=new e(r);return a.import(t),a}}$r(Kr),$r(Yr),$r(qr),$r(Zr),$r(Qr),$r(Xr),Kr.Graph=Kr,Kr.DirectedGraph=Yr,Kr.UndirectedGraph=qr,Kr.MultiGraph=Zr,Kr.MultiDirectedGraph=Qr,Kr.MultiUndirectedGraph=Xr,Kr.InvalidArgumentsGraphError=tr,Kr.NotFoundGraphError=nr,Kr.UsageGraphError=rr;var ea=Le;function ta(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}Jr=ea.createRoot,ea.hydrateRoot;var na={};function ra(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&na[t[0]]||("string"==typeof t[0]&&(na[t[0]]=new Date),ta.apply(void 0,t))}var aa=function(e,t){return function(){if(e.isInitialized)t();else{e.on("initialized",(function n(){setTimeout((function(){e.off("initialized",n)}),0),t()}))}}};function oa(e,t,n){e.loadNamespaces(t,aa(e,n))}function ia(e,t,n,r){"string"==typeof n&&(n=[n]),n.forEach((function(t){e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,aa(e,r))}function sa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.languages[0],a=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var i=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||(!(t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages))||!(!i(r,e)||a&&!i(o,e))))}function ua(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return ra("i18n.languages were undefined or empty",t.languages),!0;var r=void 0!==t.options.ignoreJSONStructure;return r?t.hasLoadedNamespace(e,{lng:n.lng,precheck:function(t,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):sa(e,t,n)}var la,ca=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,da={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},ha=function(e){return da[e]},pa={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(ca,ha)}};function fa(){return pa}function ga(){return la}var ma={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};pa=k(k({},pa),e)}(e.options.react),function(e){la=e}(e)}},ya=a("I",Te.createContext()),va=function(){function e(){S(this,e),this.usedNamespaces={}}return z(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}(),ba=function(e,t){var n=Te.useRef();return Te.useEffect((function(){n.current=t?n.current:e}),[e,t]),n.current};function wa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,r=Te.useContext(ya)||{},a=r.i18n,o=r.defaultNS,i=n||a||ga();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new va),!i){ra("You will need to pass in an i18next instance by using initReactI18next");var s=function(e,t){return"string"==typeof t?t:t&&"object"===p(t)&&"string"==typeof t.defaultValue?t.defaultValue:Array.isArray(e)?e[e.length-1]:e},u=[s,{},!1];return u.t=s,u.i18n={},u.ready=!1,u}i.options.react&&void 0!==i.options.react.wait&&ra("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=k(k(k({},fa()),i.options.react),t),d=c.useSuspense,h=c.keyPrefix,f=e||o||i.options&&i.options.defaultNS;f="string"==typeof f?[f]:f||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(f);var g=(i.isInitialized||i.initializedStoreOnce)&&f.every((function(e){return ua(e,i,c)}));function m(){return i.getFixedT(t.lng||null,"fallback"===c.nsMode?f:f[0],h)}var y=Te.useState(m),v=l(y,2),b=v[0],w=v[1],x=f.join();t.lng&&(x="".concat(t.lng).concat(x));var j=ba(x),S=Te.useRef(!0);Te.useEffect((function(){var e=c.bindI18n,n=c.bindI18nStore;function r(){S.current&&w(m)}return S.current=!0,g||d||(t.lng?ia(i,t.lng,f,(function(){S.current&&w(m)})):oa(i,f,(function(){S.current&&w(m)}))),g&&j&&j!==x&&S.current&&w(m),e&&i&&i.on(e,r),n&&i&&i.store.on(n,r),function(){S.current=!1,e&&i&&e.split(" ").forEach((function(e){return i.off(e,r)})),n&&i&&n.split(" ").forEach((function(e){return i.store.off(e,r)}))}}),[i,x]);var _=Te.useRef(!0);Te.useEffect((function(){S.current&&!_.current&&w(m),_.current=!1}),[i,h]);var z=[b,i,g];if(z.t=b,z.i18n=i,z.ready=g,g)return z;if(!g&&!d)return z;throw new Promise((function(e){t.lng?ia(i,t.lng,f,(function(){return e()})):oa(i,f,(function(){return e()}))}))}function xa(e){var t=e.i18n,n=e.defaultNS,r=e.children,a=Te.useMemo((function(){return{i18n:t,defaultNS:n}}),[t,n]);return Te.createElement(ya.Provider,{value:a},r)}var ka={exports:{}},ja={},Sa=Te;var _a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},za=Sa.useState,Na=Sa.useEffect,Ea=Sa.useLayoutEffect,Fa=Sa.useDebugValue;function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_a(e,n)}catch(so){return!0}}var Oa="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=za({inst:{value:n,getSnapshot:t}}),a=r[0].inst,o=r[1];return Ea((function(){a.value=n,a.getSnapshot=t,Ca(a)&&o({inst:a})}),[e,n,t]),Na((function(){return Ca(a)&&o({inst:a}),e((function(){Ca(a)&&o({inst:a})}))}),[e]),Fa(n),n};ja.useSyncExternalStore=void 0!==Sa.useSyncExternalStore?Sa.useSyncExternalStore:Oa,ka.exports=ja;var Aa=ka.exports,La={exports:{}},Ta={},Ha=Te,Ra=Aa;var Ma="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Pa=Ra.useSyncExternalStore,Ga=Ha.useRef,Ia=Ha.useEffect,Ba=Ha.useMemo,Da=Ha.useDebugValue;Ta.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var o=Ga(null);if(null===o.current){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=Ba((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==a&&i.hasValue){var t=i.value;if(a(t,e))return s=t}return s=e}if(t=s,Ma(o,e))return t;var n=r(e);return void 0!==a&&a(t,n)?t:(o=e,s=n)}var o,s,u=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,a]);var s=Pa(e,o[0],o[1]);return Ia((function(){i.hasValue=!0,i.value=s}),[s]),Da(s),s},La.exports=Ta;var Ua=La.exports;var Va=function(e){e()},Wa=function(){return Va},Ka=Symbol.for("react-redux-context-".concat(Te.version)),Ja=globalThis;var Ya=new Proxy({},new Proxy({},{get:function(e,t){var n,r=((n=Ja[Ka])||(n=Te.createContext(null),Ja[Ka]=n),n);return function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return Reflect[t].apply(Reflect,[r].concat(a))}}}));function qa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya;return function(){return Te.useContext(e)}}var Za=qa(),Qa=function(){throw new Error("uSES not initialized!")},Xa=function(e,t){return e===t};function $a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya,t=e===Ya?Za:qa(e);return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="function"==typeof n?{equalityFn:n}:n,a=r.equalityFn,o=void 0===a?Xa:a,i=r.stabilityCheck,s=void 0===i?void 0:i,u=(r.noopCheck,t()),l=u.store,c=u.subscription,d=u.getServerState,h=u.stabilityCheck;u.noopCheck;Te.useRef(!0);var p=Te.useCallback(j({},e.name,(function(t){return e(t)}))[e.name],[e,h,s]),f=Qa(c.addNestedSub,l.getState,d||l.getState,p,o);return Te.useDebugValue(f),f}}var eo,to=$a(),no={},ro=Symbol.for("react.element"),ao=Symbol.for("react.portal"),oo=Symbol.for("react.fragment"),io=Symbol.for("react.strict_mode"),so=Symbol.for("react.profiler"),uo=Symbol.for("react.provider"),lo=Symbol.for("react.context"),co=Symbol.for("react.server_context"),ho=Symbol.for("react.forward_ref"),po=Symbol.for("react.suspense"),fo=Symbol.for("react.suspense_list"),go=Symbol.for("react.memo"),mo=Symbol.for("react.lazy"),yo=Symbol.for("react.offscreen");function vo(e){if("object"===p(e)&&null!==e){var t=e.$$typeof;switch(t){case ro:switch(e=e.type){case oo:case so:case io:case po:case fo:return e;default:switch(e=e&&e.$$typeof){case co:case lo:case ho:case mo:case go:case uo:return e;default:return t}}case ao:return t}}}eo=Symbol.for("react.module.reference"),no.ContextConsumer=lo,no.ContextProvider=uo,no.Element=ro,no.ForwardRef=ho,no.Fragment=oo,no.Lazy=mo,no.Memo=go,no.Portal=ao,no.Profiler=so,no.StrictMode=io,no.Suspense=po,no.SuspenseList=fo,no.isAsyncMode=function(){return!1},no.isConcurrentMode=function(){return!1},no.isContextConsumer=function(e){return vo(e)===lo},no.isContextProvider=function(e){return vo(e)===uo},no.isElement=function(e){return"object"===p(e)&&null!==e&&e.$$typeof===ro},no.isForwardRef=function(e){return vo(e)===ho},no.isFragment=function(e){return vo(e)===oo},no.isLazy=function(e){return vo(e)===mo},no.isMemo=function(e){return vo(e)===go},no.isPortal=function(e){return vo(e)===ao},no.isProfiler=function(e){return vo(e)===so},no.isStrictMode=function(e){return vo(e)===io},no.isSuspense=function(e){return vo(e)===po},no.isSuspenseList=function(e){return vo(e)===fo},no.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===oo||e===so||e===io||e===po||e===fo||e===yo||"object"===p(e)&&null!==e&&(e.$$typeof===mo||e.$$typeof===go||e.$$typeof===uo||e.$$typeof===lo||e.$$typeof===ho||e.$$typeof===eo||void 0!==e.getModuleId)},no.typeOf=vo;var bo={notify:function(){},get:function(){return[]}};function wo(e,t){var n,r=bo;function a(){i.onStateChange&&i.onStateChange()}function o(){n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){var e=Wa(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,a=n={callback:e,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){r&&null!==t&&(r=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}())}var i={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=bo)},getListeners:function(){return r}};return i}var xo=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?Te.useLayoutEffect:Te.useEffect;function ko(e){var t=e.store,n=e.context,r=e.children,a=e.serverState,o=e.stabilityCheck,i=void 0===o?"once":o,s=e.noopCheck,u=void 0===s?"once":s,l=Te.useMemo((function(){var e=wo(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0,stabilityCheck:i,noopCheck:u}}),[t,a,i,u]),c=Te.useMemo((function(){return t.getState()}),[t]);xo((function(){var e=l.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,c]);var d=n||Ya;return He.createElement(d.Provider,{value:l},r)}function jo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya,t=e===Ya?Za:qa(e);return function(){return t().store}}var So=jo();function _o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya,t=e===Ya?So:jo(e);return function(){return t().dispatch}}var zo,No,Eo=_o();zo=Ua.useSyncExternalStoreWithSelector,Qa=zo,No=Le.unstable_batchedUpdates,Va=No;var Fo=function(e,t,n){return e()},Co=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var a=r[n];e.call(t,a[1],a[0])}},t}()}(),Oo="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Ao="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Lo="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Ao):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var To=["top","right","bottom","left","width","height","size","weight"],Ho="undefined"!=typeof MutationObserver,Ro=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function o(){n&&(n=!1,e()),r&&s()}function i(){Lo(o)}function s(){var e=Date.now();if(n){if(e-a<2)return;r=!0}else n=!0,r=!1,setTimeout(i,t);a=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Oo&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ho?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Oo&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;To.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Mo=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},Po=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Ao},Go=Wo(0,0,0,0);function Io(e){return parseFloat(e)||0}function Bo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Io(e["border-"+n+"-width"])}),0)}function Do(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Go;var r=Po(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var a=r[n],o=e["padding-"+a];t[a]=Io(o)}return t}(r),o=a.left+a.right,i=a.top+a.bottom,s=Io(r.width),u=Io(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=Bo(r,"left","right")+o),Math.round(u+i)!==n&&(u-=Bo(r,"top","bottom")+i)),!function(e){return e===Po(e).document.documentElement}(e)){var l=Math.round(s+o)-t,c=Math.round(u+i)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return Wo(a.left,a.top,s,u)}var Uo="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Po(e).SVGGraphicsElement}:function(e){return e instanceof Po(e).SVGElement&&"function"==typeof e.getBBox};function Vo(e){return Oo?Uo(e)?function(e){var t=e.getBBox();return Wo(0,0,t.width,t.height)}(e):Do(e):Go}function Wo(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Ko=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Wo(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Vo(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Jo=function(e,t){var n,r,a,o,i,s,u,l=(r=(n=t).x,a=n.y,o=n.width,i=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(s.prototype),Mo(u,{x:r,y:a,width:o,height:i,top:a,right:r+o,bottom:i+a,left:r}),u);Mo(this,{target:e,contentRect:l})},Yo=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Co,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Po(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Ko(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Po(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Jo(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),qo="undefined"!=typeof WeakMap?new WeakMap:new Co,Zo=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ro.getInstance(),r=new Yo(t,n,this);qo.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Zo.prototype[e]=function(){var t;return(t=qo.get(this))[e].apply(t,arguments)}}));var Qo=void 0!==Ao.ResizeObserver?Ao.ResizeObserver:Zo;window.ResizeObserver||(window.ResizeObserver=Qo);var Xo=globalThis&&globalThis.__assign||function(){return Xo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Xo.apply(this,arguments)},$o=globalThis&&globalThis.__assign||function(){return $o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},$o.apply(this,arguments)},ei=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},ti=(a("R",(function(e){var t=e.isOpen,n=e.onClose,r=e.children,a=e.sx,o=e.size,i=ei(e,["isOpen","onClose","children","sx","size"]),s=g("RmgAppClip",{size:o}),u=Te.useRef(null);return b({ref:u,handler:n}),w.jsx(x,{children:w.jsxs(_,$o({className:t?"show-app-clip":"",sx:s},i,{children:[w.jsx("div",{className:"rmg-app-clip__overlay"}),w.jsx("div",$o({className:"rmg-app-clip__container"},{children:w.jsx(_,$o({ref:u,as:"section",role:"dialog",className:"rmg-app-clip__content",sx:a},{children:r}))}))]}))})})),globalThis&&globalThis.__assign||function(){return ti=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ti.apply(this,arguments)}),ni=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},ri=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},ai=Te.forwardRef((function(e,t){var n=e.validator,r=e.onDebouncedChange,a=e.delay,o=e.optionList,i=e.defaultValue;e.onChange;var s=ni(e,["validator","onDebouncedChange","delay","optionList","defaultValue","onChange"]),u=Te.useRef(null),l=N(u,t),c=Te.useRef("datalist-"+(new Date).valueOf()),d=ri(Te.useState(!1),2),h=d[0],p=d[1],f=Te.useRef();Te.useEffect((function(){u.current&&(u.current.value=(null==i?void 0:i.toString())||"")}),[i]);return w.jsxs(w.Fragment,{children:[w.jsx(C,ti({ref:l,list:c.current,variant:"flushed",size:"sm",h:6,onChange:function(e){var t=e.target.value;window.clearTimeout(f.current),n&&p(!n(t)),f.current=window.setTimeout((function(){null==r||r(t),f.current=void 0}),null!=a?a:500)},onBlur:function(e){var t=e.target.value;void 0!==f.current&&(window.clearTimeout(f.current),n&&p(!n(t)),null==r||r(t),f.current=void 0)},isInvalid:h},s)),o&&w.jsx("datalist",ti({id:c.current},{children:null==o?void 0:o.map((function(e,t){return w.jsx("option",{children:e},t)}))}))]})})),oi=globalThis&&globalThis.__assign||function(){return oi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},oi.apply(this,arguments)},ii=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i};function si(e){var t=e.data,n=e.displayValue,r=e.displayHandler,a=e.predicate,o=e.defaultValue,i=e.onChange,s=e.isInvalid,u=Te.useRef(null),l=ii(Te.useState(o?n(o):""),2),c=l[0],d=l[1],h=ii(Te.useState(!1),2),p=h[0],f=h[1];b({ref:u,handler:function(){return f(!1)}}),Te.useEffect((function(){d(o?n(o):"")}),[JSON.stringify(t),JSON.stringify(o)]);return w.jsx(_,oi({ref:u},{children:w.jsxs(O,oi({placement:"bottom-start",isOpen:p,autoFocus:!1},{children:[w.jsx(A,{children:w.jsx(ai,{defaultValue:c,onDebouncedChange:function(e){return d(e)},onFocus:function(){return f(!0)},isInvalid:s})}),w.jsx(L,oi({w:"unset",minW:200},{children:w.jsx(T,oi({p:0},{children:w.jsx(H,oi({role:"menu",maxH:270,overflowY:"auto"},{children:t.filter((function(e){return a(e,c)})).map((function(e){return w.jsx(R,oi({role:"none"},{children:w.jsx(M,oi({role:"menuitem",size:"sm",variant:"ghost",justifyContent:"flex-start",flexShrink:0,borderRadius:0,w:"100%",onClick:function(){return function(e){d(n(e)),f(!1),null==i||i(e)}(e)}},{children:r?r(e):n(e)}))}),e.id)}))}))}))}))]}))}))}var ui=globalThis&&globalThis.__assign||function(){return ui=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ui.apply(this,arguments)};globalThis&&globalThis.__read,globalThis&&globalThis.__spreadArray;var li=globalThis&&globalThis.__assign||function(){return li=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},li.apply(this,arguments)},ci=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},di=(a("ap",(function(e){var t=e.children,n=e.sx,r=ci(e,["children","sx"]),a=g("RmgCard");return w.jsx(P,li({sx:li(li({},a),n)},r,{children:t}))})),globalThis&&globalThis.__assign||function(){return di=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},di.apply(this,arguments)}),hi=globalThis&&globalThis.__assign||function(){return hi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},hi.apply(this,arguments)},pi=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},fi=Te.forwardRef((function(e,t){var n=e.onDebouncedChange,r=e.defaultValue;e.onChange;var a=pi(e,["onDebouncedChange","defaultValue","onChange"]),o=Te.useRef(null),i=N(o,t),s=Te.useRef();Te.useEffect((function(){o.current&&(o.current.value=(null==r?void 0:r.toString())||"")}),[r]);return w.jsx(G,hi({ref:i,variant:"flushed",size:"sm",resize:"none",onChange:function(e){var t=e.target.value;window.clearTimeout(s.current),s.current=window.setTimeout((function(){null==n||n(t)}),500)}},a))})),gi=globalThis&&globalThis.__assign||function(){return gi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},gi.apply(this,arguments)};globalThis&&globalThis.__rest;var mi=globalThis&&globalThis.__assign||function(){return mi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},mi.apply(this,arguments)},yi=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},vi=function(e){switch(e){case Ve.DEV:return"red";case Ve.UAT:return"orange";case Ve.PRD:return"green"}};var bi=function(e,t){var n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)},wi=globalThis&&globalThis.__assign||function(){return wi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},wi.apply(this,arguments)},xi=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i};function ki(e){var t=e.cancelRef,n=e.isOpen,r=e.onClose,a=xi(Te.useState(!1),2),o=a[0],i=a[1];return w.jsxs(W,wi({leastDestructiveRef:t,isOpen:n,onClose:r},{children:[w.jsx(K,{}),w.jsxs(J,{children:[w.jsx(Y,{children:"Warning "}),w.jsx(q,{}),w.jsxs(Z,wi({sx:{"& p":{my:1}}},{children:[w.jsx(Q,{children:"Are you sure you want to reset the app? The webpage local storage for this app will be cleared. A copy of the local storage will be downloaded and it may be used for restoration (varies with app)."}),w.jsx(Q,{children:""}),w.jsx(Q,{children:""})]})),w.jsxs(X,{children:[w.jsx(M,wi({ref:t,onClick:r},{children:"Cancel"})),w.jsx(M,wi({isLoading:o,colorScheme:"red",ml:3,onClick:function(){i(!0);var e,t,n,r,a=pn.getStorageForCurrentApp(),o=pn.getAppName(),s="".concat(o,"_BACKUP_").concat((new Date).toISOString(),".json");e=s,t="application/json",n=JSON.stringify(a),r=new Blob([n],{type:t}),bi(e,r),pn.clearStorageForCurrentApp(),setTimeout((function(){window.location.reload()}),2e3)}},{children:"Confirm and reload"}))]})]})]}))}var ji=globalThis&&globalThis.__assign||function(){return ji=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ji.apply(this,arguments)},Si=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},_i=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i};function zi(e){var t=e.error,n=e.errorInfo,r=e.allowReset,a=e.sx,o=Si(e,["error","errorInfo","allowReset","sx"]),i=g("RmgErrorBoundary"),s=$("primary.500","primary.300"),u=_i(Te.useState(!1),2),l=u[0],c=u[1],d=Te.useRef(null),h=function(e){return w.jsx(ee,ji({color:s,role:"button",onClick:function(){return c(!0)}},{children:e}))},p=pn.getAppName(),f=w.jsx(ee,ji({color:s,href:"https://github.com/railmapgen/".concat(p,"/issues"),isExternal:!0},{children:"GitHub Issue"}));return w.jsxs(te,ji({status:"error",sx:ji(ji({},i),a)},o,{children:[w.jsx(ne,{}),w.jsx(re,{children:"Something went wrong!"}),w.jsxs(ae,{children:[w.jsxs(Q,{children:["Please try to refresh or re-import your configuration files. If the issue still persists, please consider upgrading your browser",r?w.jsxs(w.Fragment,{children:[" or ",h("reset this app")]}):"",". Should you need any help, please contact us by submitting an issue in ",f," with the details shown below."]}),w.jsxs(Q,{children:["",r?w.jsxs(w.Fragment,{children:["",h("")]}):""," ",f,"  Issue "]}),w.jsxs(Q,{children:["",r?w.jsxs(w.Fragment,{children:["",h("")]}):""," ",f,"  Issue "]}),w.jsxs(Q,ji({as:"details"},{children:[null==t?void 0:t.toString(),w.jsx("br",{}),null==n?void 0:n.componentStack]})),r&&w.jsx(ki,{cancelRef:d,isOpen:l,onClose:function(){return c(!1)}})]})]}))}var Ni,Ei=globalThis&&globalThis.__extends||(Ni=function(e,t){return Ni=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ni(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ni(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Fi=globalThis&&globalThis.__assign||function(){return Fi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Fi.apply(this,arguments)},Ci=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Oi=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasError:!1,error:null,errorInfo:null},n}return Ei(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}},t.prototype.componentDidCatch=function(e,t){this.setState({error:e,errorInfo:t})},t.prototype.render=function(){var e=this.props,t=e.children,n=e.suspenseFallback,r=e.allowReset,a=Ci(e,["children","suspenseFallback","allowReset"]);return this.state.hasError?w.jsx(zi,Fi({error:this.state.error,errorInfo:this.state.errorInfo,allowReset:r},a)):n?w.jsx(Te.Suspense,Fi({fallback:n},{children:t})):t},t}(He.Component),Ai=globalThis&&globalThis.__assign||function(){return Ai=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ai.apply(this,arguments)},Li=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Ti=a("af",(function(e){var t=e.label,n=e.children;e.width;var r=e.noLabel,a=e.oneLine,o=e.className,i=Li(e,["label","children","width","noLabel","oneLine","className"]),s=g("RmgLabel");return w.jsxs(oe,Ai({className:"".concat(a?"rmg-label__one-line":""," ").concat(null!=o?o:""),"aria-label":t,sx:s},i,{children:[!r&&w.jsx(ie,Ai({size:"xs"},{children:t})),n]}))})),Hi=globalThis&&globalThis.__assign||function(){return Hi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Hi.apply(this,arguments)},Ri=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Mi=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i};function Pi(e){var t=e.defaultValue,n=e.options,r=e.disabledOptions,a=Ri(e,["defaultValue","options","disabledOptions"]),o=Te.useRef(null);return Te.useEffect((function(){o.current&&(o.current.value=(null==t?void 0:t.toString())||"")}),[t]),w.jsx(se,Hi({ref:o,variant:"flushed",size:"sm",h:6},a,{children:Object.entries(n).map((function(e){var t=Mi(e,2),n=t[0],a=t[1];return w.jsx("option",Hi({value:n,disabled:void 0!==(null==r?void 0:r.find((function(e){return e.toString()===n})))},{children:a}),n)}))}))}var Gi=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i};a("u",(function(e,t,n){var r=Gi(Te.useState(null!=n?n:t()),2),a=r[0],o=r[1];return Te.useEffect((function(){e.then((function(){console.debug("[rmg-components] Getter updates finished"),o(t())}))}),[]),a}));globalThis&&globalThis.__read;var Ii=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},Bi=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},Di=globalThis&&globalThis.__assign||function(){return Di=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Di.apply(this,arguments)},Ui=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i};function Vi(e){var t=e.defaultValue,n=e.min,r=e.max,a=e.step,o=e.onThrottledChange,i=e.leftIcon,s=e.rightIcon,u=g("RmgThrottledSlider"),l=Ui(Te.useState(null!=t?t:0),2),c=l[0],d=l[1],h=function(e,t){void 0===t&&(t=500);var n=Ii(Te.useState(!0),2),r=n[0],a=n[1],o=Te.useRef([]),i=Te.useRef(),s=Te.useCallback((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r?(a(!1),o.current=[],e.apply(void 0,Bi([],Ii(t),!1))):o.current=t}),[r,e]);return Te.useEffect((function(){if(!r)return i.current=window.setTimeout((function(){a(!0),o.current.length&&e.apply(void 0,Bi([],Ii(o.current),!1))}),t),function(){window.clearTimeout(i.current)}}),[r,t]),s}(null!=o?o:function(){},500);return w.jsxs(P,Di({sx:u},{children:[i&&w.jsx(ue,{size:"xs",variant:"ghost","aria-label":"Drag left",icon:i,onClick:function(){var e=Math.max(c-10*(null!=a?a:1),null!=n?n:0);null==o||o(e),d(e)}}),w.jsxs(le,Di({value:c,min:n,max:r,step:a,onChange:function(e){h(e),d(e)}},{children:[w.jsx(ce,{children:w.jsx(de,{})}),w.jsx(he,{})]})),s&&w.jsx(ue,{size:"xs",variant:"ghost","aria-label":"Drag right",icon:s,onClick:function(){var e=Math.min(c+10*(null!=a?a:1),null!=r?r:100);null==o||o(e),d(e)}})]}))}var Wi=globalThis&&globalThis.__assign||function(){return Wi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Wi.apply(this,arguments)};function Ki(e){var t=e.fields,n=e.noLabel,r=e.minW;return w.jsx(P,Wi({wrap:"wrap"},{children:t.map((function(e,t){if(e.hidden)return w.jsx(Te.Fragment,{},t);var a=e.minW||r,o="full"===a;return w.jsx(Ti,Wi({className:o?"mw-full":"",label:e.label,flex:o?void 0:1,minW:o?void 0:a,noLabel:n,oneLine:e.oneLine},{children:function(e){switch(e.type){case"input":return w.jsx(ai,{placeholder:e.placeholder,defaultValue:e.value,type:e.variant,validator:e.validator,onDebouncedChange:e.onChange,delay:e.debouncedDelay,optionList:e.optionList});case"textarea":return w.jsx(fi,{placeholder:e.placeholder,defaultValue:e.value,onDebouncedChange:e.onChange});case"slider":return w.jsx(Vi,{defaultValue:e.value,min:e.min,max:e.max,step:e.step,onThrottledChange:e.onChange,leftIcon:e.leftIcon,rightIcon:e.rightIcon});case"select":return w.jsx(Pi,{defaultValue:e.value,onChange:function(t){var n,r=t.target.value;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,"number"==typeof e.value?Number(r):r.toString())},options:e.options,disabledOptions:e.disabledOptions,isInvalid:e.isInvalid});case"switch":return w.jsx(pe,{isChecked:e.isChecked,isDisabled:e.isDisabled,onChange:function(t){var n,r=t.target.checked;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,r)}});case"custom":return e.component;default:return w.jsx("div",{})}}(e)}),t)}))}))}var Ji=globalThis&&globalThis.__assign||function(){return Ji=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ji.apply(this,arguments)},Yi=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},qi=function(e){var t=e.sx,n=e.className,r=Yi(e,["sx","className"]),a=g("RmgWindow");return w.jsx(P,Ji({className:"rmg-window ".concat(null!=n?n:""),sx:Ji(Ji({},a),t)},r))},Zi=(a("_",(function(e){var t=e.sx,n=e.className,r=Yi(e,["sx","className"]),a=g("RmgWindowHeader");return w.jsx(P,Ji({className:"rmg-window__header ".concat(null!=n?n:""),sx:Ji(Ji({},a),t)},r))})),globalThis&&globalThis.__assign||function(){return Zi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Zi.apply(this,arguments)}),Qi=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Xi=a("x",(function(e){var t=e.name,n=e.fg,r=e.bg,a=e.showShortName,o=e.actions,i=Qi(e,["name","fg","bg","showShortName","actions"]),s=g("RmgLineBadge");return w.jsxs(B,Zi({color:n,bg:r,sx:s},i,{children:[a?function(e){var t,n;return"object"===p(e)?(null===(t=e[0].match(/^[\d\w]+/))||void 0===t?void 0:t[0])||e[0]:(null===(n=e.match(/^[\d\w]+/))||void 0===n?void 0:n[0])||e}(t):"object"===p(t)?t[0]:t,o]}))})),$i=globalThis&&globalThis.__assign||function(){return $i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},$i.apply(this,arguments)};globalThis&&globalThis.__rest;var es=globalThis&&globalThis.__assign||function(){return es=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},es.apply(this,arguments)};globalThis&&globalThis.__read,globalThis&&globalThis.__spreadArray;var ts=globalThis&&globalThis.__assign||function(){return ts=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ts.apply(this,arguments)},ns=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},rs=(a("ah",(function(e){var t=e.isOpen,n=e.alwaysOverlay,r=e.width,a=e.sx,o=e.children,i=ns(e,["isOpen","alwaysOverlay","width","sx","children"]),s=g("RmgSidePanel",{width:null!=r?r:320,alwaysOverlay:n});return w.jsx(P,ts({as:"section",className:t?"show-side-panel":"",sx:ts(ts({},s),a),"data-testid":"side-panel-root"},i,{children:w.jsx(P,ts({className:"rmg-side-panel__inner"},{children:o}))}))})),a("ai",(function(e){var t=e.onClose,n=e.children;return w.jsxs(te,ts({className:"rmg-side-panel__header",status:"info",variant:"solid",size:"xs"},{children:[w.jsx(ne,{}),n,w.jsx(fe,{onClick:t})]}))})),a("aj",(function(e){var t=e.children;return w.jsx("div",ts({className:"rmg-side-panel__body"},{children:t}))})),a("ak",(function(e){var t=e.children;return w.jsx("div",ts({className:"rmg-side-panel__footer"},{children:t}))})),function(e){return"dark"===e?"primary.300":"primary.500"}),as={variants:{flushed:function(e){var t=e.theme,n=e.colorMode;return{field:{_focusVisible:{borderColor:rs(n),boxShadow:"0px 1px 0px 0px ".concat(ge(t,rs(n)))}}}}}},os={defaultProps:{colorScheme:"primary"}},is=function(e){return"dark"===e?"primary.300":"primary.500"},ss={baseStyle:function(e){var t=e.theme,n=e.colorMode;return{"& .rmg-multi-select__wrapper":{position:"relative",w:"100%",h:"25.75px",transform:"translateY(1.75px)",cursor:"default"},"& .rmg-multi-select__field":{position:"relative",w:"100%",minW:0,outline:0,appearance:"none",transitionProperty:"common",transitionDuration:"normal",pb:"1px",fontSize:"sm",h:"6",borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_active:{borderColor:is(n),boxShadow:"0px 1px 0px 0px ".concat(ge(t,is(n)))},_focus:{borderColor:is(n),boxShadow:"0px 1px 0px 0px ".concat(ge(t,is(n)))},_focusVisible:{borderColor:is(n),boxShadow:"0px 1px 0px 0px ".concat(ge(t,is(n)))},"&.active":{borderColor:is(n),boxShadow:"0px 1px 0px 0px ".concat(ge(t,is(n)))},"& > span:last-of-type":{position:"absolute",right:8}},"& .rmg-multi-select__icon-wrapper":{display:"inline-flex",justifyContent:"center",w:6,h:"100%",position:"absolute",right:2,top:0,fontSize:"xl","& svg":{h:"1em",w:"1em"}},"& .chakra-popover__content":{w:"unset",minW:200},"& .chakra-popover__body":{p:0,"li label":{p:2,w:"100%",_hover:{bg:"dark"===n?"whiteAlpha.200":"gray.100"},_active:{bg:"dark"===n?"whiteAlpha.300":"gray.200"}}}}}},us={Input:as,Checkbox:os,Select:as,Slider:{defaultProps:{colorScheme:"primary"}},Switch:os,Textarea:as,RmgAgGrid:{baseStyle:{w:"100%",h:"100%","& .ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper":{height:"unset"},"& .ag-cell":{display:"flex",lineHeight:"unset",alignItems:"center"},"& .ag-cell, & .ag-header-cell":{padding:"8px 9px"},"& .ag-row, & .ag-header":{border:"unset"},"&.ag-theme-alpine .ag-row .ag-cell, &.ag-theme-alpine .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))"},"&.ag-theme-alpine-dark .ag-row .ag-cell, &.ag-theme-alpine-dark .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))"},"& .ag-pinned-left-cols-container, & .ag-pinned-left-header":{boxShadow:"var(--chakra-shadows-lg)",zIndex:1},"&.ag-theme-alpine":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #fff)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #fcfcfc)"}},"&.ag-theme-alpine-dark":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #181d1f)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #222628)"}}}},RmgAppClip:{baseStyle:function(e){return{display:"none","&.show-app-clip":{display:"block"},"& .rmg-app-clip__overlay":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",zIndex:1400,bg:"blackAlpha.600"},"& .rmg-app-clip__container":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:1400},"& .rmg-app-clip__content":{display:"flex",w:"100%",maxW:"md",my:16,bg:"light"===e.colorMode?"white":"gray.700",boxShadow:"lg",borderRadius:"md",overflow:"hidden"}}},sizes:{xs:{"& .rmg-app-clip__content":{maxW:"xs"}},sm:{"& .rmg-app-clip__content":{maxW:"sm"}},lg:{"& .rmg-app-clip__content":{maxW:"lg"}},xl:{"& .rmg-app-clip__content":{maxW:"xl"}},full:{"& .rmg-app-clip__content":{maxW:"100vw",minH:"var(--chakra-vh)",my:0,borderRadius:0}}}},RmgCard:{baseStyle:function(e){return{p:1,my:1,w:"100%",borderRadius:2,bg:"dark"===e.colorMode?"gray.700":"gray.50",boxShadow:"lg"}}},RmgDataTable:{baseStyle:function(e){var t=e.colorMode;return{"& thead":{position:"sticky",top:0,zIndex:10},"& td, th":{borderRight:"1px solid",borderColor:"dark"===t?"whiteAlpha.400":"blackAlpha.200",backgroundColor:"dark"===t?"gray.700":"gray.50",whiteSpace:"nowrap","&:first-of-type":{position:"sticky",left:0,zIndex:1},"&:last-of-type":{borderRight:"none",position:"sticky",right:0,zIndex:1}}}}},RmgEnrichedButton:{baseStyle:function(){return{flexGrow:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",h:10,"& span":{maxW:"100%",textOverflow:"ellipsis",overflow:"hidden"},"& span:last-of-type":{fontWeight:"normal",fontSize:"2xs"}}}},RmgErrorBoundary:{baseStyle:{flexDirection:"column",alignItems:"center",maxH:"100%",overflowY:"auto","& .chakra-alert__icon":{w:"40px",h:"40px",mr:0},"& .chakra-alert__title":{mt:4,mb:1,fontSize:"lg"},"& .chakra-alert__desc":{w:"100%","& p":{my:1},"& details":{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"sm"}}}},RmgLabel:{baseStyle:{m:1,w:"unset","& label":{overflow:"hidden",fontSize:12,mr:0,mb:-.5,whiteSpace:"nowrap",textOverflow:"ellipsis"},"&.rmg-label__one-line":{display:"flex",alignItems:"center","& label:first-of-type":{mr:"auto"}}}},RmgLineBadge:{baseStyle:{display:"inline-flex",alignItems:"center","& > button:first-of-type":{ml:1}}},RmgLoader:{baseStyle:{w:"100%",h:"100%",position:"absolute",top:0,right:0,alignItems:"center",justifyContent:"center","& .rmg-loader__backdrop":{position:"absolute",w:"100%",h:"100%",zIndex:1500,bg:"blackAlpha.400"},"& .chakra-progress":{zIndex:2e3}}},RmgMultiSelect:ss,RmgPage:{baseStyle:{position:"relative",flexDirection:"column",flex:1,overflow:"hidden"}},RmgPageHeader:{baseStyle:{alignItems:"center",flexWrap:"wrap",pl:2,pr:3,py:1,zIndex:10}},RmgSidePanel:{baseStyle:function(e){var t=e.colorMode,n=e.width,r=e.alwaysOverlay;return{height:"100%",position:r?"absolute":{base:"absolute",lg:"relative"},right:r?0:{base:0,lg:"unset"},background:"light"===t?"white":"gray.800",boxShadow:"lg",flexShrink:0,flexDirection:"column",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",zIndex:5,"&.show-side-panel":{maxW:{base:"100%",sm:n},w:{base:"100%",sm:"unset"},visibility:"initial"},"& .rmg-side-panel__inner":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:n}},"& .rmg-side-panel__header":{flexShrink:0,pl:3,pr:1,py:0,"& button":{ml:"auto"}},"& .rmg-side-panel__body":{display:"flex",flexDirection:"column",flex:1,overflowY:"auto",p:1},"& .rmg-side-panel__footer":{display:"flex",justifyContent:"flex-end",p:1}}}},RmgThrottledSlider:{baseStyle:{h:6,alignItems:"center","& .chakra-button:first-of-type":{mr:1},"& .chakra-button:last-of-type":{ml:1}}},RmgWindow:{baseStyle:{position:"relative",flexDirection:"column",height:"100%",overflow:"hidden"}},RmgWindowHeader:{baseStyle:{px:2,alignItems:"center",zIndex:15,minH:10,transition:"0.3s ease-in-out"}}},ls=globalThis&&globalThis.__assign||function(){return ls=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ls.apply(this,arguments)},cs="chakra-ui-color-mode",ds={primary:ls({},me.colors.teal)},hs={global:{".mw-full":{w:"100%",flexBasis:"100%"}}},ps=globalThis&&globalThis.__assign||function(){return ps=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ps.apply(this,arguments)},fs=function(e){var t,n=e.children;return w.jsx(ve,ps({theme:ye({config:(t="system"===pn.getColourMode(),pn.isStandaloneWindow()&&(t?window.localStorage.removeItem(cs):window.localStorage.setItem(cs,pn.getColourMode())),{initialColorMode:"system",useSystemColorMode:t}),colors:ds,styles:hs,components:us})},{children:w.jsx(gs,{children:n})}))},gs=function(e){var t=e.children,n=be().setColorMode,r=we();return Te.useEffect((function(){console.log("[rmg-components] RMG theme is initialised with",r.config),pn.onColourModeChange((function(e){if("system"===e){var t=window.matchMedia("(prefers-color-scheme: dark)").matches;n(t?"dark":"light")}else n(e)}))}),[n]),w.jsx(w.Fragment,{children:t})},ms=a("am",function(e){return e.RailMap="railmap",e.Platform="platform",e}(ms||{})),ys=a("an",function(e){return e.Metro="metro",e.NationalRail="nationalrail",e.LightRail="lightrail",e.Footpath="footpath",e}(ys||{})),vs=a("F",function(e){return e.APP_LOAD="APP_LOAD",e.ADD_STATION="ADD_STATION",e.ADD_LINE="ADD_LINE",e.DOWNLOAD_PARAM="DOWNLOAD_PARAM",e.DOWNLOAD_IMAGES="DOWNLOAD_IMAGES",e}(vs||{})),bs=function(e){return e.APP="rmp__app",e.PARAM="rmp__param",e.PARAM_BACKUP="rmp__param__backup",e.DO_NOT_SHOW_RMT_MSG="rmp__doNotShowRMTMsg",e}(bs||{}),ws=He.lazy((function(){return Fo((function(){return u.import("./page-header-legacy-093c26e4.js")}))})),xs=He.lazy((function(){return Fo((function(){return u.import("./tools-legacy-e28b09a0.js")}))})),ks=He.lazy((function(){return Fo((function(){return u.import("./svg-wrapper-legacy-5151d2a3.js")}))})),js=He.lazy((function(){return Fo((function(){return u.import("./details-legacy-af9ea604.js")}))}));function Ss(){var e=wa().t,t=l(He.useState(!1),2),n=t[0],r=t[1];He.useEffect((function(){pn.isStandaloneWindow()&&!window.localStorage.getItem(bs.DO_NOT_SHOW_RMT_MSG)&&r(!0)}),[]);var a=new Date,o="".concat(a.getFullYear()).concat(String(a.getMonth()+1).padStart(2,"0"),"01"),i="".concat(String(a.getFullYear()).slice(-2),".").concat(a.getMonth()+1,".1");return w.jsx(fs,{children:w.jsx(qi,{children:w.jsxs(He.Suspense,{fallback:w.jsxs(w.Fragment,{children:[w.jsx("p",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:"Rail Map Toolkit protocol... checked"}),w.jsxs("p",{style:{position:"absolute",top:"75%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"small",color:"gray"},children:["Seeing this page for too long? Try another mirror"," ",w.jsx("a",{href:"https://railmapgen.github.io/?app=rmp",target:"_blank",rel:"noreferrer",children:"GitHub"})," ",w.jsx("a",{href:"https://railmapgen.gitlab.io/?app=rmp",target:"_blank",rel:"noreferrer",children:"Gitlab"})," ","or the"," ",w.jsx("a",{href:"https://github.com/railmapgen/railmapgen.github.io/releases",target:"_blank",rel:"noreferrer",children:"offline application"})," ",".",w.jsx("br",{}),w.jsx("br",{}),"Offline applications via ghproxy.com"," ",w.jsx("a",{href:"https://ghproxy.com/https://github.com/railmapgen/railmapgen.github.io/releases/download/tauri-".concat(o,"/railmapgen_").concat(i,"_x64-setup.exe"),children:"Windows"})," ",w.jsx("a",{href:"https://ghproxy.com/https://github.com/railmapgen/railmapgen.github.io/releases/download/tauri-".concat(o,"/railmapgen_").concat(i,"_x64.dmg"),children:"MacOS"})," ",w.jsx("a",{href:"https://ghproxy.com/https://github.com/railmapgen/railmapgen.github.io/releases/download/tauri-".concat(o,"/railmapgen_").concat(i,"_amd64.deb"),children:"Linux"})," ","if you are in mainland China :)"]})]}),children:[w.jsx(ws,{}),n&&w.jsxs(te,{status:"info",variant:"solid",size:"xs",pl:3,pr:1,py:1,zIndex:"1",children:[w.jsx(ne,{}),w.jsxs(Q,{children:[w.jsx(ee,{href:"/?app=rmp",isExternal:!0,fontWeight:"bold",children:e("rmtPromotion")})," ",w.jsx(ee,{as:"button",ml:"auto",textDecoration:"underline",onClick:function(){return r(!1)},children:e("close")})," | ",w.jsx(ee,{as:"button",textDecoration:"underline",onClick:function(){r(!1),window.localStorage.setItem(bs.DO_NOT_SHOW_RMT_MSG,"true")},children:e("noShowAgain")})]})]}),w.jsx(Oi,{allowReset:!0,children:w.jsxs(P,{direction:"row",height:"100%",overflow:"hidden",sx:{position:"relative"},children:[w.jsx(xs,{}),w.jsx(ks,{}),w.jsx(js,{})]})})]})})})}var _s,zs,Ns,Es={en:{},"zh-Hans":{Action:"",Apps:"","Back to list":"","Background colour":"",Black:"",Cancel:"",City:"",Components:"","Configuration file":"",Confirm:"",Continue:"","Country/Region":"/",Copy:"",Edit:"","Foreground colour":"","Go back":"",Language:"/Language",Justification:"",Name:"",Next:"",Open:"",Palette:"","Please select...":"...",Previous:"","Rail Map Generator":"","Rail Map Painter":"","Rail Map Toolkit":"",Remove:"",Reset:"","RMG Templates":"RMG ","RMP Gallery":"RMP ","Seed Project":"",Settings:"",Submit:"",Translate:"",Upload:"",White:""},"zh-Hant":{Action:"",Apps:"","Back to list":"","Background colour":"",Black:"",Cancel:"",City:"",Components:"","Configuration file":"",Confirm:"",Continue:"",Copy:"","Country/Region":"/",Edit:"","Foreground colour":"","Go back":"",Language:"/Language",Justification:"",Name:"",Next:"",Open:"",Palette:"","Please select...":"...",Previous:"","Rail Map Generator":"","Rail Map Painter":"","Rail Map Toolkit":"",Remove:"",Reset:"","RMG Templates":"RMG ","RMP Gallery":"RMP ","Seed Project":"",Settings:"",Submit:"",Translate:"",Upload:"",White:""},ko:{Action:"",Apps:"","Back to list":" ","Background colour":"",Black:"",Cancel:"",City:"",Components:"","Configuration file":"  ",Confirm:"",Copy:"","Country/Region":"/",Edit:"","Foreground colour":"","Go back":"",Language:"/Language",Justification:"",Name:"",Next:"",Open:"",Palette:"","Please select...":"",Previous:"","Rail Map Generator":"  ","Rail Map Painter":"  ","Rail Map Toolkit":" ",Remove:"",Reset:"","RMG Templates":"RMG ","RMP Gallery":"RMP ","Seed Project":" ",Settings:"",Submit:"",Translate:"",Upload:"",White:""}},Fs={color:"Color",warning:"Warning",cancel:"Cancel",apply:"Apply",remove:"Remove",close:"Close",noShowAgain:"Don't show me again",rmtPromotion:"The all-in-one toolkit you definitely do not want to miss!",colorModal:{title:"Select a color",example:"Example",palette:"From palette",custom:"Customize",city:"City theme",line:"Line theme",bg:"Background color",fg:"Foreground color",white:"White",black:"Black",seeAll:"See full library in ",submit:"Submit"},panel:{tools:{showLess:"Show less",section:{lineDrawing:"Line drawing",stations:"Stations",miscellaneousNodes:"Miscellaneous nodes"}},details:{header:"Details",info:{title:"Basic information",id:"ID",zIndex:"Depth",stationType:"Station Type",linePathType:"Line Path Type",lineStyleType:"Line Style Type",type:"Type"},multipleSelection:"Multiple Selection",changeStationTypeContent:"Changing station's type will remove all attributes from the station except its names.",changeLineTypeContent:"Changing line's type will remove all attributes from the line.",changeType:"Change Type",nodePosition:{title:"Node Position",pos:{x:"Coordinate X",y:"Coordinate Y"}},lineExtremities:{title:"Line Extremities",source:"Source",target:"Target",sourceName:"Source Name",targetName:"Target Name"},specificAttrsTitle:"Specific Attributes",nodes:{common:{nameZh:"Line name in Chinese",nameEn:"Line name in English",num:"Line Number"},virtual:{displayName:"Virtual node"},shmetroNumLineBadge:{displayName:"Shanghai Metro num line badge"},shmetroTextLineBadge:{displayName:"Shanghai Metro text line badge"},gzmtrLineBadge:{displayName:"Guangzhou Metro line badge"},bjsubwayNumLineBadge:{displayName:"Beijing Subway num line badge"},bjsubwayTextLineBadge:{displayName:"Beijing Subway text line badge"},berlinSBahnLineBadge:{displayName:"Berlin S Bahn line badge"},berlinUBahnLineBadge:{displayName:"Berlin U Bahn line badge"},suzhouRTNumLineBadge:{displayName:"Suzhou Rail Transit num line badge",branch:"Is branch line"},facilities:{displayName:"Facilities",type:"Type"},text:{displayName:"Arbitrary text",content:"Content",fontSize:"Font size",lineHeight:"Line height",textAnchor:"Text anchor",dominantBaseline:"Dominant baseline",language:"Font family in which language",rotate:"Rotation",italic:"Italic"}},stations:{common:{nameZh:"Name in Chinese",nameEn:"Name in English",nameOffsetX:"Name offset X",nameOffsetY:"Name offset Y",rotate:"Icon rotation"},interchange:{title:"Interchanges",within:"Within-station interchange",outStation:"Out-of-station interchange",outSystem:"Out-of-system interchange",addGroup:"Add interchange group",noInterchanges:"No interchanges",nameZh:"Chinese name",nameEn:"English name",add:"Add interchange",copy:"Copy interchange",remove:"Remove interchange"},shmetroBasic:{displayName:"Shanghai Metro basic station"},shmetroBasic2020:{displayName:"Shanghai Metro basic station (2020)"},shmetroInt:{displayName:"Shanghai Metro interchange station",height:"Icon height",width:"Icon width"},shmetroOsysi:{displayName:"Shanghai Metro out-of-system interchange station"},gzmtrBasic:{displayName:"Guangzhou Metro basic station",lineCode:"Line code",stationCode:"Station code",open:"Is opened",secondaryNameZh:"Secondary name in Chinese",secondaryNameEn:"Secondary name in English",tram:"Tram"},gzmtrInt:{displayName:"Guangzhou Metro interchange station",lineCode:"Line code",stationCode:"Station code",open:"Is opened",secondaryNameZh:"Secondary name in Chinese",secondaryNameEn:"Secondary name in English"},bjsubwayBasic:{displayName:"Beijing Subway basic station",open:"Is opened"},bjsubwayInt:{displayName:"Beijing Subway interchange station",outOfStation:"Out of station interchange"},mtr:{displayName:"MTR station",rotate:"Icon rotation"},suzhouRTBasic:{displayName:"Suzhou Rail Transit basic station"},suzhouRTInt:{displayName:"Suzhou Rail Transit interchange station"}},lines:{reconcileId:"Reconcile ID",common:{offsetFrom:"Offset From",offsetTo:"Offset To",startFrom:"Start From",roundCornerFactor:"Round Corner Factor"},simple:{displayName:"Simple path",offset:"Offset"},diagonal:{displayName:"135 diagonal path"},perpendicular:{displayName:"90 perpendicular path"},rotatePerpendicular:{displayName:"90 rotate perpendicular path"},singleColor:{displayName:"Single color style"},shmetroVirtualInt:{displayName:"Shanghai Metro out-of-station interchange style"},gzmtrVirtualInt:{displayName:"Guangzhou Metro out-of-station interchange style"},chinaRailway:{displayName:"China Railway style"},bjsubwaySingleColor:{displayName:"Beijing Subway single color style"},bjsubwayTram:{displayName:"Beijing Subway tram style"},dualColor:{displayName:"Shanghai Maglev style",swap:"Swap color"},river:{displayName:"River style",width:"Width"},mtrRaceDays:{displayName:"MTR race days style"},mtrLightRail:{displayName:"MTR light rail style"},mtrUnpaidArea:{displayName:"MTR unpaid area style"},mtrPaidArea:{displayName:"MTR paid area style"}},edge:{},footer:{duplicate:"Duplicate",remove:"Remove",removeEntireLine:"Remove all lines in this color"}}},header:{popoverHeader:"You're on <1>{{environment}}</1> environment!",popoverBody:"We are currently testing the latest RMP. If you have any suggestions, feel free to raise at https://github.com/railmapgen/rmp/issues",open:{new:"New project",config:"Import project",projectRMG:"Import from RMG project",invalidType:"Invalid file type! Only file in JSON format is accepted.",unknownError:"Unknown error occurred while parsing the uploaded file! Please try again.",gallery:"Import from Gallery",importFromRMPGallery:"Template {{id}} imported. Not satisfied with this change? Undo via Ctrl + Z or the undo button.",failToImportFromRMPGallery:"Fail to import {{id}} from the gallery. The file can not be found."},download:{config:"Export project",image:"Export image","2rmg":{title:"Export to RMG project",type:{line:"Line",loop:"Loop",branch:"Branch"},placeholder:{chinese:"Chinese name",english:"English name",lineCode:"Line code"},info1:"This function is designed to convert the RMP project into RMG projects.",info2:"The lines in the list following are the available lines for converting. You can enter the Chinese line name in the text box on the left, the English line name in the middle, the line code (for Guangzhou Metro style) on the right, and then click the download button on the right to save your RMG projects.",noline:"No available lines found.",download:"Download",downloadInfo:"Please select one of the following stations as the starting station and click it to download."},format:"Format",png:"PNG",svg:"SVG (Web use)",transparent:"Transparency",scale:"Scale",disabledScaleOptions:"Some scale options are disabled due to your browser's canvas limitation.",disabledScaleOptionsWorkarounds:"Possible workarounds include generating the image from svg using this cli tool: ",imageTooBig:"The image is too big for your browser to generate!",shareInfo1:"I will attach ",shareInfo2:" and its link when I share this image.",termsAndConditions:"Terms and Conditions",termsAndConditionsInfo:"I agree to ",period:".",confirm:"Download"},settings:{title:"Settings",pro:"This is PRO feature and is free for a limited time!",preference:{title:"Preference",keepLastPath:"Keep drawing lines until clicking on the background in the next move"},shortcuts:{title:"Shortcuts",keys:"Keys",description:"Description",f:"Use the last tool.",arrows:"Move the canvas a little bit.",ijkl:"Move the selected station(s) a little bit.",shift:"Multiple selection.",alt:"Precise movement.",delete:"Delete the selected station(s).",undo:"Undo.",redo:"Redo."},procedures:{title:"Procedures",translate:{title:"Translate nodes' coordinates",content:"Add the following offset to all nodes' x and y:",x:"X axis",y:"Y axis"},scale:{title:"Scale nodes' coordinates",content:"Multiply the following value to all nodes' x and y:",factor:"Scale factor"},changeType:{title:"Change stations type in batch",changeFrom:"Change all stations from this type:",changeTo:"To this type:",info:"Changing stations' type will remove all specific attributes from stations except their position and names. SAVE BEFORE CHANGE!"},removeLines:{title:"Remove lines with single color",content:"Remove lines that have this color: "},unlockSimplePath:{title:"Unlock simple path",content1:"The Rail Map Painter application endeavors to offer an interactive platform conducive to the creation of rail maps while adhering to established conventions. Among these conventions, one particularly renowned style finds its origins in the innovative work of Harry Beck. His pioneering contribution, officially endorsed in the year 1932, garnered instantaneous acclaim from the general populace. Presently, it stands as an exemplar of paramount significance within the realm of information design. This paradigmatic approach has found widespread implementation in transit cartography on a global scale, albeit with varying degrees of success.",content2:"The application inherently conceals the option to utilize a simple path, as its deployment has the potential to contravene established conventions. This particular feature remains discreetly tucked away by default. Additionally, submissions to the Rail Map Painter Gallery are subject to stringent scrutiny, with a categorical rejection of compositions that employ the simple path with a single color style approach.",content3:"Nonetheless, we place unwavering faith in the limitless creative potential harbored within you. As such, we extend the opportunity for exploration. However, a series of inquiries must be adequately addressed prior to achieving the status of a seasoned professional and thereby unlocking access to the simple path functionality. It is pertinent to note that even post-attainment, the employment of the simple path is exclusively restricted to the single-color style.",content4:"For the sake of conciseness, certain paragraphs within the passage have been omitted. Furthermore, in the interest of enhancing clarity, both the passage and the accompanying questions have been retained in their original language without translation.",content5:"You are accorded three attempts to respond accurately to the aforementioned questions. It is imperative to bear in mind that once the remaining attempts are depleted, the opportunity to address further queries will be forfeited. Current Remaining Attempts: ",check:"Checking answers and unlock simple path",maximumAttemptsExceed:"Maximum attempts exceed",unlocked:"Already Unlocked",fail:"Fail"}},telemetry:{title:"Telemetry",essential:"Basic",essentialInfo:"Rail Map Painter uses Google Analytics to collect data that helps the contributors know how and when our users visit this project. Since there is no user registration and backend service in Rail Map Painter, this is the only feedback that contributors can get and be motivated to keep updating the project. Be assured that all the data transferred will not contain any personal identifiable information and data from your project.",essentialLink:"Click this link to see detailed fields that Google Analytics may collect.",additional:"Additional",additionalInfo:"Rail Map Painter also sends additional events when you interact with your mouse or keyboard such as project creation or station addition. As always, they do not contain any personal identifiable information and are only used for statistics purpose."}},about:{title:"About",rmp:"Rail Map Painter",railmapgen:"A Rail Map Toolkit project",desc:"Design your own rail map by freely dragging stations from different cities and connecting them with 90 or 135-degree rounded corners lines!",content1:"In memory of all the freedom and equality we once had.",content2:"06/01/2022 in Shanghai",contributors:"Contributors",coreContributors:"Core Contributors",styleContributors:"Style Contributors",langonginc:"Live a life you will remember.","203IhzElttil":"Special thanks for his diligent work in ensuring that the stations of Shanghai Metro match the original design.","52PD":"Special thanks for his diligent work in ensuring that the stations of Beijing Subway match the original design.",contactUs:"Contact Us",github:"Project repository",githubContent:"Face any problems? Search or raise an issue here!",slack:"Slack group",slackContent:"Chat in these Slack channels!",linkExchange:"Link Exchange",guidaoTransit:"Guidao Transit",guidaoTransitContent:"Want to know more about Shanghai rail transit? Follow this WeChat account! (Chinese Only)"}}},Cs={color:"",warning:"",cancel:"",apply:"",remove:"",close:"",noShowAgain:"",rmtPromotion:"",colorModal:{title:"",example:"",palette:"",custom:"",city:"",line:"",bg:"",fg:"",white:"",black:"",seeAll:"",submit:""},panel:{tools:{showLess:"",section:{lineDrawing:"",stations:"",miscellaneousNodes:""}},details:{header:"",info:{title:"",id:"ID",zIndex:"",stationType:"",linePathType:"",lineStyleType:"",type:""},multipleSelection:"",changeStationTypeContent:"",changeLineTypeContent:"",changeType:"",nodePosition:{title:"",pos:{x:"X",y:"Y"}},lineExtremities:{title:"",source:"",target:"",sourceName:"",targetName:""},specificAttrsTitle:"",nodes:{common:{nameZh:"",nameEn:"",num:""},virtual:{displayName:""},shmetroNumLineBadge:{displayName:""},shmetroTextLineBadge:{displayName:""},gzmtrLineBadge:{displayName:""},bjsubwayNumLineBadge:{displayName:""},bjsubwayTextLineBadge:{displayName:""},berlinSBahnLineBadge:{displayName:""},berlinUBahnLineBadge:{displayName:"S"},suzhouRTNumLineBadge:{displayName:"  ",branch:""},facilities:{displayName:"",type:""},text:{displayName:"",content:"",fontSize:"",lineHeight:"",textAnchor:"",dominantBaseline:"",language:"",rotate:"",italic:""}},stations:{interchange:{title:"",within:"",outStation:"",outSystem:"",addGroup:"",noInterchanges:"",nameZh:"",nameEn:"",add:"",copy:"",remove:""},common:{nameZh:"",nameEn:"",nameOffsetX:"X",nameOffsetY:"Y",rotate:""},shmetroBasic:{displayName:""},shmetroBasic2020:{displayName:"2020"},shmetroInt:{displayName:"",height:"",width:""},shmetroOsysi:{displayName:""},gzmtrBasic:{displayName:"",lineCode:"",stationCode:"",open:"",secondaryNameZh:"",secondaryNameEn:"",tram:""},gzmtrInt:{displayName:"",lineCode:"",stationCode:"",open:"",secondaryNameZh:"",secondaryNameEn:""},bjsubwayBasic:{displayName:"",open:""},bjsubwayInt:{displayName:"",outOfStation:""},mtr:{displayName:"MTR",rotate:""},suzhouRTBasic:{displayName:""},suzhouRTInt:{displayName:""}},lines:{reconcileId:"ID",common:{offsetFrom:"From",offsetTo:"To",startFrom:"",roundCornerFactor:""},simple:{displayName:"",offset:""},diagonal:{displayName:"135"},perpendicular:{displayName:"90"},rotatePerpendicular:{displayName:"90"},singleColor:{displayName:""},shmetroVirtualInt:{displayName:""},gzmtrVirtualInt:{displayName:""},chinaRailway:{displayName:""},bjsubwaySingleColor:{displayName:""},bjsubwayTram:{displayName:""},dualColor:{displayName:"",swap:""},river:{displayName:"",width:""},mtrRaceDays:{displayName:"MTR"},mtrLightRail:{displayName:"MTR"},mtrUnpaidArea:{displayName:"MTR"},mtrPaidArea:{displayName:"MTR"}},edges:{},footer:{duplicate:"",remove:"",removeEntireLine:""}}},header:{popoverHeader:"<1>{{environment}}</1> ",popoverBody:"RMPhttps://github.com/railmapgen/rmp/issues ",open:{new:"",config:"",configRMG:"RMG",projectRMG:"RMG",invalidType:"JSON",unknownError:"",gallery:"",importFromRMPGallery:"{{id}}Ctrl + Z",failToImportFromRMPGallery:"{{id}}"},download:{config:"",image:"","2rmg":{title:"RMG",type:{line:"",loop:"",branch:""},placeholder:{chinese:"",english:"",lineCode:""},info1:"RMPRMG",info2:"RMG",noline:"",download:"",downloadInfo:""},format:"",png:"PNG",svg:"SVGWeb",transparent:"",scale:"",disabledScaleOptions:"",disabledScaleOptionsWorkarounds:"CLISVG",imageTooBig:"",shareInfo1:" ",shareInfo2:" ",termsAndConditions:"",termsAndConditionsInfo:"",period:"",confirm:""},settings:{title:"",pro:"PRO",preference:{title:"",keepLastPath:""},shortcuts:{title:"",keys:"",description:"",f:"",arrows:"",ijkl:"",shift:"",alt:"",delete:"",undo:"",redo:""},procedures:{title:"",translate:{title:"",content:"XY",x:"X",y:"Y"},scale:{title:"",content:"XY",factor:""},changeType:{title:"",changeFrom:"",changeTo:"",info:""},removeLines:{title:"",content:""},unlockSimplePath:{title:"",content1:"11932",content2:"",content3:"",content4:"",content5:"3",check:"",maximumAttemptsExceed:"",unlocked:"",fail:""}},telemetry:{title:"",essential:"",essentialInfo:"Rail Map PainterGoogle AnalyticsRail Map Painter",essentialLink:"Google Analytics",additional:"",additionalInfo:"Rail Map Painter"}},about:{title:"",rmp:"",railmapgen:"",desc:"90135",content1:"",content2:"202261",contributors:"",coreContributors:"",styleContributors:"","203IhzElttil":"","52PD":"",contactUs:"",github:"",githubContent:"",slack:"Slack",slackContent:"Slack",linkExchange:"",guidaoTransit:"",guidaoTransitContent:"? WeChat ()"}}},Os={color:"",warning:"",cancel:"",apply:"",remove:"",close:"",noShowAgain:" ",rmtPromotion:"    ! .",colorModal:{title:" ",example:"",palette:" ",custom:" ",city:" ",line:" ",bg:"",fg:"",white:"",black:"",seeAll:" ",submit:""},panel:{tools:{showLess:" ",section:{lineDrawing:" ",stations:"",miscellaneousNodes:" "}},details:{header:" ",info:{title:"",id:" ",zIndex:"",stationType:" ",linePathType:"  ",lineStyleType:"  ",type:""},nodePosition:{title:" ",pos:{x:" ",y:" "}},lineExtremities:{title:" ",source:"",target:"",sourceName:" ",targetName:" "},specificAttrsTitle:" ",multipleSelection:" ",changeStationTypeContent:"        .",changeLineTypeContent:"      .",changeType:" ",nodes:{common:{nameZh:" ",nameEn:" ",num:" "},virtual:{displayName:" "},shmetroNumLineBadge:{displayName:"    "},shmetroTextLineBadge:{displayName:"    "},gzmtrLineBadge:{displayName:"   "},bjsubwayNumLineBadge:{displayName:"   "},bjsubwayTextLineBadge:{displayName:"    "},berlinSBahnLineBadge:{displayName:" S  "},berlinUBahnLineBadge:{displayName:" U  "},suzhouRTNumLineBadge:{displayName:"    ",branch:""},facilities:{displayName:"",type:"Type"},text:{displayName:" ",content:"",fontSize:" ",lineHeight:"",textAnchor:" ",dominantBaseline:" ",language:"   ",rotate:"",italic:""}},stations:{common:{nameZh:" ",nameEn:" ",nameOffsetX:"  ",nameOffsetY:"  ",rotate:""},interchange:{title:"",within:"  ",outStation:"  ",outSystem:"",addGroup:"  ",noInterchanges:"",nameZh:" ",nameEn:" ",add:" ",copy:" ",remove:" "},shmetroBasic:{displayName:"   "},shmetroBasic2020:{displayName:"   (2020)"},shmetroInt:{displayName:"  ",height:" ",width:" "},shmetroOsysi:{displayName:"    "},gzmtrBasic:{displayName:"  ",lineCode:" ",stationCode:" ",open:"",secondaryNameZh:" 2",secondaryNameEn:" 2",tram:"Tram"},gzmtrInt:{displayName:"  ",lineCode:" ",stationCode:" ",open:"",secondaryNameZh:" 2",secondaryNameEn:" 2"},bjsubwayBasic:{displayName:"  ",open:""},bjsubwayInt:{displayName:"  ",outOfStation:"  "},mtr:{displayName:"MTR "},suzhouRTBasic:{displayName:"  "},suzhouRTInt:{displayName:"  "}},lines:{reconcileId:"   ",common:{offsetFrom:" ",offsetTo:" ",startFrom:" ",roundCornerFactor:""},simple:{displayName:" ",offset:""},diagonal:{displayName:"135  "},perpendicular:{displayName:"90  "},rotatePerpendicular:{displayName:"90   "},singleColor:{displayName:" "},shmetroVirtualInt:{displayName:"    "},gzmtrVirtualInt:{displayName:"    "},chinaRailway:{displayName:"  "},bjsubwaySingleColor:{displayName:"   "},bjsubwayTram:{displayName:"    "},dualColor:{displayName:"  ",swap:" "},river:{displayName:" ",width:""},mtrRaceDays:{displayName:"MTR  "},mtrLightRail:{displayName:"MTR  "},mtrUnpaidArea:{displayName:"MTR   "},mtrPaidArea:{displayName:"MTR   "}},edges:{},footer:{duplicate:"",remove:"",removeEntireLine:"    "}}},header:{popoverHeader:" <1>{{environment}}</1> ",popoverBody:" RMP  .    https://github.com/railmapgen/rmp/issues  .",open:{new:" ",config:" ",configRMG:"RMG  ",projectRMG:"RMG  ",invalidType:"  ! JSON   .",unknownError:"        .  .",gallery:" ",importFromRMPGallery:" {{id}}  .     ? Ctrl + Z       .",failToImportFromRMPGallery:" {{id}}   .    ."},download:{config:" ",image:" ","2rmg":{title:"RMG  ",type:{line:"",loop:"",branch:""},placeholder:{chinese:"  ",english:"  ",lineCode:" "},info1:"  RMP  RMG    .",info2:"       .       ,     ,  (  )    ,     RMG    .",noline:"   .",download:"",downloadInfo:"   ."},format:" ",png:"PNG ",svg:"SVG ()",transparent:" ",scale:"/",disabledScaleOptions:"       .",disabledScaleOptionsWorkarounds:"    CLI   SVG    :",imageTooBig:"       !",shareInfo1:"   ",shareInfo2:"  .",termsAndConditions:"  ",termsAndConditionsInfo:"",period:".",confirm:""},settings:{title:"",pro:"  PRO !",preference:{title:"",keepLastPath:"       "},shortcuts:{title:" ",keys:"",description:"",f:"  ",arrows:"  .",ijkl:"   .",shift:"  .",alt:" .",delete:"  .",undo:"Undo.",redo:"Redo."},procedures:{title:"",translate:{title:"  ",content:"  x  y   :",x:"X",y:"Y"},scale:{title:"  ",content:"  x  y   :",factor:" "},changeType:{title:"   ",changeFrom:"   :",changeTo:"   :",info:"        .  !"},removeLines:{title:"Remove lines with single color",content:"Remove lines that have this color: "},unlockSimplePath:{title:"   ",content1:"Rail Map Painter            .          .     1932      .         .              .",content2:"              .  Rail Map Painter      ,         .",content3:"         .    .                 . ,         .",content4:"     .             .",content5:"       3 .          .    :",check:"      ",maximumAttemptsExceed:"   ",unlocked:" ",fail:""}},telemetry:{title:" ",essential:"",essentialInfo:"   Google Analytics            .                 .           .",essentialLink:"Google Analytics         .",additional:"",additionalInfo:"     (:     ),      .          ."}},about:{title:"",rmp:"  ",railmapgen:"     ",desc:"     90  135        !",content1:"    .",content2:"2022 6 1 ",contributors:"",coreContributors:" ",styleContributors:" ",langonginc:"   .","203IhzElttil":"             .","52PD":"             .",contactUs:" ",github:" ",githubContent:"  ?    !",slack:" ",slackContent:"   !",linkExchange:"",guidaoTransit:"Guidao Transit",guidaoTransitContent:"      ?  WeChat  ! ( )"}}},As={color:"",warning:"",cancel:"",apply:"",remove:"",close:"",noShowAgain:"",rmtPromotion:"",colorModal:{title:"",example:"",palette:"",custom:"",city:"",line:"",bg:"",fg:"",white:"",black:"",seeAll:"",submit:""},panel:{tools:{showLess:"",section:{lineDrawing:"",stations:"",miscellaneousNodes:""}},details:{header:"",info:{title:"",id:"",zIndex:"",stationType:"",linePathType:"",lineStyleType:"",type:""},nodePosition:{title:"",pos:{x:"",y:""}},lineExtremities:{title:"",source:"",target:"",sourceName:"",targetName:""},specificAttrsTitle:"",multipleSelection:"",changeStationTypeContent:"",changeLineTypeContent:"",changeType:"",nodes:{common:{nameZh:"",nameEn:"",num:""},virtual:{displayName:""},shmetroNumLineBadge:{displayName:""},shmetroTextLineBadge:{displayName:""},gzmtrLineBadge:{displayName:""},bjsubwayNumLineBadge:{displayName:""},bjsubwayTextLineBadge:{displayName:""},berlinSBahnLineBadge:{displayName:""},berlinUBahnLineBadge:{displayName:""},suzhouRTNumLineBadge:{displayName:"",branch:""},facilities:{displayName:"",type:""},text:{displayName:"",content:"",fontSize:"",lineHeight:"",textAnchor:"",dominantBaseline:"",language:"",rotate:"",italic:""}},stations:{common:{nameZh:"",nameEn:"",nameOffsetX:"",nameOffsetY:"",rotate:""},interchange:{title:"",within:"",outStation:"",outSystem:"",addGroup:"",noInterchanges:"",nameZh:"",nameEn:"",add:"",copy:"",remove:""},shmetroBasic:{displayName:""},shmetroBasic2020:{displayName:"(2020)"},shmetroInt:{displayName:"",height:"",width:""},shmetroOsysi:{displayName:""},gzmtrBasic:{displayName:"",lineCode:"",stationCode:"",open:"",secondaryNameZh:"",secondaryNameEn:"",tram:""},gzmtrInt:{displayName:"",lineCode:"",stationCode:"",open:"",secondaryNameZh:"",secondaryNameEn:""},bjsubwayBasic:{displayName:"",open:""},bjsubwayInt:{displayName:"",outOfStation:""},mtr:{displayName:"MTR"},suzhouRTBasic:{displayName:""},suzhouRTInt:{displayName:""}},lines:{reconcileId:"",common:{offsetFrom:"",offsetTo:"",startFrom:"",roundCornerFactor:""},simple:{displayName:"",offset:""},diagonal:{displayName:"135"},perpendicular:{displayName:"90"},rotatePerpendicular:{displayName:"90"},singleColor:{displayName:""},shmetroVirtualInt:{displayName:""},gzmtrVirtualInt:{displayName:""},chinaRailway:{displayName:""},bjsubwaySingleColor:{displayName:""},bjsubwayTram:{displayName:""},dualColor:{displayName:"",swap:""},river:{displayName:"",width:""},mtrRaceDays:{displayName:"MTR"},mtrLightRail:{displayName:"MTR"},mtrUnpaidArea:{displayName:"MTR"},mtrPaidArea:{displayName:"MTR"}},edges:{},footer:{duplicate:"",remove:"",removeEntireLine:""}}},header:{popoverHeader:"<1>{{environment}}</1>",popoverBody:"RMP https://github.com/railmapgen/rmp/issues ",open:{new:"",config:"",configRMG:"RMG",projectRMG:"RMG",invalidType:"JSON",unknownError:"",gallery:"",importFromRMPGallery:" {{id}}  Ctrl + Z ",failToImportFromRMPGallery:"{{id}}"},download:{config:"",image:"","2rmg":{title:"RMG",type:{line:"",loop:"",branch:""},placeholder:{chinese:"",english:"",lineCode:""},info1:"RMPRMG",info2:"RMG",noline:"",download:"",downloadInfo:""},format:"",png:"PNG",svg:"SVG",transparent:"",scale:"",disabledScaleOptions:"",disabledScaleOptionsWorkarounds:"SVG",imageTooBig:"",shareInfo1:"",shareInfo2:"",termsAndConditions:"",termsAndConditionsInfo:"",period:"",confirm:""},settings:{title:"",pro:" PRO ",preference:{title:"",keepLastPath:""},shortcuts:{title:"",keys:"",description:"",f:"",arrows:"",ijkl:"",shift:"",alt:"",delete:"",undo:"",redo:""},procedures:{title:"",translate:{title:"",content:"xy",x:"",y:""},scale:{title:"",content:"xy",factor:""},changeType:{title:"",changeFrom:"",changeTo:"",info:""},removeLines:{title:"",content:" "},unlockSimplePath:{title:"",content1:"1932",content2:"",content3:"",content4:"",content5:"",check:"",maximumAttemptsExceed:"",unlocked:"",fail:""}},telemetry:{title:"",essential:"",essentialInfo:" Google Analytics ",essentialLink:" Google Analytics ",additional:"",additionalInfo:" "}},about:{title:"",rmp:"",railmapgen:"",desc:" 90  135 ",content1:"",content2:"06/01/2022",contributors:"",coreContributors:"",styleContributors:"",langonginc:"","203IhzElttil":"","52PD":"",contactUs:"",github:"",githubContent:"",slack:"Slack",slackContent:"Slack!",linkExchange:"",guidaoTransit:"",guidaoTransitContent:""}}},Ls={color:"",warning:"",cancel:"",apply:"",remove:"",close:"",noShowAgain:"",rmtPromotion:"",colorModal:{title:"",example:"",palette:"",custom:"",city:"",line:"",bg:"",fg:"",white:"",black:"",seeAll:"",submit:""},panel:{tools:{showLess:"",section:{lineDrawing:"",stations:"",miscellaneousNodes:""}},details:{header:"",info:{title:"",id:"",zIndex:"",stationType:"",linePathType:"",lineStyleType:"",type:""},nodePosition:{title:"",pos:{x:"",y:""}},lineExtremities:{title:"",source:"",target:"",sourceName:"",targetName:""},specificAttrsTitle:"",multipleSelection:"",changeStationTypeContent:"",changeLineTypeContent:"",changeType:"",node:{common:{nameZh:"",nameEn:"",num:""},virtual:{displayName:""},shmetroNumLineBadge:{displayName:""},shmetroTextLineBadge:{displayName:""},gzmtrLineBadge:{displayName:""},bjsubwayNumLineBadge:{displayName:""},bjsubwayTextLineBadge:{displayName:""},berlinSBahnLineBadge:{displayName:""},berlinUBahnLineBadge:{displayName:""},suzhouRTNumLineBadge:{displayName:"",branch:""},facilities:{displayName:"",type:""},text:{displayName:"",content:"",fontSize:"",lineHeight:"",textAnchor:"",dominantBaseline:"",language:"",rotate:"",italic:""}},stations:{common:{nameZh:"",nameEn:"",nameOffsetX:"",nameOffsetY:"",rotate:""},interchange:{title:"",within:"",outStation:"",outSystem:"",addGroup:"",noInterchanges:"",nameZh:"",nameEn:"",add:"",copy:"",remove:""},shmetroBasic:{displayName:""},shmetroBasic2020:{displayName:"(2020)"},shmetroInt:{displayName:"",height:"",width:""},shmetroOsysi:{displayName:""},gzmtrBasic:{displayName:"",lineCode:"",stationCode:"",open:"",secondaryNameZh:"",secondaryNameEn:"",tram:""},gzmtrInt:{displayName:"",lineCode:"",stationCode:"",open:"",secondaryNameZh:"",secondaryNameEn:""},bjsubwayBasic:{displayName:"",open:""},bjsubwayInt:{displayName:"",outOfStation:""},mtr:{displayName:"MTR"},suzhouRTBasic:{displayName:""},suzhouRTInt:{displayName:""}},lines:{reconcileId:"",common:{offsetFrom:"",offsetTo:"",startFrom:"",roundCornerFactor:""},simple:{displayName:"",offset:""},diagonal:{displayName:"135"},perpendicular:{displayName:"90"},rotatePerpendicular:{displayName:"90"},singleColor:{displayName:""},shmetroVirtualInt:{displayName:""},gzmtrVirtualInt:{displayName:""},chinaRailway:{displayName:""},bjsubwaySingleColor:{displayName:""},bjsubwayTram:{displayName:""},dualColor:{displayName:"",swap:""},river:{displayName:"",width:""},mtrRaceDays:{displayName:"MTR"},mtrLightRail:{displayName:"MTR"},mtrUnpaidArea:{displayName:"MTR"},mtrPaidArea:{displayName:"MTR"}},edges:{},footer:{duplicate:"",remove:"",removeEntireLine:""}}},header:{popoverHeader:"<1>{{environment}}</1>",popoverBody:"RMP https://github.com/railmapgen/rmp/issues ",open:{new:"",config:"",configRMG:"RMG",projectRMG:"RMG",invalidType:"JSON",unknownError:"",gallery:"",importFromRMPGallery:" {{id}}  Ctrl + Z ",failToImportFromRMPGallery:"{{id}}"},download:{config:"",image:"","2rmg":{title:"RMG",type:{line:"",loop:"",branch:""},placeholder:{chinese:"",english:"",lineCode:""},info1:"RMPRMG",info2:"RMG",noline:"",download:"",downloadInfo:""},format:"",png:"PNG",svg:"SVG",transparent:"",scale:"",disabledScaleOptions:"",disabledScaleOptionsWorkarounds:"SVG",imageTooBig:"",shareInfo1:"",shareInfo2:"",termsAndConditions:"",termsAndConditionsInfo:"",period:"",confirm:""},settings:{title:"",pro:" PRO ",preference:{title:"",keepLastPath:""},shortcuts:{title:"",keys:"",description:"",f:"",arrows:"",ijkl:"",shift:"",alt:"",delete:"",undo:"",redo:""},procedures:{title:"",translate:{title:"",content:"xy",x:"",y:""},scale:{title:"",content:"xy",factor:""},changeType:{title:"",changeFrom:"",changeTo:"",info:""},removeLines:{title:"",content:" "},unlockSimplePath:{title:"",content1:"1932",content2:"",content3:"",content4:"",content5:"",check:"",maximumAttemptsExceed:"",unlocked:"",fail:""}},telemetry:{title:"",essential:"",essentialInfo:" Google Analytics ",essentialLink:" Google Analytics ",additional:"",additionalInfo:" "}},about:{title:"",rmp:"",railmapgen:"",desc:" 90  135 ",content1:"",content2:"06/01/2022",contributors:"",coreContributors:"",styleContributors:"",langonginc:"","203IhzElttil":"","52PD":"",contactUs:"",github:"",githubContent:"",slack:"Slack",slackContent:"Slack!",linkExchange:"",guidaoTransit:"",guidaoTransitContent:""}}},Ts=(new pn.I18nBuilder).use(ma).withAppName("Rail Map Painter").withLng(pn.getLanguage()).withDefaultResource(Es).withResource("en",Fs).withResource("zh-Hans",As).withResource("zh-Hant",Ls).withResource("ja",Cs).withResource("ko",Os).build();a("v",_s),function(e){e.black="#000",e.white="#fff"}(_s||a("v",_s={})),a("C",zs),function(e){e.Adelaide="adelaide",e.Almaty="almaty",e.Amsterdam="amsterdam",e.Ankara="ankara",e.Athens="athens",e.Baku="baku",e.Bangkok="bangkok",e.Barcelona="barcelona",e.Beijing="beijing",e.Berlin="berlin",e.Bne="bne",e.Bonn="bonn",e.Bordeaux="bordeaux",e.Boston="boston",e.Brussels="brussels",e.Bucharest="bucharest",e.Budapest="budapest",e.Buenosaires="buenosaires",e.Busan="busan",e.Cairo="cairo",e.Caracas="caracas",e.Cbr="cbr",e.Changchun="changchun",e.Changsha="changsha",e.Changzhou="changzhou",e.Chengdu="chengdu",e.Chennai="chennai",e.Chongqing="chongqing",e.Chuzhou="chuzhou",e.Cochabamba="cochabamba",e.Cologne="cologne",e.Copenhagen="copenhagen",e.Daegu="daegu",e.Dalian="dalian",e.Delhi="delhi",e.Dongguan="dongguan",e.Dortmund="dortmund",e.Dublin="dublin",e.Edinburgh="edinburgh",e.Eskisehir="eskisehir",e.Foshan="foshan",e.Frankfurt="frankfurt",e.Fuzhou="fuzhou",e.Glasgow="glasgow",e.Gothenburg="gothenburg",e.Guadalajara="guadalajara",e.Guangzhou="guangzhou",e.Guiyang="guiyang",e.Hamburg="hamburg",e.Hangzhou="hangzhou",e.Hanoi="hanoi",e.Harbin="harbin",e.Hefei="hefei",e.Hiroshima="hiroshima",e.Hochiminh="hochiminh",e.Hohhot="hohhot",e.Hongkong="hongkong",e.Iashi="iashi",e.Istanbul="istanbul",e.Jakarta="jakarta",e.Jinan="jinan",e.Kansai="kansai",e.Kaohsiung="kaohsiung",e.Kaosiung="kaosiung",e.Kharkiv="kharkiv",e.Klangvalley="klangvalley",e.Kunming="kunming",e.Kyiv="kyiv",e.Lahore="lahore",e.Lanzhou="lanzhou",e.Liege="liege",e.Lille="lille",e.Lima="lima",e.Lisbon="lisbon",e.Littlerockcity="littlerockcity",e.London="london",e.Losangeles="losangeles",e.Lucknow="lucknow",e.Luoyang="luoyang",e.Lyon="lyon",e.Macao="macao",e.Madrid="madrid",e.Manchester="manchester",e.Marseille="marseille",e.Melbourne="melbourne",e.Mexicocity="mexicocity",e.Milan="milan",e.Monterrey="monterrey",e.Montreal="montreal",e.Moscow="moscow",e.Munich="munich",e.Nagpur="nagpur",e.Nanchang="nanchang",e.Nanjing="nanjing",e.Nanning="nanning",e.Nantes="nantes",e.Nantong="nantong",e.Naples="naples",e.Neworleans="neworleans",e.Newtaipei="newtaipei",e.Newyork="newyork",e.Nice="nice",e.Ningbo="ningbo",e.Novosibirsk="novosibirsk",e.Osaka="osaka",e.Oslo="oslo",e.Other="other",e.Ottawa="ottawa",e.Panamacity="panamacity",e.Paris="paris",e.Perth="perth",e.Pyongyang="pyongyang",e.Qingdao="qingdao",e.Rheinruhr="rheinruhr",e.Rio="rio",e.Riyadh="riyadh",e.Rome="rome",e.Rotterdam="rotterdam",e.Saltlakecity="saltlakecity",e.Samara="samara",e.Sanfrancisco="sanfrancisco",e.Sanktpeterburg="sanktpeterburg",e.Santiago="santiago",e.Saopaulo="saopaulo",e.Sapporo="sapporo",e.Seoul="seoul",e.Sevilla="sevilla",e.Shanghai="shanghai",e.Shaoxing="shaoxing",e.Shenyang="shenyang",e.Shenzhen="shenzhen",e.Shijiazhuang="shijiazhuang",e.Shiraz="shiraz",e.Singapore="singapore",e.Stlouis="stlouis",e.Stockholm="stockholm",e.Suzhou="suzhou",e.Sydney="sydney",e.Taichung="taichung",e.Taipei="taipei",e.Taiyuan="taiyuan",e.Taoyuan="taoyuan",e.Tashkent="tashkent",e.Tehran="tehran",e.Tianjin="tianjin",e.Tokyo="tokyo",e.Toronto="toronto",e.Turin="turin",e.Tyneandwear="tyneandwear",e.Urumqi="urumqi",e.Vienna="vienna",e.Warsaw="warsaw",e.Washington="washington",e.Wenzhou="wenzhou",e.Wuhan="wuhan",e.Wuxi="wuxi",e.Xiamen="xiamen",e.Xian="xian",e.Xuzhou="xuzhou",e.Yekaterinburg="yekaterinburg",e.Yevpatoria="yevpatoria",e.Yokohama="yokohama",e.Zhengzhou="zhengzhou"}(zs||a("C",zs={})),function(e){e.AR="AR",e.AT="AT",e.AU="AU",e.AZ="AZ",e.BE="BE",e.BO="BO",e.BR="BR",e.CA="CA",e.CL="CL",e.CN="CN",e.DE="DE",e.DK="DK",e.EG="EG",e.ES="ES",e.FR="FR",e.GBENG="GBENG",e.GBSCT="GBSCT",e.GR="GR",e.HK="HK",e.HU="HU",e.ID="ID",e.IE="IE",e.IN="IN",e.IR="IR",e.IT="IT",e.JP="JP",e.KP="KP",e.KR="KR",e.KZ="KZ",e.MO="MO",e.MX="MX",e.MY="MY",e.NL="NL",e.NO="NO",e.PA="PA",e.PE="PE",e.PK="PK",e.PL="PL",e.PT="PT",e.RO="RO",e.RU="RU",e.SA="SA",e.SE="SE",e.SG="SG",e.TH="TH",e.TR="TR",e.TW="TW",e.UA="UA",e.UN="UN",e.US="US",e.UZ="UZ",e.VE="VE",e.VN="VN"}(Ns||(Ns={}));var Hs=[{id:zs.Adelaide,country:Ns.AU,name:{en:"Adelaide","zh-Hans":"","zh-Hant":""}},{id:zs.Almaty,country:Ns.KZ,name:{en:"Almaty","zh-Hans":"","zh-Hant":"",kk:""}},{id:zs.Amsterdam,country:Ns.NL,name:{en:"Amsterdam",ko:"","zh-Hans":"","zh-Hant":""}},{id:zs.Ankara,country:Ns.TR,name:{en:"Ankara",tr:"Ankara","zh-Hans":"","zh-Hant":""}},{id:zs.Athens,country:Ns.GR,name:{el:"",en:"Athens","zh-Hans":"","zh-Hant":""}},{id:zs.Baku,country:Ns.AZ,name:{en:"Baku",az:"Bak","zh-Hans":"","zh-Hant":""}},{id:zs.Bangkok,country:Ns.TH,name:{en:"Bangkok","zh-Hans":"","zh-Hant":""}},{id:zs.Barcelona,country:Ns.ES,name:{en:"Barcelona",es:"Barcelona","zh-Hans":"","zh-Hant":""}},{id:zs.Beijing,country:Ns.CN,name:{en:"Beijing","zh-Hans":"","zh-Hant":""}},{id:zs.Berlin,country:Ns.DE,name:{de:"Berlin",en:"Berlin","zh-Hans":"","zh-Hant":""}},{id:zs.Bne,country:Ns.AU,name:{en:"Brisbane",ko:"","zh-Hans":"","zh-Hant":""}},{id:zs.Bonn,country:Ns.DE,name:{en:"Bonn",de:"Bonn","zh-Hans":"","zh-Hant":""}},{id:zs.Bordeaux,country:Ns.FR,name:{en:"Bordeaux","zh-Hans":"","zh-Hant":"",fr:"Bordeaux"}},{id:zs.Boston,country:Ns.US,name:{en:"Boston","zh-Hans":"","zh-Hant":""}},{id:zs.Brussels,country:Ns.BE,name:{en:"Brussels",fr:"Bruxelles","zh-Hans":"","zh-Hant":""}},{id:zs.Bucharest,country:Ns.RO,name:{en:"Bucharest",ro:"Bucureti","zh-Hans":"","zh-Hant":""}},{id:zs.Budapest,country:Ns.HU,name:{en:"Budapest",hu:"Budapest","zh-Hans":"","zh-Hant":""}},{id:zs.Buenosaires,country:Ns.AR,name:{es:"Buenos Aires","zh-Hans":"","zh-Hant":"",en:"Buenos Aires"}},{id:zs.Busan,country:Ns.KR,name:{en:"Busan",ko:"","zh-Hans":"","zh-Hant":""}},{id:zs.Cairo,country:Ns.EG,name:{en:"Cairo (Greater Cairo Area)",ar:" (  )","zh-Hans":"","zh-Hant":""}},{id:zs.Caracas,country:Ns.VE,name:{en:"Caracas",es:"Caracas","zh-Hans":"","zh-Hant":""}},{id:zs.Cbr,country:Ns.AU,name:{en:"Canberra","zh-Hans":"","zh-Hant":""}},{id:zs.Changchun,country:Ns.CN,name:{en:"Changchun","zh-Hans":"","zh-Hant":""}},{id:zs.Changsha,country:Ns.CN,name:{en:"Changsha","zh-Hans":"","zh-Hant":""}},{id:zs.Changzhou,country:Ns.CN,name:{en:"Changzhou",ko:"","zh-Hans":"","zh-Hant":""}},{id:zs.Chengdu,country:Ns.CN,name:{en:"Chengdu","zh-Hans":"","zh-Hant":""}},{id:zs.Chennai,country:Ns.IN,name:{en:"Chennai","zh-Hans":"","zh-Hant":"",hi:""}},{id:zs.Chongqing,country:Ns.CN,name:{en:"Chongqing","zh-Hans":"","zh-Hant":""}},{id:zs.Chuzhou,country:Ns.CN,name:{en:"Chuzhou","zh-Hans":"","zh-Hant":""}},{id:zs.Cochabamba,country:Ns.BO,name:{es:"Cochabamba","zh-Hans":"","zh-Hant":"",en:"Cochabamba"}},{id:zs.Cologne,country:Ns.DE,name:{en:"Cologne",de:"Kln","zh-Hans":"","zh-Hant":""}},{id:zs.Copenhagen,country:Ns.DK,name:{en:"Copenhagen","zh-Hans":"","zh-Hant":""}},{id:zs.Daegu,country:Ns.KR,name:{en:"Daegu",ko:"","zh-Hans":"","zh-Hant":""}},{id:zs.Dalian,country:Ns.CN,name:{en:"Dalian","zh-Hans":"","zh-Hant":""}},{id:zs.Delhi,country:Ns.IN,name:{en:"Delhi",hi:"","zh-Hans":"","zh-Hant":""}},{id:zs.Dongguan,country:Ns.CN,name:{en:"Dongguan","zh-Hans":"","zh-Hant":""}},{id:zs.Dortmund,country:Ns.DE,name:{en:"Dortmund",de:"Dortmund","zh-Hans":"","zh-Hant":""}},{id:zs.Dublin,country:Ns.IE,name:{en:"Dublin",ga:"Baile tha Cliath","zh-Hans":"","zh-Hant":""}},{id:zs.Edinburgh,country:Ns.GBSCT,name:{en:"Edinburgh",ga:"Dn ideann","zh-Hans":"","zh-Hant":""}},{id:zs.Eskisehir,country:Ns.TR,name:{en:"Eskiehir",tr:"Eskiehir","zh-Hans":"","zh-Hant":""}},{id:zs.Foshan,country:Ns.CN,name:{en:"Foshan","zh-Hans":"","zh-Hant":""}},{id:zs.Frankfurt,country:Ns.DE,name:{de:"Frankfurt am Main",en:"Frankfurt am Main","zh-Hans":"","zh-Hant":""}},{id:zs.Fuzhou,country:Ns.CN,name:{en:"Fuzhou",ko:"","zh-Hans":"","zh-Hant":""}},{id:zs.Glasgow,country:Ns.GBSCT,name:{en:"Glasgow",ga:"Glaschu","zh-Hans":"","zh-Hant":""}},{id:zs.Gothenburg,country:Ns.SE,name:{en:"Gothenburg",es:"Gteborg","zh-Hans":"","zh-Hant":""}},{id:zs.Guadalajara,country:Ns.MX,name:{en:"Guadalajara",es:"Guadalajara","zh-Hans":"","zh-Hant":""}},{id:zs.Guangzhou,country:Ns.CN,name:{en:"Guangzhou","zh-Hans":"","zh-Hant":""}},{id:zs.Guiyang,country:Ns.CN,name:{en:"Guiyang",ko:"","zh-Hans":"","zh-Hant":""}},{id:zs.Hamburg,country:Ns.DE,name:{en:"Hamburg",de:"Hamburg","zh-Hans":"","zh-Hant":""}},{id:zs.Hangzhou,country:Ns.CN,name:{en:"Hangzhou","zh-Hans":"","zh-Hant":""}},{id:zs.Hanoi,country:Ns.VN,name:{en:"Hanoi",vi:"H Ni","zh-Hans":"","zh-Hant":""}},{id:zs.Harbin,country:Ns.CN,name:{en:"Harbin","zh-Hans":"","zh-Hant":""}},{id:zs.Hefei,country:Ns.CN,name:{"zh-Hans":"","zh-Hant":"",en:"Hefei"}},{id:zs.Hiroshima,country:Ns.JP,name:{en:"Hiroshima","zh-Hans":"","zh-Hant":"",ja:""}},{id:zs.Hochiminh,country:Ns.VN,name:{en:"Ho Chi Minh City",vi:"Thnh ph H Ch Minh","zh-Hans":"","zh-Hant":""}},{id:zs.Hohhot,country:Ns.CN,name:{en:"Hohhot",ko:"","zh-Hans":"","zh-Hant":""}},{id:zs.Hongkong,country:Ns.HK,name:{en:"Hong Kong","zh-Hans":"","zh-Hant":""}},{id:zs.Iashi,country:Ns.RO,name:{en:"Iai",ro:"Iai","zh-Hans":"","zh-Hant":""}},{id:zs.Istanbul,country:Ns.TR,name:{en:"Istanbul",tr:"stanbul","zh-Hans":"","zh-Hant":""}},{id:zs.Jakarta,country:Ns.ID,name:{en:"Jakarta",id:"Jakarta","zh-Hans":"","zh-Hant":""}},{id:zs.Jinan,country:Ns.CN,name:{en:"Jinan","zh-Hans":"","zh-Hant":""}},{id:zs.Kansai,country:Ns.JP,name:{en:"Kansai Area",ja:"","zh-Hans":"","zh-Hant":""}},{id:zs.Kaohsiung,country:Ns.TW,name:{en:"Kaohsiung","zh-Hans":"","zh-Hant":""}},{id:zs.Kaosiung,country:Ns.TW,name:{en:"Kaosiung","zh-Hans":"","zh-Hant":"",ko:""}},{id:zs.Kharkiv,country:Ns.UA,name:{en:"Kharkiv","zh-Hans":"","zh-Hant":""}},{id:zs.Klangvalley,country:Ns.MY,name:{en:"Greater KL/Klang Valley",ms:"Kuala Lumpur Raya/Lembah Klang","zh-Hans":"/","zh-Hant":"/"}},{id:zs.Kunming,country:Ns.CN,name:{en:"Kunming","zh-Hans":"","zh-Hant":""}},{id:zs.Kyiv,country:Ns.UA,name:{en:"Kyiv","zh-Hans":"","zh-Hant":"",uk:""}},{id:zs.Lahore,country:Ns.PK,name:{en:"Lahore",ur:"","zh-Hans":"","zh-Hant":""}},{id:zs.Lanzhou,country:Ns.CN,name:{en:"Lanzhou",ko:"","zh-Hans":"","zh-Hant":""}},{id:zs.Liege,country:Ns.BE,name:{en:"Lige","zh-Hans":"","zh-Hant":"",fr:"Lige"}},{id:zs.Lille,country:Ns.FR,name:{en:"Lille","zh-Hans":"","zh-Hant":"",fr:"Lille"}},{id:zs.Lima,country:Ns.PE,name:{en:"Lima",es:"Lima","zh-Hans":"","zh-Hant":""}},{id:zs.Lisbon,country:Ns.PT,name:{en:"Lisbon",pt:"Lisboa","zh-Hans":"","zh-Hant":""}},{id:zs.Littlerockcity,country:Ns.US,name:{en:"Little Rock City","zh-Hans":"","zh-Hant":""}},{id:zs.London,country:Ns.GBENG,name:{en:"London","zh-Hans":"","zh-Hant":""}},{id:zs.Losangeles,country:Ns.US,name:{en:"Los Angeles (South California)","zh-Hans":"","zh-Hant":"",ko:"  ( )"}},{id:zs.Lucknow,country:Ns.IN,name:{en:"Lucknow","zh-Hans":"","zh-Hant":"",hi:""}},{id:zs.Luoyang,country:Ns.CN,name:{en:"Luoyang","zh-Hans":"","zh-Hant":""}},{id:zs.Lyon,country:Ns.FR,name:{en:"Lyon","zh-Hans":"","zh-Hant":""}},{id:zs.Macao,country:Ns.MO,name:{en:"Macao",pt:"Macau","zh-Hans":"","zh-Hant":""}},{id:zs.Madrid,country:Ns.ES,name:{en:"Madrid","zh-Hans":"","zh-Hant":""}},{id:zs.Manchester,country:Ns.GBENG,name:{en:"Manchester","zh-Hans":"","zh-Hant":""}},{id:zs.Marseille,country:Ns.FR,name:{en:"Marseille","zh-Hans":"","zh-Hant":"",fr:"Marseille"}},{id:zs.Melbourne,country:Ns.AU,name:{en:"Melbourne","zh-Hans":"","zh-Hant":""}},{id:zs.Mexicocity,country:Ns.MX,name:{en:"Mexico City","zh-Hans":"","zh-Hant":"",es:"Ciudad de Mxico"}},{id:zs.Milan,country:Ns.IT,name:{en:"Milan",it:"Milano","zh-Hans":"","zh-Hant":""}},{id:zs.Monterrey,country:Ns.MX,name:{es:"Monterrey","zh-Hans":"","zh-Hant":"",en:"Monterrey"}},{id:zs.Montreal,country:Ns.CA,name:{en:"Montreal",fr:"Montral","zh-Hans":"","zh-Hant":""}},{id:zs.Moscow,country:Ns.RU,name:{en:"Moscow","zh-Hans":"","zh-Hant":"",ru:"",fr:"Moscou"}},{id:zs.Munich,country:Ns.DE,name:{de:"Mnchen",en:"Munich","zh-Hans":"","zh-Hant":""}},{id:zs.Nagpur,country:Ns.IN,name:{en:"Nagpur","zh-Hans":"","zh-Hant":"",hi:""}},{id:zs.Nanchang,country:Ns.CN,name:{en:"Nanchang",ko:"","zh-Hans":"","zh-Hant":""}},{id:zs.Nanjing,country:Ns.CN,name:{en:"Nanjing","zh-Hans":"","zh-Hant":""}},{id:zs.Nanning,country:Ns.CN,name:{en:"Nanning","zh-Hans":"","zh-Hant":""}},{id:zs.Nantes,country:Ns.FR,name:{en:"Nantes",fr:"Nantes","zh-Hans":"","zh-Hant":""}},{id:zs.Nantong,country:Ns.CN,name:{en:"Nantong",ko:"","zh-Hans":"","zh-Hant":""}},{id:zs.Naples,country:Ns.IT,name:{en:"Naples",it:"Napoli","zh-Hans":"","zh-Hant":""}},{id:zs.Neworleans,country:Ns.US,name:{en:"New Orleans","zh-Hans":"","zh-Hant":""}},{id:zs.Newtaipei,country:Ns.TW,name:{en:"New Taipei","zh-Hans":"","zh-Hant":""}},{id:zs.Newyork,country:Ns.US,name:{en:"New York","zh-Hans":"","zh-Hant":""}},{id:zs.Nice,country:Ns.FR,name:{en:"Nice",fr:"Nice","zh-Hans":"","zh-Hant":""}},{id:zs.Ningbo,country:Ns.CN,name:{en:"Ningbo","zh-Hans":"","zh-Hant":""}},{id:zs.Novosibirsk,country:Ns.RU,name:{en:"Novosibirsk","zh-Hans":"","zh-Hant":"",ru:""}},{id:zs.Osaka,country:Ns.JP,name:{en:"Osaka",ja:"","zh-Hans":"","zh-Hant":""}},{id:zs.Oslo,country:Ns.NO,name:{en:"Oslo","zh-Hans":"","zh-Hant":""}},{id:zs.Other,country:Ns.UN,name:{en:"Customise","zh-Hans":"","zh-Hant":""}},{id:zs.Ottawa,country:Ns.CA,name:{en:"Ottawa",fr:"Ottawa","zh-Hans":"","zh-Hant":""}},{id:zs.Panamacity,country:Ns.PA,name:{en:"Panama City","zh-Hans":"","zh-Hant":"",es:"Ciudad de Panam"}},{id:zs.Paris,country:Ns.FR,name:{en:"Paris","zh-Hans":"","zh-Hant":""}},{id:zs.Perth,country:Ns.AU,name:{en:"Perth","zh-Hans":"","zh-Hant":""}},{id:zs.Pyongyang,country:Ns.KP,name:{en:"Pyongyang","zh-Hans":"","zh-Hant":"",ko:""}},{id:zs.Qingdao,country:Ns.CN,name:{en:"Qingdao","zh-Hans":"","zh-Hant":""}},{id:zs.Rheinruhr,country:Ns.DE,name:{de:"Metropolregion Rhein-Ruhr",en:"Rhein-Ruhr Metropolitan Region","zh-Hans":"-","zh-Hant":"-"}},{id:zs.Rio,country:Ns.BR,name:{en:"Rio de Janeiro",pt:"Rio de Janeiro","zh-Hans":"","zh-Hant":""}},{id:zs.Riyadh,country:Ns.SA,name:{en:"Riyadh",ar:"","zh-Hans":"","zh-Hant":""}},{id:zs.Rome,country:Ns.IT,name:{en:"Rome",ko:"","zh-Hans":"","zh-Hant":"",it:"Roma"}},{id:zs.Rotterdam,country:Ns.NL,name:{en:"Rotterdam",ko:"","zh-Hans":"","zh-Hant":""}},{id:zs.Saltlakecity,country:Ns.US,name:{en:"Salt Lake City","zh-Hans":"","zh-Hant":""}},{id:zs.Samara,country:Ns.RU,name:{en:"Samara","zh-Hans":"","zh-Hant":"",ru:""}},{id:zs.Sanfrancisco,country:Ns.US,name:{en:"San Francisco","zh-Hans":"","zh-Hant":""}},{id:zs.Sanktpeterburg,country:Ns.RU,name:{en:"Sankt Peterburg",ru:"-","zh-Hans":"","zh-Hant":""}},{id:zs.Santiago,country:Ns.CL,name:{en:"Santiago",es:"Santiago","zh-Hans":"","zh-Hant":" "}},{id:zs.Saopaulo,country:Ns.BR,name:{en:"Sao Paulo",pt:"So Paulo","zh-Hans":"","zh-Hant":""}},{id:zs.Sapporo,country:Ns.JP,name:{en:"Sapporo",ja:"","zh-Hans":"","zh-Hant":""}},{id:zs.Seoul,country:Ns.KR,name:{en:"Seoul (Metropolitan Area)",ko:"()","zh-Hans":"","zh-Hant":""}},{id:zs.Sevilla,country:Ns.ES,name:{es:"Sevilla",en:"Seville"}},{id:zs.Shanghai,country:Ns.CN,name:{en:"Shanghai","zh-Hans":"","zh-Hant":""}},{id:zs.Shaoxing,country:Ns.CN,name:{en:"Shaoxing","zh-Hans":"","zh-Hant":""}},{id:zs.Shenyang,country:Ns.CN,name:{en:"Shenyang","zh-Hans":"","zh-Hant":""}},{id:zs.Shenzhen,country:Ns.CN,name:{en:"Shenzhen","zh-Hans":"","zh-Hant":""}},{id:zs.Shijiazhuang,country:Ns.CN,name:{en:"Shijiazhuang","zh-Hans":""}},{id:zs.Shiraz,country:Ns.IR,name:{en:"Shiraz","zh-Hans":"","zh-Hant":"",fa:""}},{id:zs.Singapore,country:Ns.SG,name:{en:"Singapore","zh-Hans":"","zh-Hant":""}},{id:zs.Stlouis,country:Ns.US,name:{en:"St. Louis","zh-Hans":"","zh-Hant":""}},{id:zs.Stockholm,country:Ns.SE,name:{en:"Stockholm","zh-Hans":"","zh-Hant":""}},{id:zs.Suzhou,country:Ns.CN,name:{en:"Suzhou","zh-Hans":"","zh-Hant":""}},{id:zs.Sydney,country:Ns.AU,name:{en:"Sydney","zh-Hans":"","zh-Hant":""}},{id:zs.Taichung,country:Ns.TW,name:{en:"Taichung","zh-Hans":"","zh-Hant":""}},{id:zs.Taipei,country:Ns.TW,name:{en:"Taipei","zh-Hans":"","zh-Hant":""}},{id:zs.Taiyuan,country:Ns.CN,name:{en:"Taiyuan","zh-Hans":""}},{id:zs.Taoyuan,country:Ns.TW,name:{en:"Taoyuan","zh-Hans":"","zh-Hant":""}},{id:zs.Tashkent,country:Ns.UZ,name:{en:"Tashkent","zh-Hans":"","zh-Hant":""}},{id:zs.Tehran,country:Ns.IR,name:{en:"Tehran",fa:"","zh-Hans":"","zh-Hant":""}},{id:zs.Tianjin,country:Ns.CN,name:{en:"Tianjin","zh-Hans":"","zh-Hant":""}},{id:zs.Tokyo,country:Ns.JP,name:{en:"Tokyo (Greater Tokyo Area)",ja:"","zh-Hans":"","zh-Hant":""}},{id:zs.Toronto,country:Ns.CA,name:{en:"Toronto (Greater Toronto and Hamilton Area)",fr:"Toronto (Rgion du Grand Toronto et de Hamilton)","zh-Hans":"","zh-Hant":""}},{id:zs.Turin,country:Ns.IT,name:{en:"Turin","zh-Hans":"","zh-Hant":"",it:"Torino"}},{id:zs.Tyneandwear,country:Ns.GBENG,name:{en:"Tyne and Wear","zh-Hans":"-","zh-Hant":""}},{id:zs.Urumqi,country:Ns.CN,name:{en:"Urumqi","zh-Hans":"","zh-Hant":""}},{id:zs.Vienna,country:Ns.AT,name:{en:"Vienna",de:"Wien","zh-Hans":"","zh-Hant":""}},{id:zs.Warsaw,country:Ns.PL,name:{en:"Warsaw",pl:"Warszawa","zh-Hans":"","zh-Hant":""}},{id:zs.Washington,country:Ns.US,name:{en:"Washington DC","zh-Hans":"","zh-Hant":""}},{id:zs.Wenzhou,country:Ns.CN,name:{en:"Wenzhou",ko:"","zh-Hans":"","zh-Hant":""}},{id:zs.Wuhan,country:Ns.CN,name:{en:"Wuhan","zh-Hans":"","zh-Hant":""}},{id:zs.Wuxi,country:Ns.CN,name:{en:"Wuxi","zh-Hans":"","zh-Hant":""}},{id:zs.Xiamen,country:Ns.CN,name:{en:"Xiamen","zh-Hans":"","zh-Hant":""}},{id:zs.Xian,country:Ns.CN,name:{en:"Xi'an","zh-Hans":"","zh-Hant":""}},{id:zs.Xuzhou,country:Ns.CN,name:{en:"Xuzhou","zh-Hans":"","zh-Hant":""}},{id:zs.Yekaterinburg,country:Ns.RU,name:{en:"Yekaterinburg","zh-Hans":"","zh-Hant":"",ru:""}},{id:zs.Yevpatoria,country:Ns.UA,name:{en:"Yevpatoria","zh-Hans":"","zh-Hant":""}},{id:zs.Yokohama,country:Ns.JP,name:{en:"Yokohama",ja:"","zh-Hans":"","zh-Hant":""}},{id:zs.Zhengzhou,country:Ns.CN,name:{en:"Zhengzhou","zh-Hans":"","zh-Hant":""}}],Rs=[{id:Ns.AR,name:{es:"Argentina","zh-Hans":"","zh-Hant":"",en:"Argentina"},language:"es",flagEmoji:"",flagSvg:"1F1E6-1F1F7.svg"},{id:Ns.AT,name:{en:"Austria",de:"sterreich","zh-Hans":"","zh-Hant":""},language:"de",flagEmoji:"",flagSvg:"1F1E6-1F1F9.svg"},{id:Ns.AU,name:{en:"Australia",ko:"","zh-Hans":"","zh-Hant":""},language:"en",flagEmoji:"",flagSvg:"1F1E6-1F1FA.svg"},{id:Ns.AZ,name:{en:"Azerbaijan",az:"Azrbaycan","zh-Hans":"","zh-Hant":""},language:"az",flagEmoji:"",flagSvg:"1F1E6-1F1FF.svg"},{id:Ns.BE,name:{en:"Belgium",fr:"Belgique","zh-Hans":"","zh-Hant":""},language:"fr",flagEmoji:"",flagSvg:"1F1E7-1F1EA.svg"},{id:Ns.BO,name:{en:"Bolivia","zh-Hans":"","zh-Hant":"",es:"Bolivia"},language:"es",flagEmoji:"",flagSvg:"1F1E7-1F1F4.svg"},{id:Ns.BR,name:{en:"Brazil",pt:"Brasil","zh-Hans":"","zh-Hant":""},language:"pt",flagEmoji:"",flagSvg:"1F1E7-1F1F7.svg"},{id:Ns.CA,name:{en:"Canada",fr:"Canada","zh-Hans":"","zh-Hant":""},language:"en",flagEmoji:"",flagSvg:"1F1E8-1F1E6.svg"},{id:Ns.CL,name:{en:"Chile",es:"Chile","zh-Hans":"","zh-Hant":""},language:"es",flagEmoji:"",flagSvg:"1F1E8-1F1F1.svg"},{id:Ns.CN,name:{en:"China","zh-Hans":"","zh-Hant":""},language:"zh-Hans",flagEmoji:"",flagSvg:"1F1E8-1F1F3.svg"},{id:Ns.DE,name:{en:"Germany",de:"Deutsche","zh-Hans":"","zh-Hant":""},language:"de",flagEmoji:"",flagSvg:"1F1E9-1F1EA.svg"},{id:Ns.DK,name:{en:"Denmark",da:"Danmark","zh-Hans":"","zh-Hant":""},language:"da",flagEmoji:"",flagSvg:"1F1E9-1F1F0.svg"},{id:Ns.EG,name:{en:"Egypt",ar:"","zh-Hans":"","zh-Hant":""},language:"ar",flagEmoji:"",flagSvg:"1F1EA-1F1EC.svg"},{id:Ns.ES,name:{en:"Spain",es:"Espaa","zh-Hans":"","zh-Hant":""},language:"es",flagEmoji:"",flagSvg:"1F1EA-1F1F8.svg"},{id:Ns.FR,name:{en:"France",fr:"France","zh-Hans":"","zh-Hant":""},language:"fr",flagEmoji:"",flagSvg:"1F1EB-1F1F7.svg"},{id:Ns.GBENG,name:{en:"England","zh-Hans":"","zh-Hant":""},language:"en",flagEmoji:"",flagSvg:"1F3F4-E0067-E0062-E0065-E006E-E0067-E007F.svg"},{id:Ns.GBSCT,name:{en:"Scotland",ga:"Alba","zh-Hans":"","zh-Hant":""},language:"en",flagEmoji:"",flagSvg:"1F3F4-E0067-E0062-E0073-E0063-E0074-E007F.svg"},{id:Ns.GR,name:{en:"Greece",el:"","zh-Hans":"","zh-Hant":""},language:"el",flagEmoji:"",flagSvg:"1F1EC-1F1F7.svg"},{id:Ns.HK,name:{en:"Hong Kong","zh-Hans":"","zh-Hant":""},language:"zh-Hant",flagEmoji:"",flagSvg:"1F1ED-1F1F0.svg"},{id:Ns.HU,name:{en:"Hungary",hu:"Magyarorszg","zh-Hans":"","zh-Hant":""},language:"hu",flagEmoji:"",flagSvg:"1F1ED-1F1FA.svg"},{id:Ns.ID,name:{en:"Indonesia",id:"Indonesia","zh-Hans":"","zh-Hant":""},language:"id",flagEmoji:"",flagSvg:"1F1EE-1F1E9.svg"},{id:Ns.IE,name:{en:"Ireland",ga:"ire","zh-Hans":"","zh-Hant":""},language:"ga",flagEmoji:"",flagSvg:"1F1EE-1F1EA.svg"},{id:Ns.IN,name:{en:"India",hi:"","zh-Hans":"","zh-Hant":""},language:"hi",flagEmoji:"",flagSvg:"1F1EE-1F1F3.svg"},{id:Ns.IR,name:{en:"Iran",fa:"","zh-Hans":"","zh-Hant":""},language:"fa",flagEmoji:"",flagSvg:"1F1EE-1F1F7.svg"},{id:Ns.IT,name:{en:"Italy",it:"Italia","zh-Hans":"","zh-Hant":""},language:"it",flagEmoji:"",flagSvg:"1F1EE-1F1F9.svg"},{id:Ns.JP,name:{en:"Japan",ja:"","zh-Hans":"","zh-Hant":""},language:"ja",flagEmoji:"",flagSvg:"1F1EF-1F1F5.svg"},{id:Ns.KP,name:{en:"North Korea","zh-Hans":"","zh-Hant":"",ko:""},language:"ko",flagEmoji:"",flagSvg:"1F1F0-1F1F5.svg"},{id:Ns.KR,name:{en:"South Korea",ko:"","zh-Hans":"","zh-Hant":""},language:"ko",flagEmoji:"",flagSvg:"1F1F0-1F1F7.svg"},{id:Ns.KZ,name:{en:"Kazakhstan","zh-Hans":"","zh-Hant":"",kk:""},language:"kk",flagEmoji:"",flagSvg:"1F1F0-1F1FF.svg"},{id:Ns.MO,name:{en:"Macao",pt:"Macau","zh-Hans":"","zh-Hant":""},language:"zh-Hant",flagEmoji:"",flagSvg:"1F1F2-1F1F4.svg"},{id:Ns.MX,name:{en:"Mexico",es:"Mxico","zh-Hans":"","zh-Hant":""},language:"es",flagEmoji:"",flagSvg:"1F1F2-1F1FD.svg"},{id:Ns.MY,name:{en:"Malaysia",ms:"Malaysia","zh-Hans":"","zh-Hant":""},language:"ms",flagEmoji:"",flagSvg:"1F1F2-1F1FE.svg"},{id:Ns.NL,name:{en:"Netherlands",ko:"","zh-Hans":"","zh-Hant":""},flagEmoji:"",flagSvg:"1F1F3-1F1F1.svg",language:void 0},{id:Ns.NO,name:{en:"Norway",no:"Norge","zh-Hans":"","zh-Hant":""},language:"no",flagEmoji:"",flagSvg:"1F1F3-1F1F4.svg"},{id:Ns.PA,name:{en:"Panama","zh-Hans":"","zh-Hant":"",es:"Panam"},language:"es",flagEmoji:"",flagSvg:"1F1F5-1F1E6.svg"},{id:Ns.PE,name:{en:"Peru",es:"Per","zh-Hans":"","zh-Hant":""},language:"es",flagEmoji:"",flagSvg:"1F1F5-1F1EA.svg"},{id:Ns.PK,name:{en:"Pakistan",ur:"","zh-Hans":"","zh-Hant":""},language:"ur",flagEmoji:"",flagSvg:"1F1F5-1F1F0.svg"},{id:Ns.PL,name:{en:"Poland",pl:"Polska","zh-Hans":"","zh-Hant":""},language:"pl",flagEmoji:"",flagSvg:"1F1F5-1F1F1.svg"},{id:Ns.PT,name:{en:"Portugal",pt:"Portugal","zh-Hans":"","zh-Hant":""},language:"pt",flagEmoji:"",flagSvg:"1F1F5-1F1F9.svg"},{id:Ns.RO,name:{en:"Romania",ro:"Romnia","zh-Hans":"","zh-Hant":""},language:"ro",flagEmoji:"",flagSvg:"1F1F7-1F1F4.svg"},{id:Ns.RU,name:{en:"Russia",ru:"","zh-Hans":"","zh-Hant":""},language:"ru",flagEmoji:"",flagSvg:"1F1F7-1F1FA.svg"},{id:Ns.SA,name:{en:"Saudi Arabia",ar:"  ","zh-Hans":"","zh-Hant":""},language:"ar",flagEmoji:"",flagSvg:"1F1F8-1F1E6.svg"},{id:Ns.SE,name:{en:"Sweden",sv:"Sverige","zh-Hans":"","zh-Hant":""},language:"sv",flagEmoji:"",flagSvg:"1F1F8-1F1EA.svg"},{id:Ns.SG,name:{en:"Singapore",ms:"Singapura","zh-Hans":"","zh-Hant":""},language:"en",flagEmoji:"",flagSvg:"1F1F8-1F1EC.svg"},{id:Ns.TH,name:{en:"Thailand",th:"","zh-Hans":"","zh-Hant":""},language:"th",flagEmoji:"",flagSvg:"1F1F9-1F1ED.svg"},{id:Ns.TR,name:{en:"Turkey",tr:"Trkiye","zh-Hans":"","zh-Hant":""},language:"tr",flagEmoji:"",flagSvg:"1F1F9-1F1F7.svg"},{id:Ns.TW,name:{en:"Taiwan","zh-Hans":"","zh-Hant":""},language:"zh-Hant",flagEmoji:"",flagSvg:"1F1F9-1F1FC.svg"},{id:Ns.UA,name:{en:"Ukraine",uk:"","zh-Hans":"","zh-Hant":""},language:"uk",flagEmoji:"",flagSvg:"1F1FA-1F1E6.svg"},{id:Ns.UN,name:{en:"Customise","zh-Hans":"","zh-Hant":""},flagEmoji:"",flagSvg:"1F1FA-1F1F3.svg",language:void 0},{id:Ns.US,name:{en:"United States","zh-Hans":"","zh-Hant":""},language:"en",flagEmoji:"",flagSvg:"1F1FA-1F1F8.svg"},{id:Ns.UZ,name:{en:"Uzbekistan",uz:"O'zbekiston","zh-Hans":"","zh-Hant":""},language:"uz",flagEmoji:"",flagSvg:"1F1FA-1F1FF.svg"},{id:Ns.VE,name:{en:"Venezuela","zh-Hans":"","zh-Hant":""},flagEmoji:"",flagSvg:"1F1FB-1F1EA.svg",language:void 0},{id:Ns.VN,name:{en:"Vietnam",vi:"Vit Nam","zh-Hans":"","zh-Hant":""},language:"vi",flagEmoji:"",flagSvg:"1F1FB-1F1F3.svg"}],Ms=a("n",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")})),Ps=a("L",function(e){return e.Diagonal="diagonal",e.Perpendicular="perpendicular",e.RotatePerpendicular="ro-perp",e.Simple="simple",e}(Ps||{})),Gs=a("c",function(e){return e.SingleColor="single-color",e.ShmetroVirtualInt="shmetro-virtual-int",e.GzmtrVirtualInt="gzmtr-virtual-int",e.ChinaRailway="china-railway",e.BjsubwaySingleColor="bjsubway-single-color",e.BjsubwayTram="bjsubway-tram",e.DualColor="dual-color",e.River="river",e.MTRRaceDays="mtr-race-days",e.MTRLightRail="mtr-light-rail",e.MTRUnpaidArea="mtr-unpaid-area",e.MTRPaidArea="mtr-paid-area",e}(Gs||{})),Is={offset:0},Bs=[{type:"input",label:"panel.details.lines.simple.offset",value:function(e){var t;return(null!==(t=null==e?void 0:e.offset)&&void 0!==t?t:Is.offset).toString()},validator:function(e){return!Number.isNaN(e)},onChange:function(e,t){var n=null!=t?t:Is;return Number.isNaN(e)||(n.offset=Number(e)),n}}],Ds={generatePath:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Is,o=a.offset,i=void 0===o?Is.offset:o,s=Math.abs((r-n)/(t-e));if(s===1/0)return"M ".concat(e+i,",").concat(n," L ").concat(t+i,",").concat(r);if(0===s)return"M ".concat(e,",").concat(n+i," L ").concat(t,",").concat(r+i);var u=1/s,l=i/Math.sqrt(u*u+1),c=l*u*-Math.sign((t-e)*(r-n));return"M ".concat(e+l,",").concat(n+c," L ").concat(t+l,",").concat(r+c)},icon:w.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:w.jsx("path",{d:"M6,18L18,6",stroke:"currentColor",fill:"none"})}),defaultAttrs:Is,fields:Bs,metadata:{displayName:"panel.details.lines.simple.displayName"}};function Us(e,t,n){function r(e,t,n){var r=t.x-e.x,o=t.y-e.y,i=Math.sqrt(r*r+o*o);return a(e,t,Math.min(1,n/i))}function a(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}}function o(e,t){e.length>2&&(e[e.length-2]=t.x,e[e.length-1]=t.y)}function i(e){return{x:parseFloat(e[e.length-2]),y:parseFloat(e[e.length-1])}}var s=e.split(/[,\s]/).reduce((function(e,t){var n=t.match("([a-zA-Z])(.+)");return n?(e.push(n[1]),e.push(n[2])):e.push(t),e}),[]).reduce((function(e,t){return parseFloat(t)==t&&e.length?e[e.length-1].push(t):e.push([t]),e}),[]),u=[];if(s.length>1){var l=i(s[0]),c=null;"Z"==s[s.length-1][0]&&s[0].length>2&&(c=["L",l.x,l.y],s[s.length-1]=c),u.push(s[0]);for(var d=1;d<s.length;d++){var h=u[u.length-1],p=s[d],f=p==c?s[1]:s[d+1];if(f&&h&&h.length>2&&"L"==p[0]&&f.length>2&&"L"==f[0]){var g,m,y=i(h),v=i(p),b=i(f);n?(g=a(v,h.origPoint||y,t),m=a(v,f.origPoint||b,t)):(g=r(v,y,t),m=r(v,b,t)),o(p,g),p.origPoint=v,u.push(p);var w=a(g,v,.5),x=a(v,m,.5),k=["C",w.x,w.y,x.x,x.y,m.x,m.y];k.origPoint=v,u.push(k)}else u.push(p)}if(c){var j=i(u[u.length-1]);u.push(["Z"]),o(u[0],j)}}else u=s;return u.reduce((function(e,t){return e+t.join(" ")+" "}),"")}var Vs={startFrom:"from",offsetFrom:0,offsetTo:0,roundCornerFactor:10},Ws=[{type:"select",label:"panel.details.lines.common.startFrom",value:function(e){var t;return null!==(t=null==e?void 0:e.startFrom)&&void 0!==t?t:Vs.startFrom},options:{from:"from",to:"to"},onChange:function(e,t){var n=null!=t?t:Vs;return n.startFrom=e,n}},{type:"input",label:"panel.details.lines.common.offsetFrom",value:function(e){var t;return(null!==(t=null==e?void 0:e.offsetFrom)&&void 0!==t?t:Vs.offsetFrom).toString()},validator:function(e){return!Number.isNaN(e)},onChange:function(e,t){var n=null!=t?t:Vs;return Number.isNaN(e)||(n.offsetFrom=Number(e)),n}},{type:"input",label:"panel.details.lines.common.offsetTo",value:function(e){var t;return(null!==(t=null==e?void 0:e.offsetTo)&&void 0!==t?t:Vs.offsetTo).toString()},validator:function(e){return!Number.isNaN(e)},onChange:function(e,t){var n=null!=t?t:Vs;return Number.isNaN(e)||(n.offsetTo=Number(e)),n}},{type:"input",label:"panel.details.lines.common.roundCornerFactor",value:function(e){var t;return(null!==(t=null==e?void 0:e.roundCornerFactor)&&void 0!==t?t:Vs.roundCornerFactor).toString()},validator:function(e){return!Number.isNaN(e)&&Number(e)>0},onChange:function(e,t){var n=null!=t?t:Vs;return Number.isNaN(e)||Number(e)<=0||(n.roundCornerFactor=Number(e)),n}}],Ks={generatePath:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vs,o=a.startFrom,i=void 0===o?Vs.startFrom:o,s=a.offsetFrom,u=void 0===s?Vs.offsetFrom:s,c=a.offsetTo,d=void 0===c?Vs.offsetTo:c,h=a.roundCornerFactor,p=void 0===h?Vs.roundCornerFactor:h,f="from"===i?[e,n,t,r]:[t,r,e,n],g=l(f,4),m=g[0],y=g[1],v=g[2],b=g[3],w=Math.abs(v-m)<Math.abs(b-y)?"vertical":"horizontal",x="from"===i?[u,d]:[d,u],k=l(x,2),j=k[0],S=k[1],_="horizontal"===w?0:j,z="horizontal"===w?j:0,N=S*Math.SQRT1_2,E=S*Math.SQRT1_2*((v-m)*(b-y)<0?1:-1),F=m+_,C=y+z,O=v+N,A=b+E,L="horizontal"===w?O+Math.abs(A-C)*(O-F>0?-1:1):F,T="horizontal"===w?C:A+Math.abs(O-F)*(A-C>0?-1:1),H="from"===i?[F,C,O,A]:[O,A,F,C],R=l(H,4),M=R[0],P=R[1],G=R[2],I=R[3],B=Us("M ".concat(M,",").concat(P," L ").concat(L,",").concat(T," L ").concat(G,",").concat(I),p,!1);return B},icon:w.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:w.jsx("path",{d:"M9,18V12L15,6",stroke:"currentColor",fill:"none"})}),defaultAttrs:Vs,fields:Ws,metadata:{displayName:"panel.details.lines.diagonal.displayName"}},Js={startFrom:"from",offsetFrom:0,offsetTo:0,roundCornerFactor:18.33},Ys=[{type:"select",label:"panel.details.lines.common.startFrom",value:function(e){var t;return null!==(t=null==e?void 0:e.startFrom)&&void 0!==t?t:Js.startFrom},options:{from:"from",to:"to"},onChange:function(e,t){var n=null!=t?t:Js;return n.startFrom=e,n}},{type:"input",label:"panel.details.lines.common.offsetFrom",value:function(e){var t;return(null!==(t=null==e?void 0:e.offsetFrom)&&void 0!==t?t:Js.offsetFrom).toString()},validator:function(e){return!Number.isNaN(e)},onChange:function(e,t){var n=null!=t?t:Js;return Number.isNaN(e)||(n.offsetFrom=Number(e)),n}},{type:"input",label:"panel.details.lines.common.offsetTo",value:function(e){var t;return(null!==(t=null==e?void 0:e.offsetTo)&&void 0!==t?t:Js.offsetTo).toString()},validator:function(e){return!Number.isNaN(e)},onChange:function(e,t){var n=null!=t?t:Js;return Number.isNaN(e)||(n.offsetTo=Number(e)),n}},{type:"input",label:"panel.details.lines.common.roundCornerFactor",value:function(e){var t;return(null!==(t=null==e?void 0:e.roundCornerFactor)&&void 0!==t?t:Js.roundCornerFactor).toString()},validator:function(e){return!Number.isNaN(e)&&Number(e)>0},onChange:function(e,t){var n=null!=t?t:Js;return Number.isNaN(e)||Number(e)<=0||(n.roundCornerFactor=Number(e)),n}}],qs={generatePath:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Js,o=a.startFrom,i=void 0===o?Js.startFrom:o,s=a.offsetFrom,u=void 0===s?Js.offsetFrom:s,c=a.offsetTo,d=void 0===c?Js.offsetTo:c,h=a.roundCornerFactor,p=void 0===h?Js.roundCornerFactor:h,f="from"===i?[u,d]:[d,u],g=l(f,2),m=g[0],y=g[1],v="from"===i?[0,m,y,0]:[m,0,0,y],b=l(v,4),w=b[0],x=b[1],k=b[2],j=b[3],S="from"===i?t+k:e+w,_="from"===i?n+x:r+j,z=Us("M ".concat(e+w,",").concat(n+x," L ").concat(S,",").concat(_," L ").concat(t+k,",").concat(r+j),p,!1);return z},icon:w.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:w.jsx("path",{d:"M6,6H18V18",stroke:"currentColor",fill:"none"})}),defaultAttrs:Js,fields:Ys,metadata:{displayName:"panel.details.lines.perpendicular.displayName"}},Zs={startFrom:"from",offsetFrom:0,offsetTo:0,roundCornerFactor:18.33},Qs=[{type:"select",label:"panel.details.lines.common.startFrom",value:function(e){var t;return null!==(t=null==e?void 0:e.startFrom)&&void 0!==t?t:Zs.startFrom},options:{from:"from",to:"to"},onChange:function(e,t){var n=null!=t?t:Zs;return n.startFrom=e,n}},{type:"input",label:"panel.details.lines.common.offsetFrom",value:function(e){var t;return(null!==(t=null==e?void 0:e.offsetFrom)&&void 0!==t?t:Zs.offsetFrom).toString()},validator:function(e){return!Number.isNaN(e)},onChange:function(e,t){var n=null!=t?t:Zs;return Number.isNaN(e)||(n.offsetFrom=Number(e)),n}},{type:"input",label:"panel.details.lines.common.offsetTo",value:function(e){var t;return(null!==(t=null==e?void 0:e.offsetTo)&&void 0!==t?t:Zs.offsetTo).toString()},validator:function(e){return!Number.isNaN(e)},onChange:function(e,t){var n=null!=t?t:Zs;return Number.isNaN(e)||(n.offsetTo=Number(e)),n}},{type:"input",label:"panel.details.lines.common.roundCornerFactor",value:function(e){var t;return(null!==(t=null==e?void 0:e.roundCornerFactor)&&void 0!==t?t:Zs.roundCornerFactor).toString()},validator:function(e){return!Number.isNaN(e)&&Number(e)>0},onChange:function(e,t){var n=null!=t?t:Zs;return Number.isNaN(e)||Number(e)<=0||(n.roundCornerFactor=Number(e)),n}}],Xs={generatePath:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Zs,o=a.startFrom,i=void 0===o?Zs.startFrom:o,s=a.offsetFrom,u=void 0===s?Zs.offsetFrom:s,c=a.offsetTo,d=void 0===c?Zs.offsetTo:c,h=a.roundCornerFactor,p=void 0===h?Zs.roundCornerFactor:h,f="from"===i?[u,d]:[d,u],g=l(f,2),m=g[0],y=g[1],v="from"===i?[0,m,y,0]:[m,0,0,y],b=l(v,4),w=b[0],x=b[1],k=b[2],j=b[3],S=e*Math.SQRT1_2+n*Math.SQRT1_2,_=-e*Math.SQRT1_2+n*Math.SQRT1_2,z=t*Math.SQRT1_2+r*Math.SQRT1_2,N=-t*Math.SQRT1_2+r*Math.SQRT1_2,E=S+w,F=_+x,C=z+k,O=N+j,A=E*Math.SQRT1_2-F*Math.SQRT1_2,L=E*Math.SQRT1_2+F*Math.SQRT1_2,T=C*Math.SQRT1_2-O*Math.SQRT1_2,H=C*Math.SQRT1_2+O*Math.SQRT1_2,R="from"===i?z+k:S+w,M="from"===i?_+x:N+j,P=R*Math.SQRT1_2-M*Math.SQRT1_2,G=R*Math.SQRT1_2+M*Math.SQRT1_2,I=Us("M ".concat(A,",").concat(L," L ").concat(P,",").concat(G," L ").concat(T,",").concat(H),p,!1);return I},icon:w.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:w.jsx("path",{d:"M9,6L15,12L9,18",stroke:"currentColor",fill:"none"})}),defaultAttrs:Zs,fields:Qs,metadata:{displayName:"panel.details.lines.rotatePerpendicular.displayName"}},$s={present:(new Qr).export(),past:[],future:[],svgViewBoxZoom:100,svgViewBoxMin:{x:0,y:0}},eu=a("a1",Re("undo")),tu=a("a3",Re("redo")),nu=Me({name:"param",initialState:$s,reducers:{setFullState:function(e,t){return structuredClone(t.payload)},saveGraph:function(e,t){e.future=[],e.past.push(e.present),e.past.length>49&&e.past.shift(),e.present=structuredClone(t.payload)},setSvgViewBoxZoom:function(e,t){e.svgViewBoxZoom=t.payload},setSvgViewBoxMin:function(e,t){e.svgViewBoxMin=t.payload}},extraReducers:function(e){e.addCase(eu,(function(e){if(0!==e.past.length){var t=e.past.pop();e.future.unshift(e.present),e.present=t,window.graph.clear(),window.graph.import(structuredClone(Pe(t)))}})).addCase(tu,(function(e){if(0!==e.future.length){var t=e.future.shift();e.past.push(e.present),e.present=t,window.graph.clear(),window.graph.import(structuredClone(Pe(t)))}}))}}),ru=nu.actions,au=ru.setFullState,ou=ru.saveGraph,iu=ru.setSvgViewBoxZoom,su=ru.setSvgViewBoxMin;a({h:ou,p:iu,q:su});var uu=nu.reducer,lu={selected:[],active:void 0,refresh:{nodes:Date.now(),edges:Date.now()},mode:"free",lastTool:void 0,keepLastPath:!1,theme:[zs.Shanghai,"sh1","#E3002B",_s.white],globalAlerts:{}},cu=Me({name:"runtime",initialState:lu,reducers:{addSelected:function(e,t){e.selected.includes(t.payload)||e.selected.push(t.payload)},removeSelected:function(e,t){e.selected.filter((function(e){return e!==t.payload}))},clearSelected:function(e){e.selected=[]},setActive:function(e,t){e.active=t.payload},setRefreshNodes:function(e){e.refresh.nodes=Date.now()},setRefreshEdges:function(e){e.refresh.edges=Date.now()},setMode:function(e,t){"free"!==e.mode&&(e.lastTool=e.mode),e.mode=t.payload},setKeepLastPath:function(e,t){e.keepLastPath=t.payload},setTheme:function(e,t){e.theme=t.payload},setGlobalAlert:function(e,t){var n=t.payload,r=n.status,a=n.message,o=n.url,i=n.linkedApp;e.globalAlerts[r]={message:a,url:o,linkedApp:i}},closeGlobalAlert:function(e,t){delete e.globalAlerts[t.payload]}},extraReducers:function(e){e.addCase(eu,(function(e){e.refresh.nodes=Date.now(),e.refresh.edges=Date.now()})).addCase(tu,(function(e){e.refresh.nodes=Date.now(),e.refresh.edges=Date.now()}))}}),du=cu.actions,hu=du.addSelected,pu=(du.removeSelected,du.clearSelected),fu=du.setActive,gu=du.setRefreshNodes,mu=du.setRefreshEdges,yu=du.setMode,vu=du.setKeepLastPath,bu=du.setTheme,wu=du.setGlobalAlert,xu=du.closeGlobalAlert;a({ae:hu,j:pu,ad:fu,s:gu,f:mu,ab:yu,P:vu,aa:bu,t:wu,a7:xu});var ku=cu.reducer,ju=function(){function e(){S(this,e)}return z(e,null,[{key:"hexToRgb",value:function(e){return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16)]}},{key:"fade",value:function(e,t){return"rgba(".concat([].concat(i(this.hexToRgb(e)),[t]).join(","),")")}},{key:"euclideanDistance",value:function(e,t){var n=this;return this.hexToRgb(e).reduce((function(e,r,a){return e+Math.pow(r-n.hexToRgb(t)[a],2)}),0)}}]),e}();function Su(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}}]})(e)}function _u(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"}}]})(e)}function zu(e){return xe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"}}]})(e)}function Nu(e){var t=e.theme,n=e.onClick,r=wa().t;return w.jsx(ue,{"aria-label":r("Color"),color:t[3],bg:t[2],size:"md",_hover:{bg:ju.fade(t[2],.7)},icon:w.jsx(_u,{}),onClick:n})}var Eu=function(e,t){var n=e[t];return n?"function"==typeof n?n():Promise.resolve(n):new Promise((function(e,n){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))}))};function Fu(e){var t=e.countryCode,n=e.svgFilename,r=l(Te.useState(void 0),2),a=r[0],o=r[1];return Te.useEffect((function(){n&&Eu(Object.assign({"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E6-1F1F7.svg":function(){return Fo((function(){return u.import("./1F1E6-1F1F7-legacy-8a4c81d5.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E6-1F1F9.svg":function(){return Fo((function(){return u.import("./1F1E6-1F1F9-legacy-af402f13.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E6-1F1FA.svg":function(){return Fo((function(){return u.import("./1F1E6-1F1FA-legacy-109c1f87.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E6-1F1FF.svg":function(){return Fo((function(){return u.import("./1F1E6-1F1FF-legacy-06bc4160.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E7-1F1EA.svg":function(){return Fo((function(){return u.import("./1F1E7-1F1EA-legacy-9e4c0d6e.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E7-1F1F4.svg":function(){return Fo((function(){return u.import("./1F1E7-1F1F4-legacy-403c386b.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E7-1F1F7.svg":function(){return Fo((function(){return u.import("./1F1E7-1F1F7-legacy-8cf6d677.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E8-1F1E6.svg":function(){return Fo((function(){return u.import("./1F1E8-1F1E6-legacy-f376f01d.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E8-1F1F1.svg":function(){return Fo((function(){return u.import("./1F1E8-1F1F1-legacy-6e9326a0.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E8-1F1F3.svg":function(){return Fo((function(){return u.import("./1F1E8-1F1F3-legacy-e5a030fd.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E9-1F1EA.svg":function(){return Fo((function(){return u.import("./1F1E9-1F1EA-legacy-48ec29a0.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E9-1F1F0.svg":function(){return Fo((function(){return u.import("./1F1E9-1F1F0-legacy-87aa2c3c.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EA-1F1EC.svg":function(){return Fo((function(){return u.import("./1F1EA-1F1EC-legacy-2f39c5a3.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EA-1F1F8.svg":function(){return Fo((function(){return u.import("./1F1EA-1F1F8-legacy-a31d0606.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EB-1F1F7.svg":function(){return Fo((function(){return u.import("./1F1EB-1F1F7-legacy-238a5b66.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EC-1F1F7.svg":function(){return Fo((function(){return u.import("./1F1EC-1F1F7-legacy-04b57389.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1ED-1F1F0.svg":function(){return Fo((function(){return u.import("./1F1ED-1F1F0-legacy-da159ff4.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1ED-1F1FA.svg":function(){return Fo((function(){return u.import("./1F1ED-1F1FA-legacy-83541270.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EE-1F1E9.svg":function(){return Fo((function(){return u.import("./1F1EE-1F1E9-legacy-8c90ba38.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EE-1F1EA.svg":function(){return Fo((function(){return u.import("./1F1EE-1F1EA-legacy-b25548f1.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EE-1F1F3.svg":function(){return Fo((function(){return u.import("./1F1EE-1F1F3-legacy-059b5b56.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EE-1F1F7.svg":function(){return Fo((function(){return u.import("./1F1EE-1F1F7-legacy-c9776c2b.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EE-1F1F9.svg":function(){return Fo((function(){return u.import("./1F1EE-1F1F9-legacy-d2c14686.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EF-1F1F5.svg":function(){return Fo((function(){return u.import("./1F1EF-1F1F5-legacy-1bb16a6b.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F0-1F1F5.svg":function(){return Fo((function(){return u.import("./1F1F0-1F1F5-legacy-0e4f99f8.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F0-1F1F7.svg":function(){return Fo((function(){return u.import("./1F1F0-1F1F7-legacy-4224baaf.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F0-1F1FF.svg":function(){return Fo((function(){return u.import("./1F1F0-1F1FF-legacy-91a456a4.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F2-1F1F4.svg":function(){return Fo((function(){return u.import("./1F1F2-1F1F4-legacy-90b33c57.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F2-1F1FD.svg":function(){return Fo((function(){return u.import("./1F1F2-1F1FD-legacy-4f99fb55.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F2-1F1FE.svg":function(){return Fo((function(){return u.import("./1F1F2-1F1FE-legacy-70d4fcb6.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F3-1F1F1.svg":function(){return Fo((function(){return u.import("./1F1F3-1F1F1-legacy-9be277a7.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F3-1F1F4.svg":function(){return Fo((function(){return u.import("./1F1F3-1F1F4-legacy-1c741215.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F5-1F1E6.svg":function(){return Fo((function(){return u.import("./1F1F5-1F1E6-legacy-2cf5fd2d.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F5-1F1EA.svg":function(){return Fo((function(){return u.import("./1F1F5-1F1EA-legacy-e352d041.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F5-1F1F0.svg":function(){return Fo((function(){return u.import("./1F1F5-1F1F0-legacy-6d86d1a5.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F5-1F1F1.svg":function(){return Fo((function(){return u.import("./1F1F5-1F1F1-legacy-83dd48cc.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F5-1F1F9.svg":function(){return Fo((function(){return u.import("./1F1F5-1F1F9-legacy-b1491c87.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F7-1F1F4.svg":function(){return Fo((function(){return u.import("./1F1F7-1F1F4-legacy-39e4eda8.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F7-1F1FA.svg":function(){return Fo((function(){return u.import("./1F1F7-1F1FA-legacy-668dd5e1.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F8-1F1E6.svg":function(){return Fo((function(){return u.import("./1F1F8-1F1E6-legacy-91ed58a0.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F8-1F1EA.svg":function(){return Fo((function(){return u.import("./1F1F8-1F1EA-legacy-0644e2ec.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F8-1F1EC.svg":function(){return Fo((function(){return u.import("./1F1F8-1F1EC-legacy-b3db8bda.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F9-1F1ED.svg":function(){return Fo((function(){return u.import("./1F1F9-1F1ED-legacy-6a981ac5.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F9-1F1F7.svg":function(){return Fo((function(){return u.import("./1F1F9-1F1F7-legacy-4d31e4fe.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F9-1F1FC.svg":function(){return Fo((function(){return u.import("./1F1F9-1F1FC-legacy-ab0f52d2.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1FA-1F1E6.svg":function(){return Fo((function(){return u.import("./1F1FA-1F1E6-legacy-6063a187.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1FA-1F1F3.svg":function(){return Fo((function(){return u.import("./1F1FA-1F1F3-legacy-83aa37ec.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1FA-1F1F8.svg":function(){return Fo((function(){return u.import("./1F1FA-1F1F8-legacy-a576f601.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1FA-1F1FF.svg":function(){return Fo((function(){return u.import("./1F1FA-1F1FF-legacy-3689e27c.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1FB-1F1EA.svg":function(){return Fo((function(){return u.import("./1F1FB-1F1EA-legacy-1c0c857d.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1FB-1F1F3.svg":function(){return Fo((function(){return u.import("./1F1FB-1F1F3-legacy-fbe51118.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F3F4-E0067-E0062-E0065-E006E-E0067-E007F.svg":function(){return Fo((function(){return u.import("./1F3F4-E0067-E0062-E0065-E006E-E0067-E007F-legacy-4f436fe7.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F3F4-E0067-E0062-E0073-E0063-E0074-E007F.svg":function(){return Fo((function(){return u.import("./1F3F4-E0067-E0062-E0073-E0063-E0074-E007F-legacy-e8c312d5.js")}))}}),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/".concat(n.slice(0,-4),".svg")).then((function(e){return e.default})).then(o).catch((function(e){return console.error("Failed to find SVG file ".concat(n," as ").concat(null==e?void 0:e.message))}))}),[n]),a?w.jsx(ke,{src:a,alt:"Flag of ".concat(t),h:17,mr:1}):w.jsx(w.Fragment,{})}function Cu(e){var t=e.defaultValueId,n=e.onChange,r=wa().i18n,a=t?Hs.find((function(e){return e.id===t})):void 0,o=function(e){return r.languages.map((function(t){return e.name[t]})).find((function(e){return void 0!==e}))},i=Hs.slice().sort((function(e,t){return e.id===zs.Other?1:t.id===zs.Other?-1:o(e).localeCompare(o(t),r.languages[0])}));return w.jsx(si,{data:i,displayValue:o,displayHandler:function(e){var t,n,a="TW"===e.country&&["zh-Hans","zh-CN"].includes(r.languages[0]),o=["Win32","Win64"].includes(navigator.platform),i=r.languages.map((function(t){return e.name[t]})).find((function(e){return void 0!==e})),s=null===(t=Rs.find((function(t){return t.id===e.country})))||void 0===t?void 0:t.flagSvg,u=null===(n=Rs.find((function(t){return t.id===e.country})))||void 0===n?void 0:n.flagEmoji;return w.jsxs(w.Fragment,{children:[a?w.jsx("span",{children:""}):o?w.jsx(Fu,{countryCode:e.country,svgFilename:s}):w.jsxs("span",{children:[u,""]}),i]})},predicate:function(e,t){return Object.values(e.name).some((function(e){return e.includes(t)}))},defaultValue:a,onChange:function(e){return null==n?void 0:n(e.id)}})}function Ou(e){var t=e.city,n=e.defaultValueId,r=e.onChange,a=wa().i18n,o=function(e){var t=l(Te.useState([]),2),n=t[0],r=t[1];return Te.useEffect((function(){Eu(Object.assign({"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/adelaide.js":function(){return Fo((function(){return u.import("./adelaide-legacy-682b0dbd.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/almaty.js":function(){return Fo((function(){return u.import("./almaty-legacy-29fe33f9.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/amsterdam.js":function(){return Fo((function(){return u.import("./amsterdam-legacy-81719662.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/ankara.js":function(){return Fo((function(){return u.import("./ankara-legacy-5d5574ac.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/athens.js":function(){return Fo((function(){return u.import("./athens-legacy-50e4b165.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/baku.js":function(){return Fo((function(){return u.import("./baku-legacy-d3a37df0.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/bangkok.js":function(){return Fo((function(){return u.import("./bangkok-legacy-872eaacf.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/barcelona.js":function(){return Fo((function(){return u.import("./barcelona-legacy-4519ce29.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/beijing.js":function(){return Fo((function(){return u.import("./beijing-legacy-5b9e1fe5.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/berlin.js":function(){return Fo((function(){return u.import("./berlin-legacy-0784050e.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/bne.js":function(){return Fo((function(){return u.import("./bne-legacy-9f62e512.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/bonn.js":function(){return Fo((function(){return u.import("./bonn-legacy-dddc8ebe.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/bordeaux.js":function(){return Fo((function(){return u.import("./bordeaux-legacy-466c943d.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/boston.js":function(){return Fo((function(){return u.import("./boston-legacy-f473147d.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/brussels.js":function(){return Fo((function(){return u.import("./brussels-legacy-93d54ed5.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/bucharest.js":function(){return Fo((function(){return u.import("./bucharest-legacy-692baf55.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/budapest.js":function(){return Fo((function(){return u.import("./budapest-legacy-8d50395c.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/buenosaires.js":function(){return Fo((function(){return u.import("./buenosaires-legacy-c1f7d750.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/busan.js":function(){return Fo((function(){return u.import("./busan-legacy-083d8c93.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/cairo.js":function(){return Fo((function(){return u.import("./cairo-legacy-03b2297b.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/caracas.js":function(){return Fo((function(){return u.import("./caracas-legacy-998f10f7.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/cbr.js":function(){return Fo((function(){return u.import("./cbr-legacy-95199831.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/changchun.js":function(){return Fo((function(){return u.import("./changchun-legacy-2dc816db.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/changsha.js":function(){return Fo((function(){return u.import("./changsha-legacy-b5b3a7b3.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/changzhou.js":function(){return Fo((function(){return u.import("./changzhou-legacy-14032784.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/chengdu.js":function(){return Fo((function(){return u.import("./chengdu-legacy-c3967a5e.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/chennai.js":function(){return Fo((function(){return u.import("./chennai-legacy-b5f4b734.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/chongqing.js":function(){return Fo((function(){return u.import("./chongqing-legacy-5fd8cd98.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/chuzhou.js":function(){return Fo((function(){return u.import("./chuzhou-legacy-a3fcd0ba.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/cochabamba.js":function(){return Fo((function(){return u.import("./cochabamba-legacy-014bfc8c.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/cologne.js":function(){return Fo((function(){return u.import("./cologne-legacy-12195f61.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/copenhagen.js":function(){return Fo((function(){return u.import("./copenhagen-legacy-81b44794.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/daegu.js":function(){return Fo((function(){return u.import("./daegu-legacy-9b44025d.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/dalian.js":function(){return Fo((function(){return u.import("./dalian-legacy-ebf5f4c9.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/delhi.js":function(){return Fo((function(){return u.import("./delhi-legacy-99fab275.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/dongguan.js":function(){return Fo((function(){return u.import("./dongguan-legacy-1d5c10a0.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/dortmund.js":function(){return Fo((function(){return u.import("./dortmund-legacy-ecc23fc5.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/dublin.js":function(){return Fo((function(){return u.import("./dublin-legacy-9d651cfa.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/edinburgh.js":function(){return Fo((function(){return u.import("./edinburgh-legacy-f88ad359.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/eskisehir.js":function(){return Fo((function(){return u.import("./eskisehir-legacy-db2e344b.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/foshan.js":function(){return Fo((function(){return u.import("./foshan-legacy-93b9ce4b.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/frankfurt.js":function(){return Fo((function(){return u.import("./frankfurt-legacy-698a36f9.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/fuzhou.js":function(){return Fo((function(){return u.import("./fuzhou-legacy-bf0f12c5.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/glasgow.js":function(){return Fo((function(){return u.import("./glasgow-legacy-3ade307c.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/gothenburg.js":function(){return Fo((function(){return u.import("./gothenburg-legacy-00d718b0.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/guadalajara.js":function(){return Fo((function(){return u.import("./guadalajara-legacy-b9faae2d.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/guangzhou.js":function(){return Fo((function(){return u.import("./guangzhou-legacy-16cc35da.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/guiyang.js":function(){return Fo((function(){return u.import("./guiyang-legacy-2078a8ad.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/hamburg.js":function(){return Fo((function(){return u.import("./hamburg-legacy-57a41d7e.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/hangzhou.js":function(){return Fo((function(){return u.import("./hangzhou-legacy-2952111a.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/hanoi.js":function(){return Fo((function(){return u.import("./hanoi-legacy-15cb26c3.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/harbin.js":function(){return Fo((function(){return u.import("./harbin-legacy-00bf378a.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/hefei.js":function(){return Fo((function(){return u.import("./hefei-legacy-e7079844.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/hiroshima.js":function(){return Fo((function(){return u.import("./hiroshima-legacy-fd83c3df.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/hochiminh.js":function(){return Fo((function(){return u.import("./hochiminh-legacy-4fba7afb.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/hohhot.js":function(){return Fo((function(){return u.import("./hohhot-legacy-fa56cd8f.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/hongkong.js":function(){return Fo((function(){return u.import("./hongkong-legacy-9571cb8e.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/iashi.js":function(){return Fo((function(){return u.import("./iashi-legacy-47e712d3.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/istanbul.js":function(){return Fo((function(){return u.import("./istanbul-legacy-56231c68.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/jakarta.js":function(){return Fo((function(){return u.import("./jakarta-legacy-b8f6f7ab.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/jinan.js":function(){return Fo((function(){return u.import("./jinan-legacy-b0c901af.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/kansai.js":function(){return Fo((function(){return u.import("./kansai-legacy-19366784.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/kaohsiung.js":function(){return Fo((function(){return u.import("./kaohsiung-legacy-93f96715.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/kaosiung.js":function(){return Fo((function(){return u.import("./kaosiung-legacy-19df1d34.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/kharkiv.js":function(){return Fo((function(){return u.import("./kharkiv-legacy-0730ef70.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/klangvalley.js":function(){return Fo((function(){return u.import("./klangvalley-legacy-6f364627.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/kunming.js":function(){return Fo((function(){return u.import("./kunming-legacy-34689472.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/kyiv.js":function(){return Fo((function(){return u.import("./kyiv-legacy-cac64c02.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/lahore.js":function(){return Fo((function(){return u.import("./lahore-legacy-7bb0adce.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/lanzhou.js":function(){return Fo((function(){return u.import("./lanzhou-legacy-4afc3164.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/liege.js":function(){return Fo((function(){return u.import("./liege-legacy-858216cd.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/lille.js":function(){return Fo((function(){return u.import("./lille-legacy-3415930f.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/lima.js":function(){return Fo((function(){return u.import("./lima-legacy-e59be920.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/lisbon.js":function(){return Fo((function(){return u.import("./lisbon-legacy-69ba516b.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/littlerockcity.js":function(){return Fo((function(){return u.import("./littlerockcity-legacy-0cc72bfa.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/london.js":function(){return Fo((function(){return u.import("./london-legacy-b4dcb7ee.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/losangeles.js":function(){return Fo((function(){return u.import("./losangeles-legacy-57c35452.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/lucknow.js":function(){return Fo((function(){return u.import("./lucknow-legacy-5f7bf586.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/luoyang.js":function(){return Fo((function(){return u.import("./luoyang-legacy-f84cdda9.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/lyon.js":function(){return Fo((function(){return u.import("./lyon-legacy-510bff2f.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/macao.js":function(){return Fo((function(){return u.import("./macao-legacy-c6365b4a.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/madrid.js":function(){return Fo((function(){return u.import("./madrid-legacy-d7765baa.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/manchester.js":function(){return Fo((function(){return u.import("./manchester-legacy-b7d96002.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/marseille.js":function(){return Fo((function(){return u.import("./marseille-legacy-5a6908d8.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/melbourne.js":function(){return Fo((function(){return u.import("./melbourne-legacy-49588758.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/mexicocity.js":function(){return Fo((function(){return u.import("./mexicocity-legacy-a6c85716.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/milan.js":function(){return Fo((function(){return u.import("./milan-legacy-119e451d.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/monterrey.js":function(){return Fo((function(){return u.import("./monterrey-legacy-ab0493bd.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/montreal.js":function(){return Fo((function(){return u.import("./montreal-legacy-de8f2982.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/moscow.js":function(){return Fo((function(){return u.import("./moscow-legacy-a8a2b321.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/munich.js":function(){return Fo((function(){return u.import("./munich-legacy-76313241.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/nagpur.js":function(){return Fo((function(){return u.import("./nagpur-legacy-e1718ae3.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/nanchang.js":function(){return Fo((function(){return u.import("./nanchang-legacy-370cc298.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/nanjing.js":function(){return Fo((function(){return u.import("./nanjing-legacy-2e9dc841.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/nanning.js":function(){return Fo((function(){return u.import("./nanning-legacy-5061a187.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/nantes.js":function(){return Fo((function(){return u.import("./nantes-legacy-fab3fbe2.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/nantong.js":function(){return Fo((function(){return u.import("./nantong-legacy-4b17181c.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/naples.js":function(){return Fo((function(){return u.import("./naples-legacy-3ba5d9af.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/neworleans.js":function(){return Fo((function(){return u.import("./neworleans-legacy-c9f2017a.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/newtaipei.js":function(){return Fo((function(){return u.import("./newtaipei-legacy-d00c0c53.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/newyork.js":function(){return Fo((function(){return u.import("./newyork-legacy-06e12cab.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/nice.js":function(){return Fo((function(){return u.import("./nice-legacy-eeb5b207.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/ningbo.js":function(){return Fo((function(){return u.import("./ningbo-legacy-3a954f6b.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/novosibirsk.js":function(){return Fo((function(){return u.import("./novosibirsk-legacy-272c94d5.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/osaka.js":function(){return Fo((function(){return u.import("./osaka-legacy-89f1fa4e.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/oslo.js":function(){return Fo((function(){return u.import("./oslo-legacy-e2a15407.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/other.js":function(){return Fo((function(){return u.import("./other-legacy-84f8a43f.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/ottawa.js":function(){return Fo((function(){return u.import("./ottawa-legacy-4029e106.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/panamacity.js":function(){return Fo((function(){return u.import("./panamacity-legacy-af851ea1.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/paris.js":function(){return Fo((function(){return u.import("./paris-legacy-04f1c006.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/perth.js":function(){return Fo((function(){return u.import("./perth-legacy-5948fde6.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/pyongyang.js":function(){return Fo((function(){return u.import("./pyongyang-legacy-b8fef68a.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/qingdao.js":function(){return Fo((function(){return u.import("./qingdao-legacy-fc4e25d1.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/rheinruhr.js":function(){return Fo((function(){return u.import("./rheinruhr-legacy-7a668c3e.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/rio.js":function(){return Fo((function(){return u.import("./rio-legacy-96d5bf7b.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/riyadh.js":function(){return Fo((function(){return u.import("./riyadh-legacy-ec5ba259.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/rome.js":function(){return Fo((function(){return u.import("./rome-legacy-485e32ef.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/rotterdam.js":function(){return Fo((function(){return u.import("./rotterdam-legacy-8c0cb3ec.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/saltlakecity.js":function(){return Fo((function(){return u.import("./saltlakecity-legacy-60e43cab.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/samara.js":function(){return Fo((function(){return u.import("./samara-legacy-c01d57f1.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/sanfrancisco.js":function(){return Fo((function(){return u.import("./sanfrancisco-legacy-e1bea4b3.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/sanktpeterburg.js":function(){return Fo((function(){return u.import("./sanktpeterburg-legacy-518d91de.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/santiago.js":function(){return Fo((function(){return u.import("./santiago-legacy-83d0d904.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/saopaulo.js":function(){return Fo((function(){return u.import("./saopaulo-legacy-f6a8f840.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/sapporo.js":function(){return Fo((function(){return u.import("./sapporo-legacy-49af3e22.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/seoul.js":function(){return Fo((function(){return u.import("./seoul-legacy-47f4411a.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/sevilla.js":function(){return Fo((function(){return u.import("./sevilla-legacy-08f53551.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/shanghai.js":function(){return Fo((function(){return u.import("./shanghai-legacy-c3e0fc78.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/shaoxing.js":function(){return Fo((function(){return u.import("./shaoxing-legacy-33ef6ca0.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/shenyang.js":function(){return Fo((function(){return u.import("./shenyang-legacy-22b5f2cc.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/shenzhen.js":function(){return Fo((function(){return u.import("./shenzhen-legacy-ed210975.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/shijiazhuang.js":function(){return Fo((function(){return u.import("./shijiazhuang-legacy-b5d6df75.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/shiraz.js":function(){return Fo((function(){return u.import("./shiraz-legacy-4a197b88.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/singapore.js":function(){return Fo((function(){return u.import("./singapore-legacy-9d0d7724.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/stlouis.js":function(){return Fo((function(){return u.import("./stlouis-legacy-65980fca.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/stockholm.js":function(){return Fo((function(){return u.import("./stockholm-legacy-bab5370b.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/suzhou.js":function(){return Fo((function(){return u.import("./suzhou-legacy-8a8223d2.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/sydney.js":function(){return Fo((function(){return u.import("./sydney-legacy-4d063fc0.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/taichung.js":function(){return Fo((function(){return u.import("./taichung-legacy-7e4d188c.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/taipei.js":function(){return Fo((function(){return u.import("./taipei-legacy-c44e2188.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/taiyuan.js":function(){return Fo((function(){return u.import("./taiyuan-legacy-db1823a5.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/taoyuan.js":function(){return Fo((function(){return u.import("./taoyuan-legacy-c84050e3.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/tashkent.js":function(){return Fo((function(){return u.import("./tashkent-legacy-93abe6af.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/tehran.js":function(){return Fo((function(){return u.import("./tehran-legacy-d63640df.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/tianjin.js":function(){return Fo((function(){return u.import("./tianjin-legacy-afd75865.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/tokyo.js":function(){return Fo((function(){return u.import("./tokyo-legacy-546edd80.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/toronto.js":function(){return Fo((function(){return u.import("./toronto-legacy-f7480184.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/turin.js":function(){return Fo((function(){return u.import("./turin-legacy-1eeb043d.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/tyneandwear.js":function(){return Fo((function(){return u.import("./tyneandwear-legacy-de2081b5.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/urumqi.js":function(){return Fo((function(){return u.import("./urumqi-legacy-0d4c526b.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/vienna.js":function(){return Fo((function(){return u.import("./vienna-legacy-25c144b1.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/warsaw.js":function(){return Fo((function(){return u.import("./warsaw-legacy-87681e39.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/washington.js":function(){return Fo((function(){return u.import("./washington-legacy-203c9718.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/wenzhou.js":function(){return Fo((function(){return u.import("./wenzhou-legacy-a5178bcd.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/wuhan.js":function(){return Fo((function(){return u.import("./wuhan-legacy-1c459588.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/wuxi.js":function(){return Fo((function(){return u.import("./wuxi-legacy-dd5d2664.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/xiamen.js":function(){return Fo((function(){return u.import("./xiamen-legacy-09dfcc7d.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/xian.js":function(){return Fo((function(){return u.import("./xian-legacy-b68ea574.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/xuzhou.js":function(){return Fo((function(){return u.import("./xuzhou-legacy-91471232.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/yekaterinburg.js":function(){return Fo((function(){return u.import("./yekaterinburg-legacy-60fecef9.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/yevpatoria.js":function(){return Fo((function(){return u.import("./yevpatoria-legacy-ce229ce6.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/yokohama.js":function(){return Fo((function(){return u.import("./yokohama-legacy-f5534918.js")}))},"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/zhengzhou.js":function(){return Fo((function(){return u.import("./zhengzhou-legacy-076c56cb.js")}))}}),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/".concat(e,".js")).then((function(e){return r(e.default)})).catch((function(){return r([])}))}),[e]),n}(t),i=n?o.find((function(e){return e.id===n})):void 0,s=function(e){return a.languages.map((function(t){return e.name[t]})).find((function(e){return void 0!==e}))};return w.jsx(si,{data:o,displayValue:s,displayHandler:function(e){var t=s(e);return w.jsx(Xi,{name:t,fg:e.fg||_s.white,bg:e.colour})},predicate:function(e,t){return Object.values(e.name).some((function(e){return e.includes(t)}))},defaultValue:i,onChange:function(e){return null==r?void 0:r(e.id,e.colour,e.fg||_s.white)}})}function Au(e){var t,n=e.isOpen,r=e.onClose,a=e.defaultTheme,o=e.onUpdate,i=wa().t,s=l(Te.useState(null==a?void 0:a[0]),2),u=s[0],c=s[1],d=l(Te.useState(null==a?void 0:a[1]),2),h=d[0],p=d[1],f=l(Te.useState((null==a?void 0:a[2])||"#AAAAAA"),2),g=f[0],m=f[1],y=l(Te.useState((null==a?void 0:a[3])||_s.white),2),v=y[0],b=y[1];Te.useEffect((function(){a&&(c(a[0]),p(a[1]),m(a[2]),b(a[3]))}),[n,null==a?void 0:a.toString()]);var x=[{type:"custom",label:i("colorModal.city"),component:w.jsx(Cu,{defaultValueId:u,onChange:function(e){c(e),p(void 0),m("#AAAAAA"),b(_s.white)}})},{type:"custom",label:i("colorModal.line"),component:w.jsx(Ou,{city:u,defaultValueId:h,onChange:function(e,t,n){p(e),m(t),b(n)}})}],k=[{type:"input",label:i("colorModal.bg"),variant:"color",value:g,placeholder:"#F3D03E",onChange:function(e){c(zs.Other),p("other"),m(e)}},{type:"select",label:i("colorModal.fg"),value:v,options:(t={},j(t,_s.white,i("colorModal.white")),j(t,_s.black,i("colorModal.black")),t),onChange:function(e){c(zs.Other),p("other"),b(e)}}],S=u&&h&&g&&v,_=i("colorModal.example");return w.jsxs(je,{isOpen:n,onClose:r,children:[w.jsx(K,{}),w.jsxs(Se,{children:[w.jsx(Y,{children:i("colorModal.title")}),w.jsx(q,{}),w.jsx(Z,{children:w.jsxs(_e,{children:[w.jsx(Xi,{name:_,fg:v,bg:g}),w.jsxs(ze,{isFitted:!0,colorScheme:"teal",w:"100%",defaultIndex:u===zs.Other?1:0,children:[w.jsxs(Ne,{children:[w.jsx(Ee,{children:i("colorModal.palette")}),w.jsx(Ee,{children:i("colorModal.custom")})]}),w.jsxs(Fe,{children:[w.jsx(Ce,{children:w.jsx(Ki,{fields:x})}),w.jsx(Ce,{children:w.jsx(Ki,{fields:k})})]})]})]})}),w.jsxs(X,{children:[w.jsxs(Q,{fontSize:"sm",marginRight:2,children:[i("colorModal.seeAll"),w.jsxs(ee,{color:"teal.500",onClick:function(){pn.isStandaloneWindow()?window.open("/rmg-palette","_blank"):pn.openApp("rmg-palette")},children:[i("Palette")," ",w.jsx(Oe,{as:Su})]})]}),w.jsx(M,{colorScheme:"teal",onClick:function(){S&&(null==o||o([u,h,g,v]),r())},disabled:!S,children:i("colorModal.submit")})]})]})]})}var Lu=a("S",function(e){return e.ShmetroBasic="shmetro-basic",e.ShmetroBasic2020="shmetro-basic-2020",e.ShmetroInt="shmetro-int",e.ShmetroOutOfSystemInt="shmetro-osysi",e.GzmtrBasic="gzmtr-basic",e.GzmtrInt="gzmtr-int",e.BjsubwayBasic="bjsubway-basic",e.BjsubwayInt="bjsubway-int",e.MTR="mtr",e.SuzhouRTBasic="suzhourt-basic",e.SuzhouRTInt="suzhourt-int",e}(Lu||{})),Tu=(a("ao",{names:["","Stn"]}),a("H",function(e){return e.Virtual="virtual",e.ShmetroNumLineBadge="shmetro-num-line-badge",e.ShmetroTextLineBadge="shmetro-text-line-badge",e.GzmtrLineBadge="gzmtr-line-badge",e.BjsubwayNumLineBadge="bjsubway-num-line-badge",e.BjsubwayTextLineBadge="bjsubway-text-line-badge",e.SuzhouRTNumLineBadge="suzhourt-num-line-badge",e.BerlinSBahnLineBadge="berlin-s-bahn-line-badge",e.BerlinUBahnLineBadge="berlin-u-bahn-line-badge",e.Facilities="facilities",e.Text="text",e}(Tu||{}))),Hu=a("al",(function(e){var t,n=e.type,r=e.defaultAttrs,a=Wl(),o=He.useCallback((function(){a(gu()),a(mu()),a(ou(s.current.export()))}),[a,gu,mu,ou]),i=Kl((function(e){return e.runtime})).selected.at(0),s=He.useRef(window.graph),u=l([].concat(Object.values(Lu)).concat(Object.values(Tu)).find((function(e){return n===e}))?[s.current.hasNode,s.current.getNodeAttribute,s.current.mergeNodeAttributes]:[s.current.hasEdge,s.current.getEdgeAttribute,s.current.mergeEdgeAttributes],3),c=u[0],d=u[1],h=u[2],p=l(He.useState(!1),2),f=p[0],g=p[1],m=i&&c.bind(s.current)(i)&&(i.startsWith("stn")||i.startsWith("misc_node")?s.current.getNodeAttribute(i,"type")===n:s.current.getEdgeAttribute(i,"style")===n)?(null!==(t=d.bind(s.current)(i,n))&&void 0!==t?t:r).color:r.color;return w.jsxs(w.Fragment,{children:[w.jsx(Nu,{theme:m,onClick:function(){return g(!0)}}),w.jsx(Au,{isOpen:f,defaultTheme:m,onClose:function(){return g(!1)},onUpdate:function(e){return function(e){if(i&&c.bind(s.current)(i)){var t,a=null!==(t=d.bind(s.current)(i,n))&&void 0!==t?t:r;a.color=e,h.bind(s.current)(i,j({},n,a)),o()}}(e)}})]})})),Ru={color:[zs.Shanghai,"sh1","#E4002B",_s.white]},Mu=[{type:"custom",component:w.jsx(Hu,{type:Gs.SingleColor,defaultAttrs:Ru})}],Pu={component:function(e){var t=e.id,n=e.path,r=e.styleAttrs,a=e.newLine,o=e.handleClick,i=(null!=r?r:Ru).color,s=void 0===i?Ru.color:i,u=He.useCallback((function(e){return o(t,e)}),[t,o]);return w.jsx("path",{id:t,d:n,fill:"none",stroke:s[2],strokeWidth:"5",strokeLinecap:"round",cursor:"pointer",onClick:a?void 0:u,pointerEvents:a?"none":void 0})},defaultAttrs:Ru,fields:Mu,metadata:{displayName:"panel.details.lines.singleColor.displayName",supportLinePathType:[Ps.Diagonal,Ps.Perpendicular,Ps.RotatePerpendicular]}},Gu={component:function(e){var t=e.id,n=e.path,r=e.handleClick,a=He.useCallback((function(e){return r(t,e)}),[t,r]);return w.jsxs("g",{id:t,children:[w.jsx("path",{d:n,fill:"none",stroke:"black",strokeWidth:"7",strokeLinecap:"round"}),w.jsx("path",{d:n,fill:"none",stroke:"white",strokeWidth:"4.33",strokeLinecap:"round"}),w.jsx("path",{d:n,fill:"none",stroke:"white",strokeOpacity:"0",strokeWidth:"7",strokeLinecap:"round",cursor:"pointer",onClick:a})]})},defaultAttrs:{},fields:[],metadata:{displayName:"panel.details.lines.shmetroVirtualInt.displayName",supportLinePathType:[Ps.Diagonal,Ps.Perpendicular,Ps.RotatePerpendicular,Ps.Simple]}},Iu={component:function(e){var t=e.id,n=e.path,r=e.handleClick,a=He.useCallback((function(e){return r(t,e)}),[t,r]);return w.jsx("path",{d:n,fill:"none",stroke:"black",strokeWidth:"3",strokeDasharray:"3",cursor:"pointer",onClick:a})},defaultAttrs:{},fields:[],metadata:{displayName:"panel.details.lines.gzmtrVirtualInt.displayName",supportLinePathType:[Ps.Diagonal,Ps.Perpendicular,Ps.RotatePerpendicular,Ps.Simple]}},Bu={component:function(e){var t=e.id,n=e.path,r=e.handleClick,a=He.useCallback((function(e){return r(t,e)}),[t,r]);return w.jsxs("g",{id:t,children:[w.jsx("path",{d:n,fill:"none",stroke:"black",strokeWidth:"5",strokeLinecap:"round"}),w.jsx("path",{d:n,fill:"none",stroke:"white",strokeWidth:"4.67",strokeDasharray:"17.5"}),w.jsx("path",{d:n,fill:"none",stroke:"black",strokeOpacity:"0",strokeWidth:"5",strokeLinecap:"round",cursor:"pointer",onClick:a})]})},defaultAttrs:{},fields:[],metadata:{displayName:"panel.details.lines.chinaRailway.displayName",supportLinePathType:[Ps.Diagonal,Ps.Perpendicular,Ps.RotatePerpendicular]}},Du={color:[zs.Beijing,"bj1","#c23a30",_s.white]},Uu=[{type:"custom",component:w.jsx(Hu,{type:Gs.BjsubwaySingleColor,defaultAttrs:Du})}],Vu={component:function(e){var t=e.id,n=e.path,r=e.styleAttrs,a=e.newLine,o=e.handleClick,i=(null!=r?r:Du).color,s=void 0===i?Du.color:i,u=He.useCallback((function(e){return o(t,e)}),[t,o]);return He.useMemo((function(){return w.jsxs(w.Fragment,{children:[w.jsx("path",{d:n,fill:"none",stroke:"white",strokeWidth:"6",strokeLinecap:"round"}),w.jsx("path",{id:t,d:n,fill:"none",stroke:s[2],strokeWidth:"5",strokeLinecap:"round"}),w.jsx("path",{id:t,d:n,fill:"none",stroke:"white",strokeWidth:"6",strokeLinecap:"round",strokeOpacity:"0",cursor:"pointer",onClick:a?void 0:u,pointerEvents:a?"none":void 0})]})}),[t,n,r.color[2],a])},defaultAttrs:Du,fields:Uu,metadata:{displayName:"panel.details.lines.bjsubwaySingleColor.displayName",supportLinePathType:[Ps.Diagonal,Ps.Perpendicular,Ps.RotatePerpendicular]}},Wu={color:[zs.Shanghai,"sh1","#E4002B",_s.white]},Ku=[{type:"custom",component:w.jsx(Hu,{type:Gs.BjsubwayTram,defaultAttrs:Wu})}],Ju={component:function(e){var t=e.id,n=e.path,r=e.styleAttrs,a=e.handleClick,o=(null!=r?r:Wu).color,i=void 0===o?Wu.color:o,s=He.useCallback((function(e){return a(t,e)}),[t,a]);return w.jsxs("g",{id:t,children:[w.jsx("path",{d:n,fill:"none",stroke:i[2],strokeWidth:"5"}),w.jsx("path",{d:n,fill:"none",stroke:"white",strokeWidth:"1.67"}),w.jsx("path",{d:n,fill:"none",stroke:"white",strokeOpacity:"0",strokeWidth:5,cursor:"pointer",onClick:s})]})},defaultAttrs:Wu,fields:Ku,metadata:{displayName:"panel.details.lines.bjsubwayTram.displayName",supportLinePathType:[Ps.Diagonal,Ps.Perpendicular,Ps.RotatePerpendicular]}},Yu=Math.abs,qu=Math.cos,Zu=Math.sin,Qu=Math.acos,Xu=Math.atan2,$u=Math.sqrt,el=Math.pow;function tl(e){return e<0?-el(-e,1/3):el(e,1/3)}var nl=Math.PI,rl=2*nl,al=nl/2,ol=Number.MAX_SAFE_INTEGER||9007199254740991,il=Number.MIN_SAFE_INTEGER||-9007199254740991,sl={x:0,y:0,z:0},ul={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,t){var n=t(e),r=n.x*n.x+n.y*n.y;return void 0!==n.z&&(r+=n.z*n.z),$u(r)},compute:function(e,t,n){if(0===e)return t[0].t=0,t[0];var r=t.length-1;if(1===e)return t[r].t=1,t[r];var a=1-e,o=t;if(0===r)return t[0].t=e,t[0];if(1===r){var i={x:a*o[0].x+e*o[1].x,y:a*o[0].y+e*o[1].y,t:e};return n&&(i.z=a*o[0].z+e*o[1].z),i}if(r<4){var s,u,l,c=a*a,d=e*e,h=0;2===r?(o=[o[0],o[1],o[2],sl],s=c,u=a*e*2,l=d):3===r&&(s=c*a,u=c*e*3,l=a*d*3,h=e*d);var p={x:s*o[0].x+u*o[1].x+l*o[2].x+h*o[3].x,y:s*o[0].y+u*o[1].y+l*o[2].y+h*o[3].y,t:e};return n&&(p.z=s*o[0].z+u*o[1].z+l*o[2].z+h*o[3].z),p}for(var f=JSON.parse(JSON.stringify(t));f.length>1;){for(var g=0;g<f.length-1;g++)f[g]={x:f[g].x+(f[g+1].x-f[g].x)*e,y:f[g].y+(f[g+1].y-f[g].y)*e},void 0!==f[g].z&&(f[g]=f[g].z+(f[g+1].z-f[g].z)*e);f.splice(f.length-1,1)}return f[0].t=e,f[0]},computeWithRatios:function(e,t,n,r){var a,o=1-e,i=n,s=t,u=i[0],l=i[1],c=i[2],d=i[3];return u*=o,l*=e,2===s.length?(a=u+l,{x:(u*s[0].x+l*s[1].x)/a,y:(u*s[0].y+l*s[1].y)/a,z:!!r&&(u*s[0].z+l*s[1].z)/a,t:e}):(u*=o,l*=2*o,c*=e*e,3===s.length?(a=u+l+c,{x:(u*s[0].x+l*s[1].x+c*s[2].x)/a,y:(u*s[0].y+l*s[1].y+c*s[2].y)/a,z:!!r&&(u*s[0].z+l*s[1].z+c*s[2].z)/a,t:e}):(u*=o,l*=1.5*o,c*=3*o,d*=e*e*e,4===s.length?(a=u+l+c+d,{x:(u*s[0].x+l*s[1].x+c*s[2].x+d*s[3].x)/a,y:(u*s[0].y+l*s[1].y+c*s[2].y+d*s[3].y)/a,z:!!r&&(u*s[0].z+l*s[1].z+c*s[2].z+d*s[3].z)/a,t:e}):void 0))},derive:function(e,t){for(var n=[],r=e,a=r.length,o=a-1;a>1;a--,o--){for(var i,s=[],u=0;u<o;u++)i={x:o*(r[u+1].x-r[u].x),y:o*(r[u+1].y-r[u].y)},t&&(i.z=o*(r[u+1].z-r[u].z)),s.push(i);n.push(s),r=s}return n},between:function(e,t,n){return t<=e&&e<=n||ul.approximately(e,t)||ul.approximately(e,n)},approximately:function(e,t,n){return Yu(e-t)<=(n||1e-6)},length:function(e){for(var t,n=ul.Tvalues.length,r=0,a=0;a<n;a++)t=.5*ul.Tvalues[a]+.5,r+=ul.Cvalues[a]*ul.arcfn(t,e);return.5*r},map:function(e,t,n,r,a){return r+(a-r)*((e-t)/(n-t))},lerp:function(e,t,n){var r={x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)};return void 0!==t.z&&void 0!==n.z&&(r.z=t.z+e*(n.z-t.z)),r},pointToString:function(e){var t=e.x+"/"+e.y;return void 0!==e.z&&(t+="/"+e.z),t},pointsToString:function(e){return"["+e.map(ul.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,t,n){var r=t.x-e.x,a=t.y-e.y,o=n.x-e.x,i=n.y-e.y;return Xu(r*i-a*o,r*o+a*i)},round:function(e,t){var n=""+e,r=n.indexOf(".");return parseFloat(n.substring(0,r+1+t))},dist:function(e,t){var n=e.x-t.x,r=e.y-t.y;return $u(n*n+r*r)},closest:function(e,t){var n,r,a=el(2,63);return e.forEach((function(e,o){(r=ul.dist(t,e))<a&&(a=r,n=o)})),{mdist:a,mpos:n}},abcratio:function(e,t){if(2!==t&&3!==t)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;var n=el(e,t)+el(1-e,t);return Yu((n-1)/n)},projectionratio:function(e,t){if(2!==t&&3!==t)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;var n=el(1-e,t);return n/(el(e,t)+n)},lli8:function(e,t,n,r,a,o,i,s){var u=(e-n)*(o-s)-(t-r)*(a-i);return 0!=u&&{x:((e*r-t*n)*(a-i)-(e-n)*(a*s-o*i))/u,y:((e*r-t*n)*(o-s)-(t-r)*(a*s-o*i))/u}},lli4:function(e,t,n,r){var a=e.x,o=e.y,i=t.x,s=t.y,u=n.x,l=n.y,c=r.x,d=r.y;return ul.lli8(a,o,i,s,u,l,c,d)},lli:function(e,t){return ul.lli4(e,e.c,t,t.c)},makeline:function(e,t){return new vl(e.x,e.y,(e.x+t.x)/2,(e.y+t.y)/2,t.x,t.y)},findbbox:function(e){var t=ol,n=ol,r=il,a=il;return e.forEach((function(e){var o=e.bbox();t>o.x.min&&(t=o.x.min),n>o.y.min&&(n=o.y.min),r<o.x.max&&(r=o.x.max),a<o.y.max&&(a=o.y.max)})),{x:{min:t,mid:(t+r)/2,max:r,size:r-t},y:{min:n,mid:(n+a)/2,max:a,size:a-n}}},shapeintersections:function(e,t,n,r,a){if(!ul.bboxoverlap(t,r))return[];var o=[],i=[e.startcap,e.forward,e.back,e.endcap],s=[n.startcap,n.forward,n.back,n.endcap];return i.forEach((function(t){t.virtual||s.forEach((function(r){if(!r.virtual){var i=t.intersects(r,a);i.length>0&&(i.c1=t,i.c2=r,i.s1=e,i.s2=n,o.push(i))}}))})),o},makeshape:function(e,t,n){var r=t.points.length,a=e.points.length,o=ul.makeline(t.points[r-1],e.points[0]),i=ul.makeline(e.points[a-1],t.points[0]),s={startcap:o,forward:e,back:t,endcap:i,bbox:ul.findbbox([o,e,t,i]),intersections:function(e){return ul.shapeintersections(s,s.bbox,e,e.bbox,n)}};return s},getminmax:function(e,t,n){if(!n)return{min:0,max:0};var r,a,o=ol,i=il;-1===n.indexOf(0)&&(n=[0].concat(n)),-1===n.indexOf(1)&&n.push(1);for(var s=0,u=n.length;s<u;s++)r=n[s],(a=e.get(r))[t]<o&&(o=a[t]),a[t]>i&&(i=a[t]);return{min:o,mid:(o+i)/2,max:i,size:i-o}},align:function(e,t){var n=t.p1.x,r=t.p1.y,a=-Xu(t.p2.y-r,t.p2.x-n);return e.map((function(e){return{x:(e.x-n)*qu(a)-(e.y-r)*Zu(a),y:(e.x-n)*Zu(a)+(e.y-r)*qu(a)}}))},roots:function(e,t){t=t||{p1:{x:0,y:0},p2:{x:1,y:0}};var n=e.length-1,r=ul.align(e,t),a=function(e){return 0<=e&&e<=1};if(2===n){var o=r[0].y,i=r[1].y,s=r[2].y,u=o-2*i+s;if(0!==u){var l=-$u(i*i-o*s),c=-o+i;return[-(l+c)/u,-(-l+c)/u].filter(a)}return i!==s&&0===u?[(2*i-s)/(2*i-2*s)].filter(a):[]}var d=r[0].y,h=r[1].y,p=r[2].y,f=3*h-d-3*p+r[3].y,g=3*d-6*h+3*p,m=-3*d+3*h,y=d;if(ul.approximately(f,0)){if(ul.approximately(g,0))return ul.approximately(m,0)?[]:[-y/m].filter(a);var v=$u(m*m-4*g*y),b=2*g;return[(v-m)/b,(-m-v)/b].filter(a)}var w,x=(3*(m/=f)-(g/=f)*g)/3,k=x/3,j=(2*g*g*g-9*g*m+27*(y/=f))/27,S=j/2,_=S*S+k*k*k;if(_<0){var z=-x/3,N=$u(z*z*z),E=-j/(2*N),F=Qu(E<-1?-1:E>1?1:E),C=2*tl(N);return[C*qu(F/3)-g/3,C*qu((F+rl)/3)-g/3,C*qu((F+2*rl)/3)-g/3].filter(a)}if(0===_)return[2*(w=S<0?tl(-S):-tl(S))-g/3,-w-g/3].filter(a);var O=$u(_);return[(w=tl(-S+O))-tl(S+O)-g/3].filter(a)},droots:function(e){if(3===e.length){var t=e[0],n=e[1],r=e[2],a=t-2*n+r;if(0!==a){var o=-$u(n*n-t*r),i=-t+n;return[-(o+i)/a,-(-o+i)/a]}return n!==r&&0===a?[(2*n-r)/(2*(n-r))]:[]}if(2===e.length){var s=e[0],u=e[1];return s!==u?[s/(s-u)]:[]}return[]},curvature:function(e,t,n,r,a){var o,i,s,u,l,c,d=ul.compute(e,t),h=ul.compute(e,n),p=d.x*d.x+d.y*d.y;if(r?(o=$u(el(d.y*h.z-h.y*d.z,2)+el(d.z*h.x-h.z*d.x,2)+el(d.x*h.y-h.x*d.y,2)),i=el(p+d.z*d.z,1.5)):(o=d.x*h.y-d.y*h.x,i=el(p,1.5)),0===o||0===i)return{k:0,r:0};if(l=o/i,c=i/o,!a){var f=ul.curvature(e-.001,t,n,r,!0).k,g=ul.curvature(e+.001,t,n,r,!0).k;u=(g-l+(l-f))/2,s=(Yu(g-l)+Yu(l-f))/2}return{k:l,r:c,dk:u,adk:s}},inflections:function(e){if(e.length<4)return[];var t=ul.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=t[2].x*t[1].y,r=t[3].x*t[1].y,a=t[1].x*t[2].y,o=18*(-3*n+2*r+3*a-t[3].x*t[2].y),i=18*(3*n-r-3*a),s=18*(a-n);if(ul.approximately(o,0)){if(!ul.approximately(i,0)){var u=-s/i;if(0<=u&&u<=1)return[u]}return[]}var l=2*o;if(ul.approximately(l,0))return[];var c=i*i-4*o*s;if(c<0)return[];var d=Math.sqrt(c);return[(d-i)/l,-(i+d)/l].filter((function(e){return 0<=e&&e<=1}))},bboxoverlap:function(e,t){for(var n,r,a,o,i=["x","y"],s=i.length,u=0;u<s;u++)if(r=e[n=i[u]].mid,a=t[n].mid,o=(e[n].size+t[n].size)/2,Yu(r-a)>=o)return!1;return!0},expandbox:function(e,t){t.x.min<e.x.min&&(e.x.min=t.x.min),t.y.min<e.y.min&&(e.y.min=t.y.min),t.z&&t.z.min<e.z.min&&(e.z.min=t.z.min),t.x.max>e.x.max&&(e.x.max=t.x.max),t.y.max>e.y.max&&(e.y.max=t.y.max),t.z&&t.z.max>e.z.max&&(e.z.max=t.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,t,n){var r=e.bbox(),a=t.bbox(),o=1e5,i=n||.5;if(r.x.size+r.y.size<i&&a.x.size+a.y.size<i)return[(o*(e._t1+e._t2)/2|0)/o+"/"+(o*(t._t1+t._t2)/2|0)/o];var s=e.split(.5),u=t.split(.5),l=[{left:s.left,right:u.left},{left:s.left,right:u.right},{left:s.right,right:u.right},{left:s.right,right:u.left}];l=l.filter((function(e){return ul.bboxoverlap(e.left.bbox(),e.right.bbox())}));var c=[];return 0===l.length||(l.forEach((function(e){c=c.concat(ul.pairiteration(e.left,e.right,i))})),c=c.filter((function(e,t){return c.indexOf(e)===t}))),c},getccenter:function(e,t,n){var r,a=t.x-e.x,o=t.y-e.y,i=n.x-t.x,s=n.y-t.y,u=a*qu(al)-o*Zu(al),l=a*Zu(al)+o*qu(al),c=i*qu(al)-s*Zu(al),d=i*Zu(al)+s*qu(al),h=(e.x+t.x)/2,p=(e.y+t.y)/2,f=(t.x+n.x)/2,g=(t.y+n.y)/2,m=h+u,y=p+l,v=f+c,b=g+d,w=ul.lli8(h,p,m,y,f,g,v,b),x=ul.dist(w,e),k=Xu(e.y-w.y,e.x-w.x),j=Xu(t.y-w.y,t.x-w.x),S=Xu(n.y-w.y,n.x-w.x);return k<S?((k>j||j>S)&&(k+=rl),k>S&&(r=S,S=k,k=r)):S<j&&j<k?(r=S,S=k,k=r):S+=rl,w.s=k,w.e=S,w.r=x,w},numberSort:function(e,t){return e-t}},ll=function(){function e(t){S(this,e),this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)}return z(e,[{key:"valueOf",value:function(){return this.toString()}},{key:"toString",value:function(){return"["+this.curves.map((function(e){return ul.pointsToString(e.points)})).join(", ")+"]"}},{key:"addCurve",value:function(e){this.curves.push(e),this._3d=this._3d||e._3d}},{key:"length",value:function(){return this.curves.map((function(e){return e.length()})).reduce((function(e,t){return e+t}))}},{key:"curve",value:function(e){return this.curves[e]}},{key:"bbox",value:function(){for(var e=this.curves,t=e[0].bbox(),n=1;n<e.length;n++)ul.expandbox(t,e[n].bbox());return t}},{key:"offset",value:function(t){var n=[];return this.curves.forEach((function(e){n.push.apply(n,i(e.offset(t)))})),new e(n)}}]),e}(),cl=Math.abs,dl=Math.min,hl=Math.max,pl=Math.cos,fl=Math.sin,gl=Math.acos,ml=Math.sqrt,yl=Math.PI,vl=function(){function e(t){S(this,e);var n=t&&t.forEach?t:Array.from(arguments).slice(),r=!1;if("object"===p(n[0])){r=n.length;var a=[];n.forEach((function(e){["x","y","z"].forEach((function(t){void 0!==e[t]&&a.push(e[t])}))})),n=a}var o=!1,i=n.length;if(r){if(r>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(6!==i&&8!==i&&9!==i&&12!==i&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");for(var s=this._3d=!o&&(9===i||12===i)||t&&t[0]&&void 0!==t[0].z,u=this.points=[],l=0,c=s?3:2;l<i;l+=c){var d={x:n[l],y:n[l+1]};s&&(d.z=n[l+2]),u.push(d)}var h=this.order=u.length-1,f=this.dims=["x","y"];s&&f.push("z"),this.dimlen=f.length;var g=ul.align(u,{p1:u[0],p2:u[h]}),m=ul.dist(u[0],u[h]);this._linear=g.reduce((function(e,t){return e+cl(t.y)}),0)<m/50,this._lut=[],this._t1=0,this._t2=1,this.update()}return z(e,[{key:"getUtils",value:function(){return e.getUtils()}},{key:"valueOf",value:function(){return this.toString()}},{key:"toString",value:function(){return ul.pointsToString(this.points)}},{key:"toSVG",value:function(){if(this._3d)return!1;for(var e=this.points,t=["M",e[0].x,e[0].y,2===this.order?"Q":"C"],n=1,r=e.length;n<r;n++)t.push(e[n].x),t.push(e[n].y);return t.join(" ")}},{key:"setRatios",value:function(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}},{key:"verify",value:function(){var e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}},{key:"coordDigest",value:function(){return this.points.map((function(e,t){return""+t+e.x+e.y+(e.z?e.z:0)})).join("")}},{key:"update",value:function(){this._lut=[],this.dpoints=ul.derive(this.points,this._3d),this.computedirection()}},{key:"computedirection",value:function(){var e=this.points,t=ul.angle(e[0],e[this.order],e[1]);this.clockwise=t>0}},{key:"length",value:function(){return ul.length(this.derivative.bind(this))}},{key:"getABC",value:function(t,n){n=n||this.get(t);var r=this.points[0],a=this.points[this.order];return e.getABC(this.order,r,n,a,t)}},{key:"getLUT",value:function(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(var t,n,r=0;r<e;r++)n=r/(e-1),(t=this.compute(n)).t=n,this._lut.push(t);return this._lut}},{key:"on",value:function(e,n){n=n||5;for(var r,a=this.getLUT(),o=[],i=0;i<a.length;i++)r=a[i],ul.dist(r,e)<n&&(o.push(r),i/a.length);return!!o.length&&(t/=o.length)}},{key:"project",value:function(e){var t,n,r=this.getLUT(),a=r.length-1,o=ul.closest(r,e),i=o.mpos,s=(i-1)/a,u=(i+1)/a,l=.1/a,c=o.mdist,d=s,h=d;for(c+=1;d<u+l;d+=l)t=this.compute(d),(n=ul.dist(e,t))<c&&(c=n,h=d);return h=h<0?0:h>1?1:h,(t=this.compute(h)).t=h,t.d=c,t}},{key:"get",value:function(e){return this.compute(e)}},{key:"point",value:function(e){return this.points[e]}},{key:"compute",value:function(e){return this.ratios?ul.computeWithRatios(e,this.points,this.ratios,this._3d):ul.compute(e,this.points,this._3d,this.ratios)}},{key:"raise",value:function(){for(var t,n,r=this.points,a=[r[0]],o=r.length,i=1;i<o;i++)t=r[i],n=r[i-1],a[i]={x:(o-i)/o*t.x+i/o*n.x,y:(o-i)/o*t.y+i/o*n.y};return a[o]=r[o-1],new e(a)}},{key:"derivative",value:function(e){return ul.compute(e,this.dpoints[0],this._3d)}},{key:"dderivative",value:function(e){return ul.compute(e,this.dpoints[1],this._3d)}},{key:"align",value:function(){var t=this.points;return new e(ul.align(t,{p1:t[0],p2:t[t.length-1]}))}},{key:"curvature",value:function(e){return ul.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}},{key:"inflections",value:function(){return ul.inflections(this.points)}},{key:"normal",value:function(e){return this._3d?this.__normal3(e):this.__normal2(e)}},{key:"__normal2",value:function(e){var t=this.derivative(e),n=ml(t.x*t.x+t.y*t.y);return{t:e,x:-t.y/n,y:t.x/n}}},{key:"__normal3",value:function(e){var t=this.derivative(e),n=this.derivative(e+.01),r=ml(t.x*t.x+t.y*t.y+t.z*t.z),a=ml(n.x*n.x+n.y*n.y+n.z*n.z);t.x/=r,t.y/=r,t.z/=r,n.x/=a,n.y/=a,n.z/=a;var o={x:n.y*t.z-n.z*t.y,y:n.z*t.x-n.x*t.z,z:n.x*t.y-n.y*t.x},i=ml(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=i,o.y/=i,o.z/=i;var s=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{t:e,x:s[0]*t.x+s[1]*t.y+s[2]*t.z,y:s[3]*t.x+s[4]*t.y+s[5]*t.z,z:s[6]*t.x+s[7]*t.y+s[8]*t.z}}},{key:"hull",value:function(e){var t=this.points,n=[],r=[],a=0;for(r[a++]=t[0],r[a++]=t[1],r[a++]=t[2],3===this.order&&(r[a++]=t[3]);t.length>1;){n=[];for(var o,i=0,s=t.length-1;i<s;i++)o=ul.lerp(e,t[i],t[i+1]),r[a++]=o,n.push(o);t=n}return r}},{key:"split",value:function(t,n){if(0===t&&n)return this.split(n).left;if(1===n)return this.split(t).right;var r=this.hull(t),a={left:2===this.order?new e([r[0],r[3],r[5]]):new e([r[0],r[4],r[7],r[9]]),right:2===this.order?new e([r[5],r[4],r[2]]):new e([r[9],r[8],r[6],r[3]]),span:r};return a.left._t1=ul.map(0,0,1,this._t1,this._t2),a.left._t2=ul.map(t,0,1,this._t1,this._t2),a.right._t1=ul.map(t,0,1,this._t1,this._t2),a.right._t2=ul.map(1,0,1,this._t1,this._t2),n?(n=ul.map(n,t,1,0,1),a.right.split(n).left):a}},{key:"extrema",value:function(){var e={},t=[];return this.dims.forEach(function(n){var r=function(e){return e[n]},a=this.dpoints[0].map(r);e[n]=ul.droots(a),3===this.order&&(a=this.dpoints[1].map(r),e[n]=e[n].concat(ul.droots(a))),e[n]=e[n].filter((function(e){return e>=0&&e<=1})),t=t.concat(e[n].sort(ul.numberSort))}.bind(this)),e.values=t.sort(ul.numberSort).filter((function(e,n){return t.indexOf(e)===n})),e}},{key:"bbox",value:function(){var e=this.extrema(),t={};return this.dims.forEach(function(n){t[n]=ul.getminmax(this,n,e[n])}.bind(this)),t}},{key:"overlaps",value:function(e){var t=this.bbox(),n=e.bbox();return ul.bboxoverlap(t,n)}},{key:"offset",value:function(t,n){if(void 0!==n){var r=this.get(t),a=this.normal(t),o={c:r,n:a,x:r.x+a.x*n,y:r.y+a.y*n};return this._3d&&(o.z=r.z+a.z*n),o}if(this._linear){var i=this.normal(0),s=this.points.map((function(e){var n={x:e.x+t*i.x,y:e.y+t*i.y};return e.z&&i.z&&(n.z=e.z+t*i.z),n}));return[new e(s)]}return this.reduce().map((function(e){return e._linear?e.offset(t)[0]:e.scale(t)}))}},{key:"simple",value:function(){if(3===this.order){var e=ul.angle(this.points[0],this.points[3],this.points[1]),t=ul.angle(this.points[0],this.points[3],this.points[2]);if(e>0&&t<0||e<0&&t>0)return!1}var n=this.normal(0),r=this.normal(1),a=n.x*r.x+n.y*r.y;return this._3d&&(a+=n.z*r.z),cl(gl(a))<yl/3}},{key:"reduce",value:function(){var e,t,n=0,r=0,a=.01,o=[],i=[],s=this.extrema().values;for(-1===s.indexOf(0)&&(s=[0].concat(s)),-1===s.indexOf(1)&&s.push(1),n=s[0],e=1;e<s.length;e++)r=s[e],(t=this.split(n,r))._t1=n,t._t2=r,o.push(t),n=r;return o.forEach((function(e){for(n=0,r=0;r<=1;)for(r=n+a;r<=1.01;r+=a)if(!(t=e.split(n,r)).simple()){if(cl(n-(r-=a))<a)return[];(t=e.split(n,r))._t1=ul.map(n,0,1,e._t1,e._t2),t._t2=ul.map(r,0,1,e._t1,e._t2),i.push(t),n=r;break}n<1&&((t=e.split(n,1))._t1=ul.map(n,0,1,e._t1,e._t2),t._t2=e._t2,i.push(t))})),i}},{key:"translate",value:function(t,n,r){r="number"==typeof r?r:n;var a=this.order,o=this.points.map((function(e,t){return(1-t/a)*n+t/a*r}));return new e(this.points.map((function(e,n){return{x:e.x+t.x*o[n],y:e.y+t.y*o[n]}})))}},{key:"scale",value:function(t){var n=this,r=this.order,a=!1;if("function"==typeof t&&(a=t),a&&2===r)return this.raise().scale(a);var o=this.clockwise,i=this.points;if(this._linear)return this.translate(this.normal(0),a?a(0):t,a?a(1):t);var s=a?a(0):t,u=a?a(1):t,l=[this.offset(0,10),this.offset(1,10)],c=[],d=ul.lli4(l[0],l[0].c,l[1],l[1].c);if(!d)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach((function(e){var t=c[e*r]=ul.copy(i[e*r]);t.x+=(e?u:s)*l[e].n.x,t.y+=(e?u:s)*l[e].n.y})),a?([0,1].forEach((function(e){if(2!==r||!e){var n=i[e+1],s={x:n.x-d.x,y:n.y-d.y},u=a?a((e+1)/r):t;a&&!o&&(u=-u);var l=ml(s.x*s.x+s.y*s.y);s.x/=l,s.y/=l,c[e+1]={x:n.x+u*s.x,y:n.y+u*s.y}}})),new e(c)):([0,1].forEach((function(e){if(2!==r||!e){var t=c[e*r],a=n.derivative(e),o={x:t.x+a.x,y:t.y+a.y};c[e+1]=ul.lli4(t,o,d,i[e+1])}})),new e(c))}},{key:"outline",value:function(t,n,r,a){if(n=void 0===n?t:n,this._linear){var o,i,s=this.normal(0),u=this.points[0],l=this.points[this.points.length-1];void 0===r&&(r=t,a=n),o={x:u.x+s.x*t,y:u.y+s.y*t},i={x:l.x+s.x*r,y:l.y+s.y*r};var c=[o,{x:(o.x+i.x)/2,y:(o.y+i.y)/2},i];o={x:u.x-s.x*n,y:u.y-s.y*n};var d=[i={x:l.x-s.x*a,y:l.y-s.y*a},{x:(o.x+i.x)/2,y:(o.y+i.y)/2},o],h=ul.makeline(d[2],c[0]),p=ul.makeline(c[2],d[0]),f=[h,new e(c),p,new e(d)];return new ll(f)}var g,m=this.reduce(),y=m.length,v=[],b=[],w=0,x=this.length(),k=void 0!==r&&void 0!==a;function j(e,t,n,r,a){return function(o){var i=r/n,s=(r+a)/n,u=t-e;return ul.map(o,0,1,e+i*u,e+s*u)}}m.forEach((function(e){var o=e.length();k?(v.push(e.scale(j(t,r,x,w,o))),b.push(e.scale(j(-n,-a,x,w,o)))):(v.push(e.scale(t)),b.push(e.scale(-n))),w+=o})),b=b.map((function(e){return(g=e.points)[3]?e.points=[g[3],g[2],g[1],g[0]]:e.points=[g[2],g[1],g[0]],e})).reverse();var S=v[0].points[0],_=v[y-1].points[v[y-1].points.length-1],z=b[y-1].points[b[y-1].points.length-1],N=b[0].points[0],E=ul.makeline(z,S),F=ul.makeline(_,N),C=[E].concat(v).concat([F]).concat(b);return new ll(C)}},{key:"outlineshapes",value:function(e,t,n){t=t||e;for(var r=this.outline(e,t).curves,a=[],o=1,i=r.length;o<i/2;o++){var s=ul.makeshape(r[o],r[i-o],n);s.startcap.virtual=o>1,s.endcap.virtual=o<i/2-1,a.push(s)}return a}},{key:"intersects",value:function(t,n){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof e&&(t=t.reduce()),this.curveintersects(this.reduce(),t,n)):this.selfintersects(n)}},{key:"lineIntersects",value:function(e){var t=this,n=dl(e.p1.x,e.p2.x),r=dl(e.p1.y,e.p2.y),a=hl(e.p1.x,e.p2.x),o=hl(e.p1.y,e.p2.y);return ul.roots(this.points,e).filter((function(e){var i=t.get(e);return ul.between(i.x,n,a)&&ul.between(i.y,r,o)}))}},{key:"selfintersects",value:function(e){for(var t,n,r,a=this.reduce(),o=a.length-2,s=[],u=0;u<o;u++)n=a.slice(u,u+1),r=a.slice(u+2),t=this.curveintersects(n,r,e),s.push.apply(s,i(t));return s}},{key:"curveintersects",value:function(e,t,n){var r=[];e.forEach((function(e){t.forEach((function(t){e.overlaps(t)&&r.push({left:e,right:t})}))}));var a=[];return r.forEach((function(e){var t=ul.pairiteration(e.left,e.right,n);t.length>0&&(a=a.concat(t))})),a}},{key:"arcs",value:function(e){return e=e||.5,this._iterate(e,[])}},{key:"_error",value:function(e,t,n,r){var a=(r-n)/4,o=this.get(n+a),i=this.get(r-a),s=ul.dist(e,t),u=ul.dist(e,o),l=ul.dist(e,i);return cl(u-s)+cl(l-s)}},{key:"_iterate",value:function(e,t){var n,r=0,a=1;do{n=0,a=1;var o=this.get(r),i=void 0,s=void 0,u=void 0,l=void 0,c=!1,d=!1,h=void 0,p=a,f=1;do{if(d=c,l=u,p=(r+a)/2,i=this.get(p),s=this.get(a),(u=ul.getccenter(o,i,s)).interval={start:r,end:a},c=this._error(u,o,r,a)<=e,(h=d&&!c)||(f=a),c){if(a>=1){if(u.interval.end=f=1,l=u,a>1){var g={x:u.x+u.r*pl(u.e),y:u.y+u.r*fl(u.e)};u.e+=ul.angle({x:u.x,y:u.y},g,this.get(1))}break}a+=(a-r)/2}else a=p}while(!h&&n++<100);if(n>=100)break;l=l||u,t.push(l),r=f}while(a<1);return t}}],[{key:"quadraticFromPoints",value:function(t,n,r,a){if(void 0===a&&(a=.5),0===a)return new e(n,n,r);if(1===a)return new e(t,n,n);var o=e.getABC(2,t,n,r,a);return new e(t,o.A,r)}},{key:"cubicFromPoints",value:function(t,n,r,a,o){void 0===a&&(a=.5);var i=e.getABC(3,t,n,r,a);void 0===o&&(o=ul.dist(n,i.C));var s=o*(1-a)/a,u=ul.dist(t,r),l=(r.x-t.x)/u,c=(r.y-t.y)/u,d=o*l,h=o*c,p=s*l,f=s*c,g=n.x-d,m=n.y-h,y=n.x+p,v=n.y+f,b=i.A,w=b.x+(g-b.x)/(1-a),x=b.y+(m-b.y)/(1-a),k=b.x+(y-b.x)/a,j=b.y+(v-b.y)/a;return new e(t,{x:t.x+(w-t.x)/a,y:t.y+(x-t.y)/a},{x:r.x+(k-r.x)/(1-a),y:r.y+(j-r.y)/(1-a)},r)}},{key:"getUtils",value:function(){return ul}},{key:"PolyBezier",get:function(){return ll}},{key:"getABC",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,o=ul.projectionratio(a,e),i=1-o,s={x:o*t.x+i*r.x,y:o*t.y+i*r.y},u=ul.abcratio(a,e),l={x:n.x+(n.x-s.x)/u,y:n.y+(n.y-s.y)/u};return{A:l,B:n,C:s,S:t,E:r}}}]),e}(),bl=function(e,t,n,r,a,o){return[e+n-t,r+o-a]},wl={colorA:[zs.Shanghai,"maglevA","#008B9A",_s.white],colorB:[zs.Shanghai,"maglevB","#F5A74E",_s.white]},xl=function(){var e=wa().t,t=Wl(),n=Kl((function(e){return e.runtime})).selected.at(0),r=He.useRef(window.graph);return w.jsx(M,{leftIcon:w.jsx(zu,{}),size:"sm",onClick:function(){var e,a=null!==(e=r.current.getEdgeAttribute(n,Gs.DualColor))&&void 0!==e?e:wl,o=a.colorA;a.colorA=a.colorB,a.colorB=o,r.current.mergeEdgeAttributes(n,j({},Gs.DualColor,a)),t(mu()),t(ou(r.current.export()))},children:e("panel.details.lines.dualColor.swap")})},kl={component:function(e){var t=e.id,n=e.type,r=e.path,a=e.styleAttrs,o=e.handleClick,s=null!=a?a:wl,u=s.colorA,c=void 0===u?wl.colorA:u,d=s.colorB,h=void 0===d?wl.colorB:d,p=He.useCallback((function(e){return o(t,e)}),[t,o]),f=l(He.useState(r),2),g=f[0],m=f[1],y=l(He.useState(r),2),v=y[0],b=y[1];return He.useEffect((function(){var e,t,a,o,s=null===(e=r.match(/M\s*[+-]?([0-9]*[.])?[0-9]+\s*[+-]?([0-9]*[.])?[0-9]+/))||void 0===e||null===(e=e.at(0))||void 0===e?void 0:e.replace(/M\s*/,"").split(" ").map((function(e){return Number(e)})),u=null===(t=r.match(/L\s*[+-]?([0-9]*[.])?[0-9]+\s*[+-]?([0-9]*[.])?[0-9]+\s*$/))||void 0===t||null===(t=t.at(0))||void 0===t?void 0:t.replace(/L\s*/,"").split(" ").map((function(e){return Number(e)}));if(s&&u)if(s[0]===u[0]||s[1]===u[1]||n===Ps.Diagonal&&Math.abs(s[1]-u[1])===Math.abs(s[0]-u[0])){var c=[s[0],s[1],u[0],u[1]],d=c[0],h=c[1],p=c[2],f=c[3],g=Math.abs((f-h)/(p-d));if(g===1/0)m("M ".concat(d+1.25,",").concat(h," L ").concat(p+1.25,",").concat(f)),b("M ".concat(d-1.25,",").concat(h," L ").concat(p-1.25,",").concat(f));else if(0===g)m("M ".concat(d,",").concat(h+1.25," L ").concat(p,",").concat(f+1.25)),b("M ".concat(d,",").concat(h-1.25," L ").concat(p,",").concat(f-1.25));else{var y=1/g,v=1.25/Math.sqrt(y*y+1),w=v*y*-Math.sign((p-d)*(f-h));m("M ".concat(d+v,",").concat(h+w," L ").concat(p+v,",").concat(f+w)),b("M ".concat(d-v,",").concat(h-w," L ").concat(p-v,",").concat(f-w))}}else{var x=null===(a=r.match(/L\s*[+-]?([0-9]*[.])?[0-9]+\s*[+-]?([0-9]*[.])?[0-9]+/))||void 0===a||null===(a=a.at(0))||void 0===a?void 0:a.replace(/L\s*/,"").split(" ").map((function(e){return Number(e)})),k=null===(o=r.match(/C\s*[+-]?([0-9]*[.])?[0-9]+\s*[+-]?([0-9]*[.])?[0-9]+\s*[+-]?([0-9]*[.])?[0-9]+\s*[+-]?([0-9]*[.])?[0-9]+\s*[+-]?([0-9]*[.])?[0-9]+\s*[+-]?([0-9]*[.])?[0-9]+/g))||void 0===o||null===(o=o.at(0))||void 0===o?void 0:o.replace(/C\s*/,"").split(" ").map((function(e){return Number(e)}));if(x&&k){var j=new vl([].concat(i(x),i(k))),S=[j.scale(-1.25),j.scale(1.25)],_=S[0],z=S[1],N=[_.points.at(0).x,_.points.at(0).y],E=[z.points.at(0).x,z.points.at(0).y];if(s){var F=l(bl(s[0],x[0],N[0],s[1],x[1],N[1]),2),C=F[0],O=F[1],A=l(bl(s[0],x[0],E[0],s[1],x[1],E[1]),2),L=A[0],T=A[1],H=[_.points.at(-1).x,_.points.at(-1).y],R=[z.points.at(-1).x,z.points.at(-1).y],M=[j.points.at(-1).x,j.points.at(-1).y];if(u){var P=l(bl(H[0],M[0],u[0],H[1],M[1],u[1]),2),G=P[0],I=P[1],B=l(bl(R[0],M[0],u[0],R[1],M[1],u[1]),2),D=B[0],U=B[1];m("M ".concat(C,",").concat(O," ").concat(_.toSVG().replace("M","L")," L ").concat(G,",").concat(I)),b("M ".concat(L,",").concat(T," ").concat(z.toSVG().replace("M","L")," L ").concat(D,",").concat(U))}}}}}),[r]),w.jsxs("g",{id:t,children:[w.jsx("path",{d:g,fill:"none",stroke:c[2],strokeWidth:"2.5",strokeLinecap:"round"}),w.jsx("path",{d:v,fill:"none",stroke:h[2],strokeWidth:"2.5",strokeLinecap:"round"}),w.jsx("path",{d:r,fill:"none",stroke:"white",strokeOpacity:"0",strokeWidth:"5",strokeLinecap:"round",cursor:"pointer",onClick:p})]})},defaultAttrs:wl,fields:[{type:"custom",component:w.jsx(xl,{})}],metadata:{displayName:"panel.details.lines.dualColor.displayName",supportLinePathType:[Ps.Diagonal,Ps.Perpendicular,Ps.RotatePerpendicular]}},jl={color:[zs.Shanghai,"river","#B9E3F9",_s.white],width:20},Sl={component:function(e){var t=e.id,n=e.path,r=e.styleAttrs,a=e.handleClick,o=null!=r?r:jl,i=o.color,s=void 0===i?jl.color:i,u=o.width,l=void 0===u?jl.width:u,c=He.useCallback((function(e){return a(t,e)}),[t,a]);return w.jsx("path",{id:t,d:n,fill:"none",stroke:s[2],strokeWidth:l,strokeLinecap:"round",cursor:"pointer",onClick:c})},defaultAttrs:jl,fields:[{type:"input",label:"panel.details.lines.river.width",variant:"number",value:function(e){return(null!=e?e:jl).width},onChange:function(e,t){var n=null!=t?t:jl;return n.width=Number(e),n}}],metadata:{displayName:"panel.details.lines.river.displayName",supportLinePathType:[Ps.Diagonal,Ps.Perpendicular,Ps.RotatePerpendicular,Ps.Simple]}},_l={color:[zs.Hongkong,"twl","#E2231A",_s.white]},zl=[{type:"custom",component:w.jsx(Hu,{type:Gs.MTRRaceDays,defaultAttrs:_l})}],Nl={component:function(e){var t=e.id,n=e.path,r=e.styleAttrs,a=e.handleClick,o=(null!=r?r:_l).color,i=void 0===o?_l.color:o,s=He.useCallback((function(e){return a(t,e)}),[t,a]);return w.jsx("path",{id:t,d:n,fill:"none",stroke:i[2],strokeWidth:"5",strokeLinecap:"butt",strokeDasharray:"5 2.5",cursor:"pointer",onClick:s})},defaultAttrs:_l,fields:zl,metadata:{displayName:"panel.details.lines.mtrRaceDays.displayName",supportLinePathType:[Ps.Diagonal,Ps.Perpendicular,Ps.RotatePerpendicular]}},El={color:[zs.Hongkong,"lrl","#CD9700",_s.white]},Fl=[{type:"custom",component:w.jsx(Hu,{type:Gs.MTRLightRail,defaultAttrs:El})}],Cl={component:function(e){var t=e.id,n=e.path,r=e.styleAttrs,a=e.handleClick,o=(null!=r?r:El).color,i=void 0===o?El.color:o,s=He.useCallback((function(e){return a(t,e)}),[t,a]);return w.jsx("path",{id:t,d:n,fill:"none",stroke:i[2],strokeWidth:"2.5",strokeLinecap:"round",cursor:"pointer",onClick:s})},defaultAttrs:El,fields:Fl,metadata:{displayName:"panel.details.lines.mtrLightRail.displayName",supportLinePathType:[Ps.Diagonal,Ps.Perpendicular,Ps.RotatePerpendicular]}},Ol={component:function(e){var t=e.id,n=e.path,r=e.handleClick,a=He.useCallback((function(e){return r(t,e)}),[t,r]);return w.jsx("path",{d:n,fill:"none",stroke:"black",strokeWidth:"1.33",strokeDasharray:"2.66 1.33",cursor:"pointer",onClick:a})},defaultAttrs:{},fields:[],metadata:{displayName:"panel.details.lines.mtrUnpaidArea.displayName",supportLinePathType:[Ps.Diagonal,Ps.Perpendicular,Ps.RotatePerpendicular,Ps.Simple]}},Al={component:function(e){var t=e.id,n=e.path,r=e.handleClick,a=He.useCallback((function(e){return r(t,e)}),[t,r]);return w.jsx("path",{d:n,fill:"none",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",cursor:"pointer",onClick:a})},defaultAttrs:{},fields:[],metadata:{displayName:"panel.details.lines.mtrPaidArea.displayName",supportLinePathType:[Ps.Diagonal,Ps.Perpendicular,Ps.RotatePerpendicular,Ps.Simple]}},Ll=a("l",(j(Ie={},Ps.Diagonal,Ks),j(Ie,Ps.Perpendicular,qs),j(Ie,Ps.RotatePerpendicular,Xs),j(Ie,Ps.Simple,Ds),Ie)),Tl=a("ac",(j(Be={},Gs.SingleColor,Pu),j(Be,Gs.ShmetroVirtualInt,Gu),j(Be,Gs.GzmtrVirtualInt,Iu),j(Be,Gs.ChinaRailway,Bu),j(Be,Gs.BjsubwaySingleColor,Vu),j(Be,Gs.BjsubwayTram,Ju),j(Be,Gs.DualColor,kl),j(Be,Gs.River,Sl),j(Be,Gs.MTRRaceDays,Nl),j(Be,Gs.MTRLightRail,Cl),j(Be,Gs.MTRUnpaidArea,Ol),j(Be,Gs.MTRPaidArea,Al),Be)),Hl=function(){var e=o(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,Fo((function(){return u.import("./shanghai-legacy-d2846c49.js")}));case 3:return e.t1=e.sent.default,e.abrupt("return",e.t0.stringify.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Rl=a("i",function(){var e=o(E().mark((function e(t){var n,r,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,t){e.next=6;break}return e.next=4,Hl();case 4:t=e.sent,n=!0;case 6:if("version"in(r=JSON.parse(t))&&Number.isInteger(r.version)){e.next=14;break}return e.t0=JSON,e.next=11,Hl();case 11:e.t1=e.sent,r=e.t0.parse.call(e.t0,e.t1),n=!0;case 14:for(a=Number(r.version),o=JSON.stringify(r);a in Pl;)o=Pl[a](o),a=Number(JSON.parse(o).version),n=!0;return n&&(console.warn("Upgrade save to version: ".concat(a)),localStorage.setItem(bs.PARAM_BACKUP,t)),e.abrupt("return",o);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ml=a("G",(function(t){var n=t.present,a=(t.past,t.future,k(k({},r(t,e)),{},{graph:n,version:15}));return JSON.stringify(a)})),Pl={0:function(e){var t;return JSON.stringify({version:1,graph:null===(t=JSON.parse(e))||void 0===t?void 0:t.graph,svgViewBoxZoom:100,svgViewBoxMin:{x:0,y:0}})},1:function(e){var t=JSON.parse(e),n=new Qr;return n.import(null==t?void 0:t.graph),n.filterNodes((function(e,t){return e.startsWith("stn")&&t.type!==Lu.GzmtrInt})).forEach((function(e){var t=n.getNodeAttribute(e,"type"),r=n.getNodeAttribute(e,t);r&&"transfer"in r&&delete r.transfer,n.mergeNodeAttributes(e,j({},t,r))})),JSON.stringify(k(k({},t),{},{version:2,graph:n.export()}))},2:function(e){var t=JSON.parse(e),n=new Qr;return n.import(null==t?void 0:t.graph),n.filterNodes((function(e,t){return e.startsWith("stn")})).forEach((function(e){var t=n.getNodeAttribute(e,"type"),r=n.getNodeAttribute(e,t);"middle"===(null==r?void 0:r.nameOffsetX)&&"middle"===(null==r?void 0:r.nameOffsetY)&&(r.nameOffsetX="right",r.nameOffsetY="top"),"up"===(null==r?void 0:r.nameOffsetY)&&(r.nameOffsetY="top"),n.mergeNodeAttributes(e,j({},t,r))})),JSON.stringify(k(k({},t),{},{version:3,graph:n.export()}))},3:function(e){var t=JSON.parse(e),n=new Qr;return n.import(null==t?void 0:t.graph),n.filterEdges((function(e,t,n,r,a,o,i){return e.startsWith("line")})).forEach((function(e){var t=n.getEdgeAttribute(e,"color");n.removeEdgeAttribute(e,"color"),n.mergeEdgeAttributes(e,j({style:Gs.SingleColor},Gs.SingleColor,{color:t}))})),n.filterEdges((function(e,t,n,r,a,o,i){return e.startsWith("misc_edge")})).forEach((function(e){var t,r="line_".concat(Ms(10)),a=l(n.extremities(e),2),o=a[0],i=a[1],s=n.getEdgeAttribute(e,"type"),u=s;n.addDirectedEdgeWithKey(r,o,i,(j(t={visible:!0,zIndex:0,type:Ps.Simple},s,structuredClone(Ll[Ps.Simple].defaultAttrs)),j(t,"style",u),j(t,u,structuredClone(Tl[u].defaultAttrs)),j(t,"reconcileId",""),t)),n.dropEdge(e)})),JSON.stringify(k(k({},t),{},{version:4,graph:n.export()}))},4:function(e){var t=JSON.parse(e),n=new Qr;return n.import(null==t?void 0:t.graph),n.filterNodes((function(e,t){return e.startsWith("stn")&&(t.type===Lu.GzmtrBasic||t.type===Lu.GzmtrInt)})).forEach((function(e){var t=n.getNodeAttribute(e,"type"),r=n.getNodeAttribute(e,t);r.open=!0,r.secondaryNames=["",""],n.mergeNodeAttributes(e,j({},t,r))})),JSON.stringify(k(k({},t),{},{version:5,graph:n.export()}))},5:function(e){var t=JSON.parse(e),n=new Qr;return n.import(null==t?void 0:t.graph),n.filterEdges((function(e,t,n,r,a,o,i){return e.startsWith("line")&&t.type===Ps.Simple})).forEach((function(e){var t,r=null!==(t=n.getEdgeAttribute(e,Ps.Simple))&&void 0!==t?t:{offset:0};r.offset=0,n.mergeEdgeAttributes(e,j({},Ps.Simple,r))})),JSON.stringify(k(k({},t),{},{version:6,graph:n.export()}))},6:function(e){var t=JSON.parse(e),n=new Qr;return n.import(null==t?void 0:t.graph),n.filterNodes((function(e,t){return e.startsWith("stn")&&t.type===Lu.GzmtrBasic})).forEach((function(e){var t=n.getNodeAttribute(e,"type"),r=n.getNodeAttribute(e,t);r.tram=!1,n.mergeNodeAttributes(e,j({},t,r))})),JSON.stringify(k(k({},t),{},{version:7,graph:n.export()}))},7:function(e){return JSON.stringify(k(k({},JSON.parse(e)),{},{version:8}))},8:function(e){return JSON.stringify(k(k({},JSON.parse(e)),{},{version:9}))},9:function(e){return JSON.stringify(k(k({},JSON.parse(e)),{},{version:10}))},10:function(e){var t=JSON.parse(e),n=new Qr;return n.import(null==t?void 0:t.graph),n.filterNodes((function(e,t){return e.startsWith("misc_node")&&t.type===Tu.Text})).forEach((function(e){var t=n.getNodeAttribute(e,"type"),r=n.getNodeAttribute(e,t);r.color=[zs.Shanghai,"jsr","#000000",_s.white],n.mergeNodeAttributes(e,j({},t,r))})),JSON.stringify(k(k({},t),{},{version:11,graph:n.export()}))},11:function(e){return JSON.stringify(k(k({},JSON.parse(e)),{},{version:12}))},12:function(e){var t=JSON.parse(e),n=new Qr;return n.import(null==t?void 0:t.graph),n.filterNodes((function(e,t){return e.startsWith("misc_node")&&t.type===Tu.Text})).forEach((function(e){var t=n.getNodeAttribute(e,"type"),r=n.getNodeAttribute(e,t);r.rotate=0,r.italic=!1,n.mergeNodeAttributes(e,j({},t,r))})),JSON.stringify(k(k({},t),{},{version:13,graph:n.export()}))},13:function(e){return JSON.stringify(k(k({},JSON.parse(e)),{},{version:14}))},14:function(e){return JSON.stringify(k(k({},JSON.parse(e)),{},{version:15}))}},Gl=Me({name:"param",initialState:{telemetry:{app:!0,project:!0},preference:{unlockSimplePathAttempts:3}},reducers:{setTelemetryApp:function(e,t){e.telemetry.app=t.payload},setTelemetryProject:function(e,t){e.telemetry.project=t.payload},setUnlockSimplePath:function(e,t){e.preference.unlockSimplePathAttempts=t.payload}}}),Il=Gl.actions,Bl=Il.setTelemetryApp,Dl=(Il.setTelemetryProject,Il.setUnlockSimplePath);a({Y:Bl,O:Dl});var Ul=Gl.reducer,Vl=Ge({reducer:{app:Ul,param:uu,runtime:ku},middleware:function(e){return e({serializableCheck:!1})}});Vl.subscribe((function(){localStorage.setItem(bs.PARAM,Ml(Vl.getState().param)),localStorage.setItem(bs.APP,JSON.stringify(Vl.getState().app))}));var Wl=a("e",(function(){return Eo()})),Kl=a("z",to),Jl=JSON.parse(null!==(De=localStorage.getItem(bs.APP))&&void 0!==De?De:"{}"),Yl=localStorage.getItem(bs.PARAM);"telemetry"in Jl&&"app"in Jl.telemetry&&Vl.dispatch(Bl(Jl.telemetry.app)),"preference"in Jl&&"unlockSimplePathAttempts"in Jl.preference&&Vl.dispatch(Dl(Jl.preference.unlockSimplePathAttempts)),Rl(Yl).then((function(e){var t=JSON.parse(e),a=(t.version,t.graph),o=r(t,n);window.graph=Qr.from(a);var i=k(k({},o),{},{present:a,past:[],future:[]});Vl.dispatch(au(i)),Jr(document.getElementById("root")).render(w.jsx(He.StrictMode,{children:w.jsx(ko,{store:Vl,children:w.jsx(xa,{i18n:Ts,children:w.jsx(Ss,{})})})})),pn.injectUITools()}))}}}))}();
