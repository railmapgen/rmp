const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/page-header-CcskfmtK.js","assets/chakra-Ca6KT-9z.js","assets/react-CSPJnIVK.js","assets/master-manager-DpTzrbnH.js","assets/change-type-modal-BWPFTtrl.js","assets/tools-Bm5h3a04.js","assets/misc-nodes-BlzoJ-HA.js","assets/svg-wrapper-GLpi06Aj.js","assets/clipboard-CpFCM8zZ.js","assets/details-C29BtJc2.js","assets/rmg-palette-app-clip-CJf5_diC.js"])))=>i.map(i=>d[i]);
var To=Object.defineProperty;var Lo=(r,e,n)=>e in r?To(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var kt=(r,e,n)=>Lo(r,typeof e!="symbol"?e+"":e,n);import{u as je,a as ko,j as f,P as Oo,c as xn,F as Mo,f as dt,W as ra,T as Po,b as Do,d as jo,e as ia,g as tn,h as ke,B as aa,D as mi,i as Bo,k as Io,l as $o,m as oa,C as zo,S as sa,n as Fo,o as Go,p as Ho,I as Uo,q as la,r as Vo,s as Wo,t as vt,v as qo,w as Jo,x as ua,y as Ko,z as Yo,A as Zo,E as Qo,G as Xo,M as es,H as ts,J as ns,K as rs,L as is,N as Xe,O as as,Q as ca,R as Ut,U as zr,V as Fr,X as os,Y as ss,Z as ls,_ as us,$ as cs,a0 as ds,a1 as hs,a2 as Nn,a3 as ps,a4 as fs,a5 as gs,a6 as ms,a7 as ys,a8 as bs,a9 as Ht,aa as ws,ab as vs,ac as xs,ad as Ns,ae as Ss,af as G}from"./chakra-Ca6KT-9z.js";import{e as Cs,a as M,b as j,f as Xn,u as V,i as Rs,h as da,o as yi,j as ha,k as pa,l as _s,m as As,n as Es,p as Ts,P as Ls,I as ks}from"./react-CSPJnIVK.js";function V0(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const fa=r=>new Promise(e=>{setTimeout(e,r,"Timeout after ".concat(r/1e3," seconds"))}),Os=r=>new Promise(e=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.readAsDataURL(r)}),Ms=r=>{let e,n=!1;return async i=>e&&(n||!i)?e:(e=r(),n=!0,e.then(a=>(n=!1,a)).catch(a=>{throw e=null,a}))},Gr=r=>{let e=0;for(let n=0;n<r.length;n++)e=r.charCodeAt(n)+((e<<5)-e);return e},Hr=r=>{const e=(r&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-e.length)+e},z=r=>typeof r=="string",Ot=()=>{let r,e;const n=new Promise((i,a)=>{r=i,e=a});return n.resolve=r,n.reject=e,n},bi=r=>r==null?"":""+r,Ps=(r,e,n)=>{r.forEach(i=>{e[i]&&(n[i]=e[i])})},Ds=/###/g,wi=r=>r&&r.indexOf("###")>-1?r.replace(Ds,"."):r,vi=r=>!r||z(r),Vt=(r,e,n)=>{const i=z(e)?e.split("."):e;let a=0;for(;a<i.length-1;){if(vi(r))return{};const o=wi(i[a]);!r[o]&&n&&(r[o]=new n),Object.prototype.hasOwnProperty.call(r,o)?r=r[o]:r={},++a}return vi(r)?{}:{obj:r,k:wi(i[a])}},xi=(r,e,n)=>{const{obj:i,k:a}=Vt(r,e,Object);if(i!==void 0||e.length===1){i[a]=n;return}let o=e[e.length-1],s=e.slice(0,e.length-1),l=Vt(r,s,Object);for(;l.obj===void 0&&s.length;)o="".concat(s[s.length-1],".").concat(o),s=s.slice(0,s.length-1),l=Vt(r,s,Object),l!=null&&l.obj&&typeof l.obj["".concat(l.k,".").concat(o)]<"u"&&(l.obj=void 0);l.obj["".concat(l.k,".").concat(o)]=n},js=(r,e,n,i)=>{const{obj:a,k:o}=Vt(r,e,Object);a[o]=a[o]||[],a[o].push(n)},Sn=(r,e)=>{const{obj:n,k:i}=Vt(r,e);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},Bs=(r,e,n)=>{const i=Sn(r,n);return i!==void 0?i:Sn(e,n)},ga=(r,e,n)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in r?z(r[i])||r[i]instanceof String||z(e[i])||e[i]instanceof String?n&&(r[i]=e[i]):ga(r[i],e[i],n):r[i]=e[i]);return r},ft=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Is={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const $s=r=>z(r)?r.replace(/[&<>"'\/]/g,e=>Is[e]):r;class zs{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const Fs=[" ",",","?","!",";"],Gs=new zs(20),Hs=(r,e,n)=>{e=e||"",n=n||"";const i=Fs.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(i.length===0)return!0;const a=Gs.getRegExp("(".concat(i.map(s=>s==="?"?"\\?":s).join("|"),")"));let o=!a.test(r);if(!o){const s=r.indexOf(n);s>0&&!a.test(r.substring(0,s))&&(o=!0)}return o},Sr=function(r,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!r)return;if(r[e])return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0;const i=e.split(n);let a=r;for(let o=0;o<i.length;){if(!a||typeof a!="object")return;let s,l="";for(let u=o;u<i.length;++u)if(u!==o&&(l+=n),l+=i[u],s=a[l],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&u<i.length-1)continue;o+=u-o+1;break}a=s}return a},Cn=r=>r==null?void 0:r.replace("_","-"),Us={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,e){var n,i;(i=(n=console==null?void 0:console[r])==null?void 0:n.apply)==null||i.call(n,console,e)}};class Rn{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||Us,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,i,a){return a&&!this.debug?null:(z(e[0])&&(e[0]="".concat(i).concat(this.prefix," ").concat(e[0])),this.logger[n](e))}create(e){return new Rn(this.logger,{prefix:"".concat(this.prefix,":").concat(e,":"),...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Rn(this.logger,e)}}var De=new Rn;class er{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const a=this.observers[i].get(n)||0;this.observers[i].set(n,a+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(s=>{let[l,u]=s;for(let c=0;c<u;c++)l(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[l,u]=s;for(let c=0;c<u;c++)l.apply(l,[e,...i])})}}class Ni extends er{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,i){var c,d;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,s=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,n],i&&(Array.isArray(i)?l.push(...i):z(i)&&o?l.push(...i.split(o)):l.push(i)));const u=Sn(this.data,l);return!u&&!n&&!i&&e.indexOf(".")>-1&&(e=l[0],n=l[1],i=l.slice(2).join(".")),u||!s||!z(i)?u:Sr((d=(c=this.data)==null?void 0:c[e])==null?void 0:d[n],i,o)}addResource(e,n,i,a){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let l=[e,n];i&&(l=l.concat(s?i.split(s):i)),e.indexOf(".")>-1&&(l=e.split("."),a=n,n=l[1]),this.addNamespaces(n),xi(this.data,l,a),o.silent||this.emit("added",e,n,i,a)}addResources(e,n,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in i)(z(i[o])||Array.isArray(i[o]))&&this.addResource(e,n,o,i[o],{silent:!0});a.silent||this.emit("added",e,n,i)}addResourceBundle(e,n,i,a,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),a=i,i=n,n=l[1]),this.addNamespaces(n);let u=Sn(this.data,l)||{};s.skipCopy||(i=JSON.parse(JSON.stringify(i))),a?ga(u,i,o):u={...u,...i},xi(this.data,l,u),s.silent||this.emit("added",e,n,i)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var ma={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,e,n,i,a){return r.forEach(o=>{var s,l;e=(l=(s=this.processors[o])==null?void 0:s.process(e,n,i,a))!=null?l:e}),e}};const Si={},Ci=r=>!z(r)&&typeof r!="boolean"&&typeof r!="number";class _n extends er{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Ps(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=De.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,n);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const s=i&&e.indexOf(i)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Hs(e,i,a);if(s&&!l){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:z(o)?[o]:o};const c=e.split(i);(i!==a||i===a&&this.options.ns.indexOf(c[0])>-1)&&(o=c.shift()),e=c.join(a)}return{key:e,namespaces:z(o)?[o]:o}}translate(e,n,i){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:l}=this.extractFromKey(e[e.length-1],n),u=l[l.length-1],c=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((c==null?void 0:c.toLowerCase())==="cimode"){if(d){const O=n.nsSeparator||this.options.nsSeparator;return a?{res:"".concat(u).concat(O).concat(s),usedKey:s,exactUsedKey:s,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:"".concat(u).concat(O).concat(s)}return a?{res:s,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:s}const h=this.resolve(e,n);let p=h==null?void 0:h.res;const m=(h==null?void 0:h.usedKey)||s,g=(h==null?void 0:h.exactUsedKey)||s,b=["[object Number]","[object Function]","[object RegExp]"],S=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,k=n.count!==void 0&&!z(n.count),P=_n.hasDefaultValue(n),w=k?this.pluralResolver.getSuffix(c,n.count,n):"",y=n.ordinal&&k?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",N=k&&!n.ordinal&&n.count===0,v=N&&n["defaultValue".concat(this.options.pluralSeparator,"zero")]||n["defaultValue".concat(w)]||n["defaultValue".concat(y)]||n.defaultValue;let C=p;T&&!p&&P&&(C=v);const R=Ci(C),_=Object.prototype.toString.apply(C);if(T&&C&&R&&b.indexOf(_)<0&&!(z(S)&&Array.isArray(C))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,C,{...n,ns:l}):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");return a?(h.res=O,h.usedParams=this.getUsedParamsDetails(n),h):O}if(o){const O=Array.isArray(C),$=O?[]:{},W=O?g:m;for(const U in C)if(Object.prototype.hasOwnProperty.call(C,U)){const Q="".concat(W).concat(o).concat(U);P&&!p?$[U]=this.translate(Q,{...n,defaultValue:Ci(v)?v[U]:void 0,joinArrays:!1,ns:l}):$[U]=this.translate(Q,{...n,joinArrays:!1,ns:l}),$[U]===Q&&($[U]=C[U])}p=$}}else if(T&&z(S)&&Array.isArray(p))p=p.join(S),p&&(p=this.extendTranslation(p,e,n,i));else{let O=!1,$=!1;!this.isValidLookup(p)&&P&&(O=!0,p=v),this.isValidLookup(p)||($=!0,p=s);const U=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&$?void 0:p,Q=P&&v!==p&&this.options.updateMissing;if($||O||Q){if(this.logger.log(Q?"updateKey":"missingKey",c,u,s,Q?v:p),o){const ie=this.resolve(s,{...n,keySeparator:!1});ie&&ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ge=[];const rt=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&rt&&rt[0])for(let ie=0;ie<rt.length;ie++)ge.push(rt[ie]);else this.options.saveMissingTo==="all"?ge=this.languageUtils.toResolveHierarchy(n.lng||this.language):ge.push(n.lng||this.language);const it=(ie,Oe,Me)=>{var Ne;const Be=P&&Me!==p?Me:U;this.options.missingKeyHandler?this.options.missingKeyHandler(ie,u,Oe,Be,Q,n):(Ne=this.backendConnector)!=null&&Ne.saveMissing&&this.backendConnector.saveMissing(ie,u,Oe,Be,Q,n),this.emit("missingKey",ie,u,Oe,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?ge.forEach(ie=>{const Oe=this.pluralResolver.getSuffixes(ie,n);N&&n["defaultValue".concat(this.options.pluralSeparator,"zero")]&&Oe.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&Oe.push("".concat(this.options.pluralSeparator,"zero")),Oe.forEach(Me=>{it([ie],s+Me,n["defaultValue".concat(Me)]||v)})}):it(ge,s,v))}p=this.extendTranslation(p,e,n,h,i),$&&p===s&&this.options.appendNamespaceToMissingKey&&(p="".concat(u,":").concat(s)),($||O)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(u,":").concat(s):s,O?p:void 0))}return a?(h.res=p,h.usedParams=this.getUsedParamsDetails(n),h):p}extendTranslation(e,n,i,a,o){var c,d;var s=this;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const h=z(e)&&(((d=i==null?void 0:i.interpolation)==null?void 0:d.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(h){const g=e.match(this.interpolator.nestingRegexp);p=g&&g.length}let m=i.replace&&!z(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,i.lng||this.language||a.usedLng,i),h){const g=e.match(this.interpolator.nestingRegexp),b=g&&g.length;p<b&&(i.nest=!1)}!i.lng&&a&&a.res&&(i.lng=this.language||a.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var g=arguments.length,b=new Array(g),S=0;S<g;S++)b[S]=arguments[S];return(o==null?void 0:o[0])===b[0]&&!i.context?(s.logger.warn("It seems you are nesting recursively key: ".concat(b[0]," in key: ").concat(n[0])),null):s.translate(...b,n)},i)),i.interpolation&&this.interpolator.reset()}const l=i.postProcess||this.options.postProcess,u=z(l)?[l]:l;return e!=null&&(u!=null&&u.length)&&i.applyPostProcessor!==!1&&(e=ma.handle(u,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,a,o,s,l;return z(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(i))return;const c=this.extractFromKey(u,n),d=c.key;a=d;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const p=n.count!==void 0&&!z(n.count),m=p&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(z(n.context)||typeof n.context=="number")&&n.context!=="",b=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(S=>{var T,k;this.isValidLookup(i)||(l=S,!Si["".concat(b[0],"-").concat(S)]&&((T=this.utils)!=null&&T.hasLoadedNamespace)&&!((k=this.utils)!=null&&k.hasLoadedNamespace(l))&&(Si["".concat(b[0],"-").concat(S)]=!0,this.logger.warn('key "'.concat(a,'" for languages "').concat(b.join(", "),'" won\'t get resolved as namespace "').concat(l,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(P=>{var N;if(this.isValidLookup(i))return;s=P;const w=[d];if((N=this.i18nFormat)!=null&&N.addLookupKeys)this.i18nFormat.addLookupKeys(w,d,P,S,n);else{let v;p&&(v=this.pluralResolver.getSuffix(P,n.count,n));const C="".concat(this.options.pluralSeparator,"zero"),R="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(p&&(w.push(d+v),n.ordinal&&v.indexOf(R)===0&&w.push(d+v.replace(R,this.options.pluralSeparator)),m&&w.push(d+C)),g){const _="".concat(d).concat(this.options.contextSeparator).concat(n.context);w.push(_),p&&(w.push(_+v),n.ordinal&&v.indexOf(R)===0&&w.push(_+v.replace(R,this.options.pluralSeparator)),m&&w.push(_+C))}}let y;for(;y=w.pop();)this.isValidLookup(i)||(o=y,i=this.getResource(P,S,y,n))}))})}),{res:i,usedKey:a,exactUsedKey:o,usedLng:s,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,i){var o;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,n,i,a):this.resourceStore.getResource(e,n,i,a)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!z(e.replace);let a=i?e.replace:e;if(i&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!i){a={...a};for(const o of n)delete a[o]}return a}static hasDefaultValue(e){const n="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n===i.substring(0,n.length)&&e[i]!==void 0)return!0;return!1}}class Ri{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=De.create("languageUtils")}getScriptPartFromCode(e){if(e=Cn(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Cn(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(z(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch(i){}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(i=>{if(n)return;const a=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&e.forEach(i=>{if(n)return;const a=this.getLanguagePartFromCode(i);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),z(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let i=e[n];return i||(i=e[this.getScriptPartFromCode(n)]),i||(i=e[this.formatLanguageCode(n)]),i||(i=e[this.getLanguagePartFromCode(n)]),i||(i=e.default),i||[]}toResolveHierarchy(e,n){const i=this.getFallbackCodes(n||this.options.fallbackLng||[],e),a=[],o=s=>{s&&(this.isSupportedCode(s)?a.push(s):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(s)))};return z(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):z(e)&&o(this.formatLanguageCode(e)),i.forEach(s=>{a.indexOf(s)<0&&o(this.formatLanguageCode(s))}),a}}const _i={zero:0,one:1,two:2,few:3,many:4,other:5},Ai={select:r=>r===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Vs{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=De.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=Cn(e==="dev"?"en":e),a=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:i,type:a});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let s;try{s=new Intl.PluralRules(i,{type:a})}catch(l){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ai;if(!e.match(/-|_/))return Ai;const u=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(u,n)}return this.pluralRulesCache[o]=s,s}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),(i==null?void 0:i.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(a=>"".concat(n).concat(a))}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((a,o)=>_i[a]-_i[o]).map(a=>"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(a)):[]}getSuffix(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(e,i);return a?"".concat(this.options.prepend).concat(i.ordinal?"ordinal".concat(this.options.prepend):"").concat(a.select(n)):(this.logger.warn("no plural rule found for: ".concat(e)),this.getSuffix("dev",n,i))}}const Ei=function(r,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=Bs(r,e,n);return!o&&a&&z(n)&&(o=Sr(r,n,i),o===void 0&&(o=Sr(e,n,i))),o},fr=r=>r.replace(/\$/g,"$$$$");class Ws{constructor(){var n;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=De.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(i=>i),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:a,prefix:o,prefixEscaped:s,suffix:l,suffixEscaped:u,formatSeparator:c,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:p,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:b,nestingOptionsSeparator:S,maxReplaces:T,alwaysFormat:k}=e.interpolation;this.escape=n!==void 0?n:$s,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=o?ft(o):s||"{{",this.suffix=l?ft(l):u||"}}",this.formatSeparator=c||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?ft(p):m||ft("$t("),this.nestingSuffix=g?ft(g):b||ft(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=T||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,i)=>(n==null?void 0:n.source)===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix))}interpolate(e,n,i,a){var m;let o,s,l;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const k=Ei(n,u,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,i,{...a,...n,interpolationkey:g}):k}const b=g.split(this.formatSeparator),S=b.shift().trim(),T=b.join(this.formatSeparator).trim();return this.format(Ei(n,u,S,this.options.keySeparator,this.options.ignoreJSONStructure),T,i,{...a,...n,interpolationkey:S})};this.resetRegExp();const d=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((m=a==null?void 0:a.interpolation)==null?void 0:m.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>fr(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?fr(this.escape(g)):fr(g)}].forEach(g=>{for(l=0;o=g.regex.exec(e);){const b=o[1].trim();if(s=c(b),s===void 0)if(typeof d=="function"){const T=d(e,o,a);s=z(T)?T:""}else if(a&&Object.prototype.hasOwnProperty.call(a,b))s="";else if(h){s=o[0];continue}else this.logger.warn("missed to pass in variable ".concat(b," for interpolating ").concat(e)),s="";else!z(s)&&!this.useRawValueToEscape&&(s=bi(s));const S=g.safeValue(s);if(e=e.replace(o[0],S),h?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,o,s;const l=(u,c)=>{var b;const d=this.nestingOptionsSeparator;if(u.indexOf(d)<0)return u;const h=u.split(new RegExp("".concat(d,"[ ]*{")));let p="{".concat(h[1]);u=h[0],p=this.interpolate(p,s);const m=p.match(/'/g),g=p.match(/"/g);(((b=m==null?void 0:m.length)!=null?b:0)%2===0&&!g||g.length%2!==0)&&(p=p.replace(/'/g,'"'));try{s=JSON.parse(p),c&&(s={...c,...s})}catch(S){return this.logger.warn("failed parsing options string in nesting for key ".concat(u),S),"".concat(u).concat(d).concat(p)}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,u};for(;a=this.nestingRegexp.exec(e);){let u=[];s={...i},s=s.replace&&!z(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let c=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const d=a[1].split(this.formatSeparator).map(h=>h.trim());a[1]=d.shift(),u=d,c=!0}if(o=n(l.call(this,a[1].trim(),s),s),o&&a[0]===e&&!z(o))return o;z(o)||(o=bi(o)),o||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(e)),o=""),c&&(o=u.reduce((d,h)=>this.format(d,h,i.lng,{...i,interpolationkey:a[1].trim()}),o.trim())),e=e.replace(a[0],o),this.regexp.lastIndex=0}return e}}const qs=r=>{let e=r.toLowerCase().trim();const n={};if(r.indexOf("(")>-1){const i=r.split("(");e=i[0].toLowerCase().trim();const a=i[1].substring(0,i[1].length-1);e==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(s=>{if(s){const[l,...u]=s.split(":"),c=u.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();n[d]||(n[d]=c),c==="false"&&(n[d]=!1),c==="true"&&(n[d]=!0),isNaN(c)||(n[d]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},gt=r=>{const e={};return(n,i,a)=>{let o=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(o={...o,[a.interpolationkey]:void 0});const s=i+JSON.stringify(o);let l=e[s];return l||(l=r(Cn(i),a),e[s]=l),l(n)}};class Js{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=De.create("formatter"),this.options=e,this.formats={number:gt((n,i)=>{const a=new Intl.NumberFormat(n,{...i});return o=>a.format(o)}),currency:gt((n,i)=>{const a=new Intl.NumberFormat(n,{...i,style:"currency"});return o=>a.format(o)}),datetime:gt((n,i)=>{const a=new Intl.DateTimeFormat(n,{...i});return o=>a.format(o)}),relativetime:gt((n,i)=>{const a=new Intl.RelativeTimeFormat(n,{...i});return o=>a.format(o,i.range||"day")}),list:gt((n,i)=>{const a=new Intl.ListFormat(n,{...i});return o=>a.format(o)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=gt(n)}format(e,n,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(l=>l.indexOf(")")>-1)){const l=o.findIndex(u=>u.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,l)].join(this.formatSeparator)}return o.reduce((l,u)=>{var h;const{formatName:c,formatOptions:d}=qs(u);if(this.formats[c]){let p=l;try{const m=((h=a==null?void 0:a.formatParams)==null?void 0:h[a.interpolationkey])||{},g=m.locale||m.lng||a.locale||a.lng||i;p=this.formats[c](l,g,{...d,...a,...m})}catch(m){this.logger.warn(m)}return p}else this.logger.warn("there was no format function for ".concat(c));return l},e)}}const Ks=(r,e)=>{r.pending[e]!==void 0&&(delete r.pending[e],r.pendingCount--)};class Ys extends er{constructor(e,n,i){var o,s;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=a,this.logger=De.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(s=(o=this.backend)==null?void 0:o.init)==null||s.call(o,i,a.backend,a)}queueLoad(e,n,i,a){const o={},s={},l={},u={};return e.forEach(c=>{let d=!0;n.forEach(h=>{const p="".concat(c,"|").concat(h);!i.reload&&this.store.hasResourceBundle(c,h)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?s[p]===void 0&&(s[p]=!0):(this.state[p]=1,d=!1,s[p]===void 0&&(s[p]=!0),o[p]===void 0&&(o[p]=!0),u[h]===void 0&&(u[h]=!0)))}),d||(l[c]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(u)}}loaded(e,n,i){const a=e.split("|"),o=a[0],s=a[1];n&&this.emit("failedLoading",o,s,n),!n&&i&&this.store.addResourceBundle(o,s,i,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&i&&(this.state[e]=0);const l={};this.queue.forEach(u=>{js(u.loaded,[o],s),Ks(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(c=>{l[c]||(l[c]={});const d=u.loaded[c];d.length&&d.forEach(h=>{l[c][h]===void 0&&(l[c][h]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(u=>!u.done)}read(e,n,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:i,tried:a,wait:o,callback:s});return}this.readingCalls++;const l=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(c&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,i,a+1,o*2,s)},o);return}s(c,d)},u=this.backend[i].bind(this.backend);if(u.length===2){try{const c=u(e,n);c&&typeof c.then=="function"?c.then(d=>l(null,d)).catch(l):l(null,c)}catch(c){l(c)}return}return u(e,n,l)}prepareLoading(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();z(e)&&(e=this.languageUtils.toResolveHierarchy(e)),z(n)&&(n=[n]);const o=this.queueLoad(e,n,i,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,i){this.prepareLoading(e,n,{},i)}reload(e,n,i){this.prepareLoading(e,n,{reload:!0},i)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),a=i[0],o=i[1];this.read(a,o,"read",void 0,void 0,(s,l)=>{s&&this.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(a," failed"),s),!s&&l&&this.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(a),l),this.loaded(e,s,l)})}saveMissing(e,n,i,a,o){var u,c,d,h,p;let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((c=(u=this.services)==null?void 0:u.utils)!=null&&c.hasLoadedNamespace&&!((h=(d=this.services)==null?void 0:d.utils)!=null&&h.hasLoadedNamespace(n))){this.logger.warn('did not save key "'.concat(i,'" as the namespace "').concat(n,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if((p=this.backend)!=null&&p.create){const m={...s,isUpdate:o},g=this.backend.create.bind(this.backend);if(g.length<6)try{let b;g.length===5?b=g(e,n,i,a,m):b=g(e,n,i,a),b&&typeof b.then=="function"?b.then(S=>l(null,S)).catch(l):l(null,b)}catch(b){l(b)}else g(e,n,i,a,l,m)}!e||!e[0]||this.store.addResource(e[0],n,i,a)}}}const Ti=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let e={};if(typeof r[1]=="object"&&(e=r[1]),z(r[1])&&(e.defaultValue=r[1]),z(r[2])&&(e.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const n=r[3]||r[2];Object.keys(n).forEach(i=>{e[i]=n[i]})}return e},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Li=r=>{var e,n;return z(r.ns)&&(r.ns=[r.ns]),z(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),z(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),((n=(e=r.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),typeof r.initImmediate=="boolean"&&(r.initAsync=r.initImmediate),r},rn=()=>{},Zs=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(n=>{typeof r[n]=="function"&&(r[n]=r[n].bind(r))})};class Xt extends er{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Li(e),this.services={},this.logger=De,this.modules={external:[]},Zs(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(i=n,n={}),n.defaultNS==null&&n.ns&&(z(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const a=Ti();this.options={...a,...this.options,...Li(n)},this.options.interpolation={...a.interpolation,...this.options.interpolation},n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const o=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?De.init(o(this.modules.logger),this.options):De.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=Js;const h=new Ri(this.options);this.store=new Ni(this.options.resources,this.options);const p=this.services;p.logger=De,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new Vs(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(p.formatter=o(d),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new Ws(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new Ys(o(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(m){for(var g=arguments.length,b=new Array(g>1?g-1:0),S=1;S<g;S++)b[S-1]=arguments[S];e.emit(m,...b)}),this.modules.languageDetector&&(p.languageDetector=o(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=o(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new _n(this.services,this.options),this.translator.on("*",function(m){for(var g=arguments.length,b=new Array(g>1?g-1:0),S=1;S<g;S++)b[S-1]=arguments[S];e.emit(m,...b)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,i||(i=rn),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const u=Ot(),c=()=>{const d=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(p),i(h,p)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),u}loadResources(e){var o,s;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rn;const a=z(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const l=[],u=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&l.indexOf(h)<0&&l.push(h)})};a?u(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>u(d)),(s=(o=this.options.preload)==null?void 0:o.forEach)==null||s.call(o,c=>u(c)),this.services.backendConnector.load(l,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(c)})}else i(null)}reloadResources(e,n,i){const a=Ot();return typeof e=="function"&&(i=e,e=void 0),typeof n=="function"&&(i=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),i||(i=rn),this.services.backendConnector.reload(e,n,o=>{a.resolve(),i(o)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&ma.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,n){var i=this;this.isLanguageChangingTo=e;const a=Ot();this.emit("languageChanging",e);const o=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},s=(u,c)=>{c?(o(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,a.resolve(function(){return i.t(...arguments)}),n&&n(u,function(){return i.t(...arguments)})},l=u=>{var d,h;!e&&!u&&this.services.languageDetector&&(u=[]);const c=z(u)?u:this.services.languageUtils.getBestMatchFromCodes(u);c&&(this.language||o(c),this.translator.language||this.translator.changeLanguage(c),(h=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||h.call(d,c)),this.loadResources(c,p=>{s(p,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),a}getFixedT(e,n,i){var a=this;const o=function(s,l){let u;if(typeof l!="object"){for(var c=arguments.length,d=new Array(c>2?c-2:0),h=2;h<c;h++)d[h-2]=arguments[h];u=a.options.overloadTranslationOptionHandler([s,l].concat(d))}else u={...l};u.lng=u.lng||o.lng,u.lngs=u.lngs||o.lngs,u.ns=u.ns||o.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||i||o.keyPrefix);const p=a.options.keySeparator||".";let m;return u.keyPrefix&&Array.isArray(s)?m=s.map(g=>"".concat(u.keyPrefix).concat(p).concat(g)):m=u.keyPrefix?"".concat(u.keyPrefix).concat(p).concat(s):s,a.t(m,u)};return z(e)?o.lng=e:o.lngs=e,o.ns=n,o.keyPrefix=i,o}t(){var a;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(a=this.translator)==null?void 0:a.translate(...n)}exists(){var a;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(a=this.translator)==null?void 0:a.exists(...n)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const s=(l,u)=>{const c=this.services.backendConnector.state["".concat(l,"|").concat(u)];return c===-1||c===0||c===2};if(n.precheck){const l=n.precheck(this,s);if(l!==void 0)return l}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(i,e)&&(!a||s(o,e)))}loadNamespaces(e,n){const i=Ot();return this.options.ns?(z(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{i.resolve(),n&&n(a)}),i):(n&&n(),Promise.resolve())}loadLanguages(e,n){const i=Ot();z(e)&&(e=[e]);const a=this.options.preload||[],o=e.filter(s=>a.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return o.length?(this.options.preload=a.concat(o),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}dir(e){var a,o;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=((o=this.services)==null?void 0:o.languageUtils)||new Ri(Ti());return n.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Xt(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rn;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},o=new Xt(a);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(l=>{o[l]=this[l]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i){const l=Object.keys(this.store.data).reduce((u,c)=>(u[c]={...this.store.data[c]},Object.keys(u[c]).reduce((d,h)=>(d[h]={...u[c][h]},d),{})),{});o.store=new Ni(l,a),o.services.resourceStore=o.store}return o.translator=new _n(o.services,a),o.translator.on("*",function(l){for(var u=arguments.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=arguments[d];o.emit(l,...c)}),o.init(a,n),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const he=Xt.createInstance();he.createInstance=Xt.createInstance;he.createInstance;he.dir;he.init;he.loadResources;he.reloadResources;he.use;he.changeLanguage;he.getFixedT;he.t;he.exists;he.setDefaultNamespace;he.hasLoadedNamespace;he.loadNamespaces;he.loadLanguages;var lt=(r=>(r.DEV="DEV",r.UAT="UAT",r.PRD="PRD",r))(lt||{});const ya="rmg-runtime__language",ba="rmg-runtime__colourMode",An="rmg-runtime__allowAnalytics",nn="rmg-unknown",Qs="railmapgen.github.io",Xs="rmg-home";let En=nn,wa=Hr(Gr(nn));const el=r=>{En=r,wa=Hr(Gr(r))},an=()=>"[".concat(En,"]"),on=()=>wa,Ge=(r,e,n)=>(...i)=>{typeof i[0]=="string"?r("%c".concat(e(),"%c ").concat(i[0]),"color: ".concat(n()),"",...i.slice(1)):r("%c".concat(e(),"%c"),"color: ".concat(n()),"",...i)},tl={debug:Ge(console.debug,an,on),info:Ge(console.info,an,on),warn:Ge(console.warn,an,on),error:Ge(console.error,an,on)},Mt=()=>En===nn?"[runtime]":"[runtime@".concat(En,"]"),nl=Hr(Gr("runtime")),Pt=()=>nl,re={setup:el,logger:tl,debug:Ge(console.debug,Mt,Pt),info:Ge(console.info,Mt,Pt),warn:Ge(console.warn,Mt,Pt),error:Ge(console.error,Mt,Pt),group:Ge(console.group,Mt,Pt),groupEnd:console.groupEnd};let Ur,tr,Vr,Wr,qr;const va=()=>{Ur=!1,tr=nn,Vr="unknown",Wr=lt.PRD,qr="unknown"},rl=async()=>{const r=window.location.pathname.split("/")[1],e=r?"/".concat(r,"/info.json"):"/info.json",n=await fetch(e);if(n.ok){const i=await n.json();re.info("Received info.json",i),tr=i.component,Vr=i.version,Wr=i.environment,qr=i.instance}else throw new Error("Failed to fetch config from ".concat(e))},il=async()=>{try{re.group("Loading config...");const r=await Promise.race([rl(),fa(10*1e3)]);r?re.error(" Failed to load config.",r):(Ur=!0,re.info(" Config loaded!"))}catch(r){re.error(" Failed to load config.",r)}finally{re.groupEnd()}},al=()=>Ur,ol=()=>xa()?Xs:tr,sl=()=>Vr,ll=()=>Wr,ul=()=>qr,xa=()=>tr===Qs;va();const pe={loadWithTimeout:il,isInitialised:al,getComponent:ol,getVersion:sl,getEnvironment:ll,getInstance:ul,isRMT:xa,_resetConfig:va};window.dataLayer=window.dataLayer||[];const cl=()=>{const r=document.createElement("script");r.async=!0,r.src="https://www.googletagmanager.com/gtag/js?id=G-2HP8Y4MRRQ",document.head.append(r)};function Cr(...r){if(pe.getEnvironment()!==lt.DEV)return window.dataLayer.push(arguments);re.info("Not going to send event in DEV environment",r)}const dl=(r,e={})=>{Cr("event",r,e)},hl=()=>{cl(),Cr("js",new Date),Cr("config","G-2HP8Y4MRRQ",{appName:pe.getComponent(),version:pe.getVersion(),environment:pe.getEnvironment(),instance:pe.getInstance()})},Tn={init:hl,customEvent:dl},pl="rmg-runtime-channel",yn={};let Wt;try{Wt=new BroadcastChannel(pl),Wt.onmessage=r=>{var a;const{event:e,data:n,frameId:i}=r.data;(a=yn[e])==null||a.forEach(o=>o(n,i))}}catch(r){re.warn("Failed to initiate broadcast channel. Some features may be unavailable.",r)}const fl=(r,e)=>{var n;re.debug("Broadcasting event ".concat(r," with data"),e),Wt==null||Wt.postMessage({event:r,data:e,frameId:(n=window.frameElement)==null?void 0:n.id})},gl=(r,e)=>{var n;r in yn?(n=yn[r])==null||n.push(e):yn[r]=[e]},fe={postEvent:fl,onMessage:gl},Na="TOGGLE_NAV_MENU",Sa="OPEN_APP",Ca="CLOSE_APP",Ra="UPDATE_APP_METADATA",bn=()=>!window.frameElement,ml=()=>{var r;return!!((r=window.frameElement)!=null&&r.closest(".show-menu"))},yl=()=>{if(!bn()){const e=document.createElement("style");e.textContent="body{padding: 0;}",document.head.appendChild(e)}const r=document.createElement("style");r.textContent=".rmg-window__header:not(.rmg-window__app-clip-header),.rm-window__header:not(.rm-window__app-clip-header){margin-left: 40px;}",!bn()&&!ml()&&document.head.appendChild(r),bn()||fe.onMessage(Na,e=>{if(e)try{document.head.removeChild(r)}catch(n){re.warn("Unable to remove indent style from RmgWindowHeader",n)}else document.head.appendChild(r)})},bl=r=>{fe.postEvent(Sa,r)},wl=r=>{fe.postEvent(Ca,r)},vl=r=>{fe.postEvent(Ra,r)},xl=r=>{fe.onMessage(Sa,r)},Nl=r=>{fe.onMessage(Ca,r)},Sl=r=>{fe.onMessage(Ra,r)},Cl=r=>{fe.postEvent(Na,r)},Pe={isStandaloneWindow:bn,injectUITools:yl,openApp:bl,onAppOpen:xl,closeApp:wl,onAppClose:Nl,updateAppMetadata:vl,onAppMetadataUpdate:Sl,toggleNavMenu:Cl},_a="SET_LANGUAGE",Aa="SET_COLOUR_MODE",Rl=r=>{fe.postEvent(_a,r),window.localStorage.setItem(ya,r)},_l=()=>window.localStorage.getItem(ya)||"en",Al=r=>{fe.onMessage(_a,r)},Ea=["light","dark","system"],El=r=>{Ea.includes(r)&&(fe.postEvent(Aa,r),window.localStorage.setItem(ba,r))},Tl=r=>!!(r&&Ea.includes(r)),Ll=()=>{const r=window.localStorage.getItem(ba);return Tl(r)?r:"system"},kl=r=>{fe.onMessage(Aa,r)},Ol=()=>window.localStorage.getItem(An)!==null,Ta=()=>window.localStorage.getItem(An)==="true",Ml=r=>{const e=Ta();return r?(e||(window.localStorage.setItem(An,r.toString()),Tn.init()),{refreshRequired:!1}):e?(window.localStorage.setItem(An,r.toString()),{refreshRequired:!0}):{refreshRequired:!1}},Re={setLanguage:Rl,getLanguage:_l,onLanguageChange:Al,setColourMode:El,getColourMode:Ll,onColourModeChange:kl,isAnalyticsQADone:Ol,isAllowAnalytics:Ta,allowAnalytics:Ml},Pl=new Date().getTime();function Dl(){const r=pe.getComponent(),e=window.localStorage.getItem(r+"__startTime");return e===null?new Date().getTime()-Pl:new Date().getTime()-Number(e)}const jl={getMsSinceStartUp:Dl},wn={},St=()=>{const r=pe.getComponent();if(r===nn)throw new Error("Unable to clear storage for unknown app");return r};window.addEventListener("storage",r=>{var i;const{key:e,newValue:n}=r;e&&((i=wn[e])==null||i.forEach(a=>a(n)))});const Bl=(r,e)=>{var i;const n="".concat(St(),"__").concat(r);n in wn?(i=wn[n])==null||i.push(e):wn[n]=[e]},Il=r=>{const e=St();return window.localStorage.getItem("".concat(e,"__").concat(r))},$l=()=>{const r=St(),e={};let n=0;for(;n<window.localStorage.length;){const i=window.localStorage.key(n);if(i!=null&&i.startsWith(r+"__")){const a=window.localStorage.getItem(i);a&&(e[i]=a)}n++}return e},zl=(r,e)=>{const n=St();window.localStorage.setItem("".concat(n,"__").concat(r),e)},Fl=r=>{const e=St();window.localStorage.removeItem("".concat(e,"__").concat(r))},Gl=()=>{const r=St();let e=0;for(;e<window.localStorage.length;){const n=window.localStorage.key(e);n!=null&&n.startsWith(r+"__")?(window.localStorage.removeItem(n),re.info("Removed item ".concat(n))):e++}},mt={on:Bl,get:Il,getAll:$l,set:zl,remove:Fl,clear:Gl};let wt;const Hl=()=>wt,Ul=r=>{Re.onLanguageChange(e=>r.changeLanguage(e))};class Vl{constructor(){kt(this,"_appName","RMG");kt(this,"_lng");kt(this,"_defaultResources",{});kt(this,"_resources",{})}use(e){return he.use(e),this}withAppName(e){return this._appName=e,this}withLng(e){return this._lng=e,this}withDefaultResource(e){return Object.entries(e).forEach(([n,i])=>{this._defaultResources[n]=i}),this}withResource(e,n){return this._resources[e]=n,this}combineResource(){const e={};return Object.entries(this._defaultResources).forEach(([n,i])=>{e[n]={translation:i}}),Object.entries(this._resources).forEach(([n,i])=>{n in e?e[n].translation={...e[n].translation,...i}:e[n]={translation:i}}),e}build(){return wt=he.createInstance({lng:this._lng,fallbackLng:{"zh-CN":["zh-Hans","zh-Hant","en"],"zh-HK":["zh-Hant","zh-Hans","en"],"zh-TW":["zh-Hant","zh-Hans","en"],default:["en"]},resources:this.combineResource()},(e,n)=>{var i;if(e){re.error("unexpected error occurs while initialising i18n",e);return}document.title=n(this._appName),document.documentElement.lang=(i=this._lng)!=null?i:"en"}),wt.on("languageChanged",e=>{document.title=wt.t(this._appName),document.documentElement.lang=e}),Ul(wt),wt}}let et={};const Wl=()=>et,La="LOAD_REMOTE_FONT",ql=(r,e)=>{fe.postEvent(La,{family:r,definition:e})},Jl=r=>{fe.onMessage(La,r)},Jr=r=>r.source.startsWith("local"),Kl=r=>{var n;const e=(n=r.source.match(/url\(['"](\S+)['"]\)/))==null?void 0:n[1];if(!e)throw new Error("Invalid URL in source "+r.source);return new URL(e,window.location.href)},ki=(r,e)=>{var n;return"@font-face {\n    font-family: '".concat(r,"';\n    src: ").concat(e.source,";\n    ").concat(Object.entries((n=e.descriptors)!=null?n:{}).map(([i,a])=>"".concat(i,": ").concat(a,";")).join("\n"),"\n}")},Yl=()=>Ms(()=>fetch("/fonts/config.json").then(r=>r.json()));let ka=Yl();const Zl=async(r,e,n)=>{try{const i=new FontFace(r,e.source,e.descriptors);return Jr(e)?await i.load():i.loaded.then(n),document.fonts.add(i),et[r]={configs:[{...e,font:i}]},!0}catch(i){return re.warn("Failed to load font ".concat(r," with source ").concat(e.source),i),!1}},Ql=async(r,e,n)=>{if(e.some(Jr))return re.error("Unable to load multiple FontFace for the same family ".concat(r)),!1;const i=[];return e.forEach(a=>{const o=new FontFace(r,a.source,a.descriptors);o.loaded.then(n),document.fonts.add(o),i.push({...a,font:o})}),et[r]={configs:i},!0},Xl=async(r,e)=>{if(r in et)return et[r];let n;if(e)n=e;else try{n=(await ka())[r]}catch(o){const s=o instanceof Error?" due to "+o.message:"";throw new Error("Unable to load font definition of "+r+s)}const i=()=>{ql(r,n)};for(const o of n.configs)if(Array.isArray(o)?await Ql(r,o,i):await Zl(r,o,i))break;const a=et[r];if(a)return a.displayName=n.displayName,a.url=n.url,et[r]},eu=async r=>{const e=et[r];if(!e)throw new Error("Font family ".concat(r," is not loaded"));return(await Promise.all(e.configs.filter(i=>{const a=i.font.status==="loaded";return a||re.warn("Font family ".concat(r," is not loaded completely. Some FontFaceRules may be missing")),a}).map(async i=>{if(Jr(i))return ki(r,i);const a=Kl(i),o=await fetch(a),s=await Os(await o.blob());return ki(r,{...i,source:"url('".concat(s,"')")})}))).join("\n\n")},Dt={getAllFonts:ka,getLoadedFonts:Wl,loadFont:Xl,getFontCSS:eu,onRemoteFontLoaded:Jl},tu=()=>{if(pe.getEnvironment()!=="PRD"||!pe.isRMT())if(document.querySelector('meta[name="robots"]'))re.info("Noindex meta tag already presents.");else{re.info("Injecting noindex meta tag as this app is not PRD RMT.");const r=document.createElement("meta");r.name="robots",r.content="noindex",document.head.appendChild(r)}},nu={injectNoindexRule:tu};let Oa=!1;const ru=async()=>{await pe.loadWithTimeout(),re.setup(pe.getComponent()),nu.injectNoindexRule(),Re.isAnalyticsQADone()?Re.isAllowAnalytics()&&(re.info("User has previously allowed GA"),Tn.init()):Pe.isStandaloneWindow()&&!pe.isRMT()&&(re.warn("App is opened in standalone window but analytics Q&A is not finished. GA will be init by default."),Tn.init()),Oa=!0},iu=async()=>{let r=0;for(;r<=10&&!Oa;)await fa(1e3),r+=1},we={ready:iu,getAppName:pe.getComponent,getAppVersion:pe.getVersion,getEnv:pe.getEnvironment,getInstance:pe.getInstance,event:Tn.customEvent,isStandaloneWindow:Pe.isStandaloneWindow,injectUITools:Pe.injectUITools,openApp:Pe.openApp,onAppOpen:Pe.onAppOpen,closeApp:Pe.closeApp,onAppClose:Pe.onAppClose,updateAppMetadata:Pe.updateAppMetadata,onAppMetadataUpdate:Pe.onAppMetadataUpdate,toggleNavMenu:Pe.toggleNavMenu,postEvent:fe.postEvent,onMessage:fe.onMessage,setLanguage:Re.setLanguage,getLanguage:Re.getLanguage,onLanguageChange:Re.onLanguageChange,setColourMode:Re.setColourMode,getColourMode:Re.getColourMode,onColourModeChange:Re.onColourModeChange,isAnalyticsQADone:Re.isAnalyticsQADone,isAllowAnalytics:Re.isAllowAnalytics,allowAnalytics:Re.allowAnalytics,storage:{on:mt.on,get:mt.get,getAll:mt.getAll,set:mt.set,remove:mt.remove,clear:mt.clear},getMsSinceStartUp:jl.getMsSinceStartUp,I18nBuilder:Vl,getI18nInstance:Hl,getAllFonts:Dt.getAllFonts,getLoadedFonts:Dt.getLoadedFonts,loadFont:Dt.loadFont,getFontCSS:Dt.getFontCSS,onRemoteFontLoaded:Dt.onRemoteFontLoaded};ru().then();window.rmgRuntime=we;const ct=re.logger;var sn={exports:{}},Oi;function au(){if(Oi)return sn.exports;Oi=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(y,N,v){return Function.prototype.apply.call(y,N,v)},n;r&&typeof r.ownKeys=="function"?n=r.ownKeys:Object.getOwnPropertySymbols?n=function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:n=function(y){return Object.getOwnPropertyNames(y)};function i(w){console&&console.warn&&console.warn(w)}var a=Number.isNaN||function(y){return y!==y};function o(){o.init.call(this)}sn.exports=o,sn.exports.once=T,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function l(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(w){if(typeof w!="number"||w<0||a(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");s=w}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(y){if(typeof y!="number"||y<0||a(y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+y+".");return this._maxListeners=y,this};function u(w){return w._maxListeners===void 0?o.defaultMaxListeners:w._maxListeners}o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(y){for(var N=[],v=1;v<arguments.length;v++)N.push(arguments[v]);var C=y==="error",R=this._events;if(R!==void 0)C=C&&R.error===void 0;else if(!C)return!1;if(C){var _;if(N.length>0&&(_=N[0]),_ instanceof Error)throw _;var O=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw O.context=_,O}var $=R[y];if($===void 0)return!1;if(typeof $=="function")e($,this,N);else for(var W=$.length,U=g($,W),v=0;v<W;++v)e(U[v],this,N);return!0};function c(w,y,N,v){var C,R,_;if(l(N),R=w._events,R===void 0?(R=w._events=Object.create(null),w._eventsCount=0):(R.newListener!==void 0&&(w.emit("newListener",y,N.listener?N.listener:N),R=w._events),_=R[y]),_===void 0)_=R[y]=N,++w._eventsCount;else if(typeof _=="function"?_=R[y]=v?[N,_]:[_,N]:v?_.unshift(N):_.push(N),C=u(w),C>0&&_.length>C&&!_.warned){_.warned=!0;var O=new Error("Possible EventEmitter memory leak detected. "+_.length+" "+String(y)+" listeners added. Use emitter.setMaxListeners() to increase limit");O.name="MaxListenersExceededWarning",O.emitter=w,O.type=y,O.count=_.length,i(O)}return w}o.prototype.addListener=function(y,N){return c(this,y,N,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(y,N){return c(this,y,N,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(w,y,N){var v={fired:!1,wrapFn:void 0,target:w,type:y,listener:N},C=d.bind(v);return C.listener=N,v.wrapFn=C,C}o.prototype.once=function(y,N){return l(N),this.on(y,h(this,y,N)),this},o.prototype.prependOnceListener=function(y,N){return l(N),this.prependListener(y,h(this,y,N)),this},o.prototype.removeListener=function(y,N){var v,C,R,_,O;if(l(N),C=this._events,C===void 0)return this;if(v=C[y],v===void 0)return this;if(v===N||v.listener===N)--this._eventsCount===0?this._events=Object.create(null):(delete C[y],C.removeListener&&this.emit("removeListener",y,v.listener||N));else if(typeof v!="function"){for(R=-1,_=v.length-1;_>=0;_--)if(v[_]===N||v[_].listener===N){O=v[_].listener,R=_;break}if(R<0)return this;R===0?v.shift():b(v,R),v.length===1&&(C[y]=v[0]),C.removeListener!==void 0&&this.emit("removeListener",y,O||N)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(y){var N,v,C;if(v=this._events,v===void 0)return this;if(v.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):v[y]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete v[y]),this;if(arguments.length===0){var R=Object.keys(v),_;for(C=0;C<R.length;++C)_=R[C],_!=="removeListener"&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(N=v[y],typeof N=="function")this.removeListener(y,N);else if(N!==void 0)for(C=N.length-1;C>=0;C--)this.removeListener(y,N[C]);return this};function p(w,y,N){var v=w._events;if(v===void 0)return[];var C=v[y];return C===void 0?[]:typeof C=="function"?N?[C.listener||C]:[C]:N?S(C):g(C,C.length)}o.prototype.listeners=function(y){return p(this,y,!0)},o.prototype.rawListeners=function(y){return p(this,y,!1)},o.listenerCount=function(w,y){return typeof w.listenerCount=="function"?w.listenerCount(y):m.call(w,y)},o.prototype.listenerCount=m;function m(w){var y=this._events;if(y!==void 0){var N=y[w];if(typeof N=="function")return 1;if(N!==void 0)return N.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function g(w,y){for(var N=new Array(y),v=0;v<y;++v)N[v]=w[v];return N}function b(w,y){for(;y+1<w.length;y++)w[y]=w[y+1];w.pop()}function S(w){for(var y=new Array(w.length),N=0;N<y.length;++N)y[N]=w[N].listener||w[N];return y}function T(w,y){return new Promise(function(N,v){function C(_){w.removeListener(y,R),v(_)}function R(){typeof w.removeListener=="function"&&w.removeListener("error",C),N([].slice.call(arguments))}P(w,y,R,{once:!0}),y!=="error"&&k(w,C,{once:!0})})}function k(w,y,N){typeof w.on=="function"&&P(w,"error",y,N)}function P(w,y,N,v){if(typeof w.on=="function")v.once?w.once(y,N):w.on(y,N);else if(typeof w.addEventListener=="function")w.addEventListener(y,function C(R){v.once&&w.removeEventListener(y,C),N(R)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}return sn.exports}var ou=au();function su(){const r=arguments[0];for(let e=1,n=arguments.length;e<n;e++)if(arguments[e])for(const i in arguments[e])r[i]=arguments[e][i];return r}let le=su;typeof Object.assign=="function"&&(le=Object.assign);function _e(r,e,n,i){const a=r._nodes.get(e);let o=null;return a&&(i==="mixed"?o=a.out&&a.out[n]||a.undirected&&a.undirected[n]:i==="directed"?o=a.out&&a.out[n]:o=a.undirected&&a.undirected[n]),o}function de(r){return typeof r=="object"&&r!==null}function Ma(r){let e;for(e in r)return!1;return!0}function Se(r,e,n){Object.defineProperty(r,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function Te(r,e,n){const i={enumerable:!0,configurable:!0};typeof n=="function"?i.get=n:(i.value=n,i.writable=!1),Object.defineProperty(r,e,i)}function Mi(r){return!(!de(r)||r.attributes&&!Array.isArray(r.attributes))}function lu(){let r=Math.floor(Math.random()*256)&255;return()=>r++}function We(){const r=arguments;let e=null,n=-1;return{[Symbol.iterator](){return this},next(){let i=null;do{if(e===null){if(n++,n>=r.length)return{done:!0};e=r[n][Symbol.iterator]()}if(i=e.next(),i.done){e=null;continue}break}while(!0);return i}}}function Ct(){return{[Symbol.iterator](){return this},next(){return{done:!0}}}}class Kr extends Error{constructor(e){super(),this.name="GraphError",this.message=e}}class L extends Kr{constructor(e){super(e),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,L.prototype.constructor)}}class E extends Kr{constructor(e){super(e),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,E.prototype.constructor)}}class I extends Kr{constructor(e){super(e),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,I.prototype.constructor)}}function Pa(r,e){this.key=r,this.attributes=e,this.clear()}Pa.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function Da(r,e){this.key=r,this.attributes=e,this.clear()}Da.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function ja(r,e){this.key=r,this.attributes=e,this.clear()}ja.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function Rt(r,e,n,i,a){this.key=e,this.attributes=a,this.undirected=r,this.source=n,this.target=i}Rt.prototype.attach=function(){let r="out",e="in";this.undirected&&(r=e="undirected");const n=this.source.key,i=this.target.key;this.source[r][i]=this,!(this.undirected&&n===i)&&(this.target[e][n]=this)};Rt.prototype.attachMulti=function(){let r="out",e="in";const n=this.source.key,i=this.target.key;this.undirected&&(r=e="undirected");const a=this.source[r],o=a[i];if(typeof o>"u"){a[i]=this,this.undirected&&n===i||(this.target[e][n]=this);return}o.previous=this,this.next=o,a[i]=this,this.target[e][n]=this};Rt.prototype.detach=function(){const r=this.source.key,e=this.target.key;let n="out",i="in";this.undirected&&(n=i="undirected"),delete this.source[n][e],delete this.target[i][r]};Rt.prototype.detachMulti=function(){const r=this.source.key,e=this.target.key;let n="out",i="in";this.undirected&&(n=i="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[n][e],delete this.target[i][r]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[i][r]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};const Ba=0,Ia=1,uu=2,$a=3;function qe(r,e,n,i,a,o,s){let l,u,c,d;if(i=""+i,n===Ba){if(l=r._nodes.get(i),!l)throw new E("Graph.".concat(e,': could not find the "').concat(i,'" node in the graph.'));c=a,d=o}else if(n===$a){if(a=""+a,u=r._edges.get(a),!u)throw new E("Graph.".concat(e,': could not find the "').concat(a,'" edge in the graph.'));const h=u.source.key,p=u.target.key;if(i===h)l=u.target;else if(i===p)l=u.source;else throw new E("Graph.".concat(e,': the "').concat(i,'" node is not attached to the "').concat(a,'" edge (').concat(h,", ").concat(p,")."));c=o,d=s}else{if(u=r._edges.get(i),!u)throw new E("Graph.".concat(e,': could not find the "').concat(i,'" edge in the graph.'));n===Ia?l=u.source:l=u.target,c=a,d=o}return[l,c,d]}function cu(r,e,n){r.prototype[e]=function(i,a,o){const[s,l]=qe(this,e,n,i,a,o);return s.attributes[l]}}function du(r,e,n){r.prototype[e]=function(i,a){const[o]=qe(this,e,n,i,a);return o.attributes}}function hu(r,e,n){r.prototype[e]=function(i,a,o){const[s,l]=qe(this,e,n,i,a,o);return s.attributes.hasOwnProperty(l)}}function pu(r,e,n){r.prototype[e]=function(i,a,o,s){const[l,u,c]=qe(this,e,n,i,a,o,s);return l.attributes[u]=c,this.emit("nodeAttributesUpdated",{key:l.key,type:"set",attributes:l.attributes,name:u}),this}}function fu(r,e,n){r.prototype[e]=function(i,a,o,s){const[l,u,c]=qe(this,e,n,i,a,o,s);if(typeof c!="function")throw new L("Graph.".concat(e,": updater should be a function."));const d=l.attributes,h=c(d[u]);return d[u]=h,this.emit("nodeAttributesUpdated",{key:l.key,type:"set",attributes:l.attributes,name:u}),this}}function gu(r,e,n){r.prototype[e]=function(i,a,o){const[s,l]=qe(this,e,n,i,a,o);return delete s.attributes[l],this.emit("nodeAttributesUpdated",{key:s.key,type:"remove",attributes:s.attributes,name:l}),this}}function mu(r,e,n){r.prototype[e]=function(i,a,o){const[s,l]=qe(this,e,n,i,a,o);if(!de(l))throw new L("Graph.".concat(e,": provided attributes are not a plain object."));return s.attributes=l,this.emit("nodeAttributesUpdated",{key:s.key,type:"replace",attributes:s.attributes}),this}}function yu(r,e,n){r.prototype[e]=function(i,a,o){const[s,l]=qe(this,e,n,i,a,o);if(!de(l))throw new L("Graph.".concat(e,": provided attributes are not a plain object."));return le(s.attributes,l),this.emit("nodeAttributesUpdated",{key:s.key,type:"merge",attributes:s.attributes,data:l}),this}}function bu(r,e,n){r.prototype[e]=function(i,a,o){const[s,l]=qe(this,e,n,i,a,o);if(typeof l!="function")throw new L("Graph.".concat(e,": provided updater is not a function."));return s.attributes=l(s.attributes),this.emit("nodeAttributesUpdated",{key:s.key,type:"update",attributes:s.attributes}),this}}const wu=[{name:r=>"get".concat(r,"Attribute"),attacher:cu},{name:r=>"get".concat(r,"Attributes"),attacher:du},{name:r=>"has".concat(r,"Attribute"),attacher:hu},{name:r=>"set".concat(r,"Attribute"),attacher:pu},{name:r=>"update".concat(r,"Attribute"),attacher:fu},{name:r=>"remove".concat(r,"Attribute"),attacher:gu},{name:r=>"replace".concat(r,"Attributes"),attacher:mu},{name:r=>"merge".concat(r,"Attributes"),attacher:yu},{name:r=>"update".concat(r,"Attributes"),attacher:bu}];function vu(r){wu.forEach(function({name:e,attacher:n}){n(r,e("Node"),Ba),n(r,e("Source"),Ia),n(r,e("Target"),uu),n(r,e("Opposite"),$a)})}function xu(r,e,n){r.prototype[e]=function(i,a){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));const s=""+i,l=""+a;if(a=arguments[2],o=_e(this,s,l,n),!o)throw new E("Graph.".concat(e,': could not find an edge for the given path ("').concat(s,'" - "').concat(l,'").'))}else{if(n!=="mixed")throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(i=""+i,o=this._edges.get(i),!o)throw new E("Graph.".concat(e,': could not find the "').concat(i,'" edge in the graph.'))}return o.attributes[a]}}function Nu(r,e,n){r.prototype[e]=function(i){let a;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));const o=""+i,s=""+arguments[1];if(a=_e(this,o,s,n),!a)throw new E("Graph.".concat(e,': could not find an edge for the given path ("').concat(o,'" - "').concat(s,'").'))}else{if(n!=="mixed")throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(i=""+i,a=this._edges.get(i),!a)throw new E("Graph.".concat(e,': could not find the "').concat(i,'" edge in the graph.'))}return a.attributes}}function Su(r,e,n){r.prototype[e]=function(i,a){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));const s=""+i,l=""+a;if(a=arguments[2],o=_e(this,s,l,n),!o)throw new E("Graph.".concat(e,': could not find an edge for the given path ("').concat(s,'" - "').concat(l,'").'))}else{if(n!=="mixed")throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(i=""+i,o=this._edges.get(i),!o)throw new E("Graph.".concat(e,': could not find the "').concat(i,'" edge in the graph.'))}return o.attributes.hasOwnProperty(a)}}function Cu(r,e,n){r.prototype[e]=function(i,a,o){let s;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));const l=""+i,u=""+a;if(a=arguments[2],o=arguments[3],s=_e(this,l,u,n),!s)throw new E("Graph.".concat(e,': could not find an edge for the given path ("').concat(l,'" - "').concat(u,'").'))}else{if(n!=="mixed")throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(i=""+i,s=this._edges.get(i),!s)throw new E("Graph.".concat(e,': could not find the "').concat(i,'" edge in the graph.'))}return s.attributes[a]=o,this.emit("edgeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:a}),this}}function Ru(r,e,n){r.prototype[e]=function(i,a,o){let s;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));const l=""+i,u=""+a;if(a=arguments[2],o=arguments[3],s=_e(this,l,u,n),!s)throw new E("Graph.".concat(e,': could not find an edge for the given path ("').concat(l,'" - "').concat(u,'").'))}else{if(n!=="mixed")throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(i=""+i,s=this._edges.get(i),!s)throw new E("Graph.".concat(e,': could not find the "').concat(i,'" edge in the graph.'))}if(typeof o!="function")throw new L("Graph.".concat(e,": updater should be a function."));return s.attributes[a]=o(s.attributes[a]),this.emit("edgeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:a}),this}}function _u(r,e,n){r.prototype[e]=function(i,a){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));const s=""+i,l=""+a;if(a=arguments[2],o=_e(this,s,l,n),!o)throw new E("Graph.".concat(e,': could not find an edge for the given path ("').concat(s,'" - "').concat(l,'").'))}else{if(n!=="mixed")throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(i=""+i,o=this._edges.get(i),!o)throw new E("Graph.".concat(e,': could not find the "').concat(i,'" edge in the graph.'))}return delete o.attributes[a],this.emit("edgeAttributesUpdated",{key:o.key,type:"remove",attributes:o.attributes,name:a}),this}}function Au(r,e,n){r.prototype[e]=function(i,a){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));const s=""+i,l=""+a;if(a=arguments[2],o=_e(this,s,l,n),!o)throw new E("Graph.".concat(e,': could not find an edge for the given path ("').concat(s,'" - "').concat(l,'").'))}else{if(n!=="mixed")throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(i=""+i,o=this._edges.get(i),!o)throw new E("Graph.".concat(e,': could not find the "').concat(i,'" edge in the graph.'))}if(!de(a))throw new L("Graph.".concat(e,": provided attributes are not a plain object."));return o.attributes=a,this.emit("edgeAttributesUpdated",{key:o.key,type:"replace",attributes:o.attributes}),this}}function Eu(r,e,n){r.prototype[e]=function(i,a){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));const s=""+i,l=""+a;if(a=arguments[2],o=_e(this,s,l,n),!o)throw new E("Graph.".concat(e,': could not find an edge for the given path ("').concat(s,'" - "').concat(l,'").'))}else{if(n!=="mixed")throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(i=""+i,o=this._edges.get(i),!o)throw new E("Graph.".concat(e,': could not find the "').concat(i,'" edge in the graph.'))}if(!de(a))throw new L("Graph.".concat(e,": provided attributes are not a plain object."));return le(o.attributes,a),this.emit("edgeAttributesUpdated",{key:o.key,type:"merge",attributes:o.attributes,data:a}),this}}function Tu(r,e,n){r.prototype[e]=function(i,a){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));const s=""+i,l=""+a;if(a=arguments[2],o=_e(this,s,l,n),!o)throw new E("Graph.".concat(e,': could not find an edge for the given path ("').concat(s,'" - "').concat(l,'").'))}else{if(n!=="mixed")throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(i=""+i,o=this._edges.get(i),!o)throw new E("Graph.".concat(e,': could not find the "').concat(i,'" edge in the graph.'))}if(typeof a!="function")throw new L("Graph.".concat(e,": provided updater is not a function."));return o.attributes=a(o.attributes),this.emit("edgeAttributesUpdated",{key:o.key,type:"update",attributes:o.attributes}),this}}const Lu=[{name:r=>"get".concat(r,"Attribute"),attacher:xu},{name:r=>"get".concat(r,"Attributes"),attacher:Nu},{name:r=>"has".concat(r,"Attribute"),attacher:Su},{name:r=>"set".concat(r,"Attribute"),attacher:Cu},{name:r=>"update".concat(r,"Attribute"),attacher:Ru},{name:r=>"remove".concat(r,"Attribute"),attacher:_u},{name:r=>"replace".concat(r,"Attributes"),attacher:Au},{name:r=>"merge".concat(r,"Attributes"),attacher:Eu},{name:r=>"update".concat(r,"Attributes"),attacher:Tu}];function ku(r){Lu.forEach(function({name:e,attacher:n}){n(r,e("Edge"),"mixed"),n(r,e("DirectedEdge"),"directed"),n(r,e("UndirectedEdge"),"undirected")})}const Ou=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function Mu(r,e,n,i){let a=!1;for(const o in e){if(o===i)continue;const s=e[o];if(a=n(s.key,s.attributes,s.source.key,s.target.key,s.source.attributes,s.target.attributes,s.undirected),r&&a)return s.key}}function Pu(r,e,n,i){let a,o,s,l=!1;for(const u in e)if(u!==i){a=e[u];do{if(o=a.source,s=a.target,l=n(a.key,a.attributes,o.key,s.key,o.attributes,s.attributes,a.undirected),r&&l)return a.key;a=a.next}while(a!==void 0)}}function gr(r,e){const n=Object.keys(r),i=n.length;let a,o=0;return{[Symbol.iterator](){return this},next(){do if(a)a=a.next;else{if(o>=i)return{done:!0};const s=n[o++];if(s===e){a=void 0;continue}a=r[s]}while(!a);return{done:!1,value:{edge:a.key,attributes:a.attributes,source:a.source.key,target:a.target.key,sourceAttributes:a.source.attributes,targetAttributes:a.target.attributes,undirected:a.undirected}}}}}function Du(r,e,n,i){const a=e[n];if(!a)return;const o=a.source,s=a.target;if(i(a.key,a.attributes,o.key,s.key,o.attributes,s.attributes,a.undirected)&&r)return a.key}function ju(r,e,n,i){let a=e[n];if(!a)return;let o=!1;do{if(o=i(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected),r&&o)return a.key;a=a.next}while(a!==void 0)}function mr(r,e){let n=r[e];if(n.next!==void 0)return{[Symbol.iterator](){return this},next(){if(!n)return{done:!0};const a={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:a}}};let i=!1;return{[Symbol.iterator](){return this},next(){return i===!0?{done:!0}:(i=!0,{done:!1,value:{edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected}})}}}function Bu(r,e){if(r.size===0)return[];if(e==="mixed"||e===r.type)return Array.from(r._edges.keys());const n=e==="undirected"?r.undirectedSize:r.directedSize,i=new Array(n),a=e==="undirected",o=r._edges.values();let s=0,l,u;for(;l=o.next(),l.done!==!0;)u=l.value,u.undirected===a&&(i[s++]=u.key);return i}function za(r,e,n,i){if(e.size===0)return;const a=n!=="mixed"&&n!==e.type,o=n==="undirected";let s,l,u=!1;const c=e._edges.values();for(;s=c.next(),s.done!==!0;){if(l=s.value,a&&l.undirected!==o)continue;const{key:d,attributes:h,source:p,target:m}=l;if(u=i(d,h,p.key,m.key,p.attributes,m.attributes,l.undirected),r&&u)return d}}function Iu(r,e){if(r.size===0)return Ct();const n=e!=="mixed"&&e!==r.type,i=e==="undirected",a=r._edges.values();return{[Symbol.iterator](){return this},next(){let o,s;for(;;){if(o=a.next(),o.done)return o;if(s=o.value,!(n&&s.undirected!==i))break}return{value:{edge:s.key,attributes:s.attributes,source:s.source.key,target:s.target.key,sourceAttributes:s.source.attributes,targetAttributes:s.target.attributes,undirected:s.undirected},done:!1}}}}function Yr(r,e,n,i,a,o){const s=e?Pu:Mu;let l;if(n!=="undirected"&&(i!=="out"&&(l=s(r,a.in,o),r&&l)||i!=="in"&&(l=s(r,a.out,o,i?void 0:a.key),r&&l))||n!=="directed"&&(l=s(r,a.undirected,o),r&&l))return l}function $u(r,e,n,i){const a=[];return Yr(!1,r,e,n,i,function(o){a.push(o)}),a}function zu(r,e,n){let i=Ct();return r!=="undirected"&&(e!=="out"&&typeof n.in<"u"&&(i=We(i,gr(n.in))),e!=="in"&&typeof n.out<"u"&&(i=We(i,gr(n.out,e?void 0:n.key)))),r!=="directed"&&typeof n.undirected<"u"&&(i=We(i,gr(n.undirected))),i}function Zr(r,e,n,i,a,o,s){const l=n?ju:Du;let u;if(e!=="undirected"&&(typeof a.in<"u"&&i!=="out"&&(u=l(r,a.in,o,s),r&&u)||typeof a.out<"u"&&i!=="in"&&(i||a.key!==o)&&(u=l(r,a.out,o,s),r&&u))||e!=="directed"&&typeof a.undirected<"u"&&(u=l(r,a.undirected,o,s),r&&u))return u}function Fu(r,e,n,i,a){const o=[];return Zr(!1,r,e,n,i,a,function(s){o.push(s)}),o}function Gu(r,e,n,i){let a=Ct();return r!=="undirected"&&(typeof n.in<"u"&&e!=="out"&&i in n.in&&(a=We(a,mr(n.in,i))),typeof n.out<"u"&&e!=="in"&&i in n.out&&(e||n.key!==i)&&(a=We(a,mr(n.out,i)))),r!=="directed"&&typeof n.undirected<"u"&&i in n.undirected&&(a=We(a,mr(n.undirected,i))),a}function Hu(r,e){const{name:n,type:i,direction:a}=e;r.prototype[n]=function(o,s){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return[];if(!arguments.length)return Bu(this,i);if(arguments.length===1){o=""+o;const l=this._nodes.get(o);if(typeof l>"u")throw new E("Graph.".concat(n,': could not find the "').concat(o,'" node in the graph.'));return $u(this.multi,i==="mixed"?this.type:i,a,l)}if(arguments.length===2){o=""+o,s=""+s;const l=this._nodes.get(o);if(!l)throw new E("Graph.".concat(n,':  could not find the "').concat(o,'" source node in the graph.'));if(!this._nodes.has(s))throw new E("Graph.".concat(n,':  could not find the "').concat(s,'" target node in the graph.'));return Fu(i,this.multi,a,l,s)}throw new L("Graph.".concat(n,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}function Uu(r,e){const{name:n,type:i,direction:a}=e,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);r.prototype[o]=function(c,d,h){if(!(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)){if(arguments.length===1)return h=c,za(!1,this,i,h);if(arguments.length===2){c=""+c,h=d;const p=this._nodes.get(c);if(typeof p>"u")throw new E("Graph.".concat(o,': could not find the "').concat(c,'" node in the graph.'));return Yr(!1,this.multi,i==="mixed"?this.type:i,a,p,h)}if(arguments.length===3){c=""+c,d=""+d;const p=this._nodes.get(c);if(!p)throw new E("Graph.".concat(o,':  could not find the "').concat(c,'" source node in the graph.'));if(!this._nodes.has(d))throw new E("Graph.".concat(o,':  could not find the "').concat(d,'" target node in the graph.'));return Zr(!1,i,this.multi,a,p,d,h)}throw new L("Graph.".concat(o,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};const s="map"+n[0].toUpperCase()+n.slice(1);r.prototype[s]=function(){const c=Array.prototype.slice.call(arguments),d=c.pop();let h;if(c.length===0){let p=0;i!=="directed"&&(p+=this.undirectedSize),i!=="undirected"&&(p+=this.directedSize),h=new Array(p);let m=0;c.push((g,b,S,T,k,P,w)=>{h[m++]=d(g,b,S,T,k,P,w)})}else h=[],c.push((p,m,g,b,S,T,k)=>{h.push(d(p,m,g,b,S,T,k))});return this[o].apply(this,c),h};const l="filter"+n[0].toUpperCase()+n.slice(1);r.prototype[l]=function(){const c=Array.prototype.slice.call(arguments),d=c.pop(),h=[];return c.push((p,m,g,b,S,T,k)=>{d(p,m,g,b,S,T,k)&&h.push(p)}),this[o].apply(this,c),h};const u="reduce"+n[0].toUpperCase()+n.slice(1);r.prototype[u]=function(){let c=Array.prototype.slice.call(arguments);if(c.length<2||c.length>4)throw new L("Graph.".concat(u,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(c.length,")."));if(typeof c[c.length-1]=="function"&&typeof c[c.length-2]!="function")throw new L("Graph.".concat(u,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));let d,h;c.length===2?(d=c[0],h=c[1],c=[]):c.length===3?(d=c[1],h=c[2],c=[c[0]]):c.length===4&&(d=c[2],h=c[3],c=[c[0],c[1]]);let p=h;return c.push((m,g,b,S,T,k,P)=>{p=d(p,m,g,b,S,T,k,P)}),this[o].apply(this,c),p}}function Vu(r,e){const{name:n,type:i,direction:a}=e,o="find"+n[0].toUpperCase()+n.slice(1,-1);r.prototype[o]=function(u,c,d){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return!1;if(arguments.length===1)return d=u,za(!0,this,i,d);if(arguments.length===2){u=""+u,d=c;const h=this._nodes.get(u);if(typeof h>"u")throw new E("Graph.".concat(o,': could not find the "').concat(u,'" node in the graph.'));return Yr(!0,this.multi,i==="mixed"?this.type:i,a,h,d)}if(arguments.length===3){u=""+u,c=""+c;const h=this._nodes.get(u);if(!h)throw new E("Graph.".concat(o,':  could not find the "').concat(u,'" source node in the graph.'));if(!this._nodes.has(c))throw new E("Graph.".concat(o,':  could not find the "').concat(c,'" target node in the graph.'));return Zr(!0,i,this.multi,a,h,c,d)}throw new L("Graph.".concat(o,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};const s="some"+n[0].toUpperCase()+n.slice(1,-1);r.prototype[s]=function(){const u=Array.prototype.slice.call(arguments),c=u.pop();return u.push((h,p,m,g,b,S,T)=>c(h,p,m,g,b,S,T)),!!this[o].apply(this,u)};const l="every"+n[0].toUpperCase()+n.slice(1,-1);r.prototype[l]=function(){const u=Array.prototype.slice.call(arguments),c=u.pop();return u.push((h,p,m,g,b,S,T)=>!c(h,p,m,g,b,S,T)),!this[o].apply(this,u)}}function Wu(r,e){const{name:n,type:i,direction:a}=e,o=n.slice(0,-1)+"Entries";r.prototype[o]=function(s,l){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return Ct();if(!arguments.length)return Iu(this,i);if(arguments.length===1){s=""+s;const u=this._nodes.get(s);if(!u)throw new E("Graph.".concat(o,': could not find the "').concat(s,'" node in the graph.'));return zu(i,a,u)}if(arguments.length===2){s=""+s,l=""+l;const u=this._nodes.get(s);if(!u)throw new E("Graph.".concat(o,':  could not find the "').concat(s,'" source node in the graph.'));if(!this._nodes.has(l))throw new E("Graph.".concat(o,':  could not find the "').concat(l,'" target node in the graph.'));return Gu(i,a,u,l)}throw new L("Graph.".concat(o,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}function qu(r){Ou.forEach(e=>{Hu(r,e),Uu(r,e),Vu(r,e),Wu(r,e)})}const Ju=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function nr(){this.A=null,this.B=null}nr.prototype.wrap=function(r){this.A===null?this.A=r:this.B===null&&(this.B=r)};nr.prototype.has=function(r){return this.A!==null&&r in this.A||this.B!==null&&r in this.B};function jt(r,e,n,i,a){for(const o in i){const s=i[o],l=s.source,u=s.target,c=l===n?u:l;if(e&&e.has(c.key))continue;const d=a(c.key,c.attributes);if(r&&d)return c.key}}function Qr(r,e,n,i,a){if(e!=="mixed"){if(e==="undirected")return jt(r,null,i,i.undirected,a);if(typeof n=="string")return jt(r,null,i,i[n],a)}const o=new nr;let s;if(e!=="undirected"){if(n!=="out"){if(s=jt(r,null,i,i.in,a),r&&s)return s;o.wrap(i.in)}if(n!=="in"){if(s=jt(r,o,i,i.out,a),r&&s)return s;o.wrap(i.out)}}if(e!=="directed"&&(s=jt(r,o,i,i.undirected,a),r&&s))return s}function Ku(r,e,n){if(r!=="mixed"){if(r==="undirected")return Object.keys(n.undirected);if(typeof e=="string")return Object.keys(n[e])}const i=[];return Qr(!1,r,e,n,function(a){i.push(a)}),i}function Bt(r,e,n){const i=Object.keys(n),a=i.length;let o=0;return{[Symbol.iterator](){return this},next(){let s=null;do{if(o>=a)return r&&r.wrap(n),{done:!0};const l=n[i[o++]],u=l.source,c=l.target;if(s=u===e?c:u,r&&r.has(s.key)){s=null;continue}}while(s===null);return{done:!1,value:{neighbor:s.key,attributes:s.attributes}}}}}function Yu(r,e,n){if(r!=="mixed"){if(r==="undirected")return Bt(null,n,n.undirected);if(typeof e=="string")return Bt(null,n,n[e])}let i=Ct();const a=new nr;return r!=="undirected"&&(e!=="out"&&(i=We(i,Bt(a,n,n.in))),e!=="in"&&(i=We(i,Bt(a,n,n.out)))),r!=="directed"&&(i=We(i,Bt(a,n,n.undirected))),i}function Zu(r,e){const{name:n,type:i,direction:a}=e;r.prototype[n]=function(o){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return[];o=""+o;const s=this._nodes.get(o);if(typeof s>"u")throw new E("Graph.".concat(n,': could not find the "').concat(o,'" node in the graph.'));return Ku(i==="mixed"?this.type:i,a,s)}}function Qu(r,e){const{name:n,type:i,direction:a}=e,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);r.prototype[o]=function(c,d){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return;c=""+c;const h=this._nodes.get(c);if(typeof h>"u")throw new E("Graph.".concat(o,': could not find the "').concat(c,'" node in the graph.'));Qr(!1,i==="mixed"?this.type:i,a,h,d)};const s="map"+n[0].toUpperCase()+n.slice(1);r.prototype[s]=function(c,d){const h=[];return this[o](c,(p,m)=>{h.push(d(p,m))}),h};const l="filter"+n[0].toUpperCase()+n.slice(1);r.prototype[l]=function(c,d){const h=[];return this[o](c,(p,m)=>{d(p,m)&&h.push(p)}),h};const u="reduce"+n[0].toUpperCase()+n.slice(1);r.prototype[u]=function(c,d,h){if(arguments.length<3)throw new L("Graph.".concat(u,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));let p=h;return this[o](c,(m,g)=>{p=d(p,m,g)}),p}}function Xu(r,e){const{name:n,type:i,direction:a}=e,o=n[0].toUpperCase()+n.slice(1,-1),s="find"+o;r.prototype[s]=function(c,d){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return;c=""+c;const h=this._nodes.get(c);if(typeof h>"u")throw new E("Graph.".concat(s,': could not find the "').concat(c,'" node in the graph.'));return Qr(!0,i==="mixed"?this.type:i,a,h,d)};const l="some"+o;r.prototype[l]=function(c,d){return!!this[s](c,d)};const u="every"+o;r.prototype[u]=function(c,d){return!this[s](c,(p,m)=>!d(p,m))}}function ec(r,e){const{name:n,type:i,direction:a}=e,o=n.slice(0,-1)+"Entries";r.prototype[o]=function(s){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return Ct();s=""+s;const l=this._nodes.get(s);if(typeof l>"u")throw new E("Graph.".concat(o,': could not find the "').concat(s,'" node in the graph.'));return Yu(i==="mixed"?this.type:i,a,l)}}function tc(r){Ju.forEach(e=>{Zu(r,e),Qu(r,e),Xu(r,e),ec(r,e)})}function ln(r,e,n,i,a){const o=i._nodes.values(),s=i.type;let l,u,c,d,h,p;for(;l=o.next(),l.done!==!0;){let m=!1;if(u=l.value,s!=="undirected"){d=u.out;for(c in d){h=d[c];do p=h.target,m=!0,a(u.key,p.key,u.attributes,p.attributes,h.key,h.attributes,h.undirected),h=h.next;while(h)}}if(s!=="directed"){d=u.undirected;for(c in d)if(!(e&&u.key>c)){h=d[c];do p=h.target,p.key!==c&&(p=h.source),m=!0,a(u.key,p.key,u.attributes,p.attributes,h.key,h.attributes,h.undirected),h=h.next;while(h)}}n&&!m&&a(u.key,null,u.attributes,null,null,null,null)}}function nc(r,e){const n={key:r};return Ma(e.attributes)||(n.attributes=le({},e.attributes)),n}function rc(r,e,n){const i={key:e,source:n.source.key,target:n.target.key};return Ma(n.attributes)||(i.attributes=le({},n.attributes)),r==="mixed"&&n.undirected&&(i.undirected=!0),i}function ic(r){if(!de(r))throw new L('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in r))throw new L("Graph.import: serialized node is missing its key.");if("attributes"in r&&(!de(r.attributes)||r.attributes===null))throw new L("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function ac(r){if(!de(r))throw new L('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in r))throw new L("Graph.import: serialized edge is missing its source.");if(!("target"in r))throw new L("Graph.import: serialized edge is missing its target.");if("attributes"in r&&(!de(r.attributes)||r.attributes===null))throw new L("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in r&&typeof r.undirected!="boolean")throw new L("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}const oc=lu(),sc=new Set(["directed","undirected","mixed"]),Pi=new Set(["domain","_events","_eventsCount","_maxListeners"]),lc=[{name:r=>"".concat(r,"Edge"),generateKey:!0},{name:r=>"".concat(r,"DirectedEdge"),generateKey:!0,type:"directed"},{name:r=>"".concat(r,"UndirectedEdge"),generateKey:!0,type:"undirected"},{name:r=>"".concat(r,"EdgeWithKey")},{name:r=>"".concat(r,"DirectedEdgeWithKey"),type:"directed"},{name:r=>"".concat(r,"UndirectedEdgeWithKey"),type:"undirected"}],uc={allowSelfLoops:!0,multi:!1,type:"mixed"};function cc(r,e,n){if(n&&!de(n))throw new L('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(n,'"'));if(e=""+e,n=n||{},r._nodes.has(e))throw new I('Graph.addNode: the "'.concat(e,'" node already exist in the graph.'));const i=new r.NodeDataClass(e,n);return r._nodes.set(e,i),r.emit("nodeAdded",{key:e,attributes:n}),i}function Di(r,e,n){const i=new r.NodeDataClass(e,n);return r._nodes.set(e,i),r.emit("nodeAdded",{key:e,attributes:n}),i}function Fa(r,e,n,i,a,o,s,l){if(!i&&r.type==="undirected")throw new I("Graph.".concat(e,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(i&&r.type==="directed")throw new I("Graph.".concat(e,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(l&&!de(l))throw new L("Graph.".concat(e,': invalid attributes. Expecting an object but got "').concat(l,'"'));if(o=""+o,s=""+s,l=l||{},!r.allowSelfLoops&&o===s)throw new I("Graph.".concat(e,': source & target are the same ("').concat(o,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));const u=r._nodes.get(o),c=r._nodes.get(s);if(!u)throw new E("Graph.".concat(e,': source node "').concat(o,'" not found.'));if(!c)throw new E("Graph.".concat(e,': target node "').concat(s,'" not found.'));const d={key:null,undirected:i,source:o,target:s,attributes:l};if(n)a=r._edgeKeyGenerator();else if(a=""+a,r._edges.has(a))throw new I("Graph.".concat(e,': the "').concat(a,'" edge already exists in the graph.'));if(!r.multi&&(i?typeof u.undirected[s]<"u":typeof u.out[s]<"u"))throw new I("Graph.".concat(e,': an edge linking "').concat(o,'" to "').concat(s,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));const h=new Rt(i,a,u,c,l);r._edges.set(a,h);const p=o===s;return i?(u.undirectedDegree++,c.undirectedDegree++,p&&(u.undirectedLoops++,r._undirectedSelfLoopCount++)):(u.outDegree++,c.inDegree++,p&&(u.directedLoops++,r._directedSelfLoopCount++)),r.multi?h.attachMulti():h.attach(),i?r._undirectedSize++:r._directedSize++,d.key=a,r.emit("edgeAdded",d),a}function dc(r,e,n,i,a,o,s,l,u){if(!i&&r.type==="undirected")throw new I("Graph.".concat(e,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(i&&r.type==="directed")throw new I("Graph.".concat(e,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if(l){if(u){if(typeof l!="function")throw new L("Graph.".concat(e,': invalid updater function. Expecting a function but got "').concat(l,'"'))}else if(!de(l))throw new L("Graph.".concat(e,': invalid attributes. Expecting an object but got "').concat(l,'"'))}o=""+o,s=""+s;let c;if(u&&(c=l,l=void 0),!r.allowSelfLoops&&o===s)throw new I("Graph.".concat(e,': source & target are the same ("').concat(o,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));let d=r._nodes.get(o),h=r._nodes.get(s),p,m;if(!n&&(p=r._edges.get(a),p)){if((p.source.key!==o||p.target.key!==s)&&(!i||p.source.key!==s||p.target.key!==o))throw new I("Graph.".concat(e,': inconsistency detected when attempting to merge the "').concat(a,'" edge with "').concat(o,'" source & "').concat(s,'" target vs. ("').concat(p.source.key,'", "').concat(p.target.key,'").'));m=p}if(!m&&!r.multi&&d&&(m=i?d.undirected[s]:d.out[s]),m){const k=[m.key,!1,!1,!1];if(u?!c:!l)return k;if(u){const P=m.attributes;m.attributes=c(P),r.emit("edgeAttributesUpdated",{type:"replace",key:m.key,attributes:m.attributes})}else le(m.attributes,l),r.emit("edgeAttributesUpdated",{type:"merge",key:m.key,attributes:m.attributes,data:l});return k}l=l||{},u&&c&&(l=c(l));const g={key:null,undirected:i,source:o,target:s,attributes:l};if(n)a=r._edgeKeyGenerator();else if(a=""+a,r._edges.has(a))throw new I("Graph.".concat(e,': the "').concat(a,'" edge already exists in the graph.'));let b=!1,S=!1;d||(d=Di(r,o,{}),b=!0,o===s&&(h=d,S=!0)),h||(h=Di(r,s,{}),S=!0),p=new Rt(i,a,d,h,l),r._edges.set(a,p);const T=o===s;return i?(d.undirectedDegree++,h.undirectedDegree++,T&&(d.undirectedLoops++,r._undirectedSelfLoopCount++)):(d.outDegree++,h.inDegree++,T&&(d.directedLoops++,r._directedSelfLoopCount++)),r.multi?p.attachMulti():p.attach(),i?r._undirectedSize++:r._directedSize++,g.key=a,r.emit("edgeAdded",g),[a,!0,b,S]}function yt(r,e){r._edges.delete(e.key);const{source:n,target:i,attributes:a}=e,o=e.undirected,s=n===i;o?(n.undirectedDegree--,i.undirectedDegree--,s&&(n.undirectedLoops--,r._undirectedSelfLoopCount--)):(n.outDegree--,i.inDegree--,s&&(n.directedLoops--,r._directedSelfLoopCount--)),r.multi?e.detachMulti():e.detach(),o?r._undirectedSize--:r._directedSize--,r.emit("edgeDropped",{key:e.key,attributes:a,source:n.key,target:i.key,undirected:o})}class K extends ou.EventEmitter{constructor(e){if(super(),e=le({},uc,e),typeof e.multi!="boolean")throw new L("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(e.multi,'".'));if(!sc.has(e.type))throw new L('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(e.type,'".'));if(typeof e.allowSelfLoops!="boolean")throw new L("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(e.allowSelfLoops,'".'));const n=e.type==="mixed"?Pa:e.type==="directed"?Da:ja;Se(this,"NodeDataClass",n);const i="geid_"+oc()+"_";let a=0;const o=()=>{let s;do s=i+a++;while(this._edges.has(s));return s};Se(this,"_attributes",{}),Se(this,"_nodes",new Map),Se(this,"_edges",new Map),Se(this,"_directedSize",0),Se(this,"_undirectedSize",0),Se(this,"_directedSelfLoopCount",0),Se(this,"_undirectedSelfLoopCount",0),Se(this,"_edgeKeyGenerator",o),Se(this,"_options",e),Pi.forEach(s=>Se(this,s,this[s])),Te(this,"order",()=>this._nodes.size),Te(this,"size",()=>this._edges.size),Te(this,"directedSize",()=>this._directedSize),Te(this,"undirectedSize",()=>this._undirectedSize),Te(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),Te(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),Te(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),Te(this,"multi",this._options.multi),Te(this,"type",this._options.type),Te(this,"allowSelfLoops",this._options.allowSelfLoops),Te(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(e){return this._nodes.has(""+e)}hasDirectedEdge(e,n){if(this.type==="undirected")return!1;if(arguments.length===1){const i=""+e,a=this._edges.get(i);return!!a&&!a.undirected}else if(arguments.length===2){e=""+e,n=""+n;const i=this._nodes.get(e);return i?i.out.hasOwnProperty(n):!1}throw new L("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))}hasUndirectedEdge(e,n){if(this.type==="directed")return!1;if(arguments.length===1){const i=""+e,a=this._edges.get(i);return!!a&&a.undirected}else if(arguments.length===2){e=""+e,n=""+n;const i=this._nodes.get(e);return i?i.undirected.hasOwnProperty(n):!1}throw new L("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))}hasEdge(e,n){if(arguments.length===1){const i=""+e;return this._edges.has(i)}else if(arguments.length===2){e=""+e,n=""+n;const i=this._nodes.get(e);return i?typeof i.out<"u"&&i.out.hasOwnProperty(n)||typeof i.undirected<"u"&&i.undirected.hasOwnProperty(n):!1}throw new L("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))}directedEdge(e,n){if(this.type==="undirected")return;if(e=""+e,n=""+n,this.multi)throw new I("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");const i=this._nodes.get(e);if(!i)throw new E('Graph.directedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(n))throw new E('Graph.directedEdge: could not find the "'.concat(n,'" target node in the graph.'));const a=i.out&&i.out[n]||void 0;if(a)return a.key}undirectedEdge(e,n){if(this.type==="directed")return;if(e=""+e,n=""+n,this.multi)throw new I("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");const i=this._nodes.get(e);if(!i)throw new E('Graph.undirectedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(n))throw new E('Graph.undirectedEdge: could not find the "'.concat(n,'" target node in the graph.'));const a=i.undirected&&i.undirected[n]||void 0;if(a)return a.key}edge(e,n){if(this.multi)throw new I("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");e=""+e,n=""+n;const i=this._nodes.get(e);if(!i)throw new E('Graph.edge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(n))throw new E('Graph.edge: could not find the "'.concat(n,'" target node in the graph.'));const a=i.out&&i.out[n]||i.undirected&&i.undirected[n]||void 0;if(a)return a.key}areDirectedNeighbors(e,n){e=""+e,n=""+n;const i=this._nodes.get(e);if(!i)throw new E('Graph.areDirectedNeighbors: could not find the "'.concat(e,'" node in the graph.'));return this.type==="undirected"?!1:n in i.in||n in i.out}areOutNeighbors(e,n){e=""+e,n=""+n;const i=this._nodes.get(e);if(!i)throw new E('Graph.areOutNeighbors: could not find the "'.concat(e,'" node in the graph.'));return this.type==="undirected"?!1:n in i.out}areInNeighbors(e,n){e=""+e,n=""+n;const i=this._nodes.get(e);if(!i)throw new E('Graph.areInNeighbors: could not find the "'.concat(e,'" node in the graph.'));return this.type==="undirected"?!1:n in i.in}areUndirectedNeighbors(e,n){e=""+e,n=""+n;const i=this._nodes.get(e);if(!i)throw new E('Graph.areUndirectedNeighbors: could not find the "'.concat(e,'" node in the graph.'));return this.type==="directed"?!1:n in i.undirected}areNeighbors(e,n){e=""+e,n=""+n;const i=this._nodes.get(e);if(!i)throw new E('Graph.areNeighbors: could not find the "'.concat(e,'" node in the graph.'));return this.type!=="undirected"&&(n in i.in||n in i.out)||this.type!=="directed"&&n in i.undirected}areInboundNeighbors(e,n){e=""+e,n=""+n;const i=this._nodes.get(e);if(!i)throw new E('Graph.areInboundNeighbors: could not find the "'.concat(e,'" node in the graph.'));return this.type!=="undirected"&&n in i.in||this.type!=="directed"&&n in i.undirected}areOutboundNeighbors(e,n){e=""+e,n=""+n;const i=this._nodes.get(e);if(!i)throw new E('Graph.areOutboundNeighbors: could not find the "'.concat(e,'" node in the graph.'));return this.type!=="undirected"&&n in i.out||this.type!=="directed"&&n in i.undirected}inDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new E('Graph.inDegree: could not find the "'.concat(e,'" node in the graph.'));return this.type==="undirected"?0:n.inDegree}outDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new E('Graph.outDegree: could not find the "'.concat(e,'" node in the graph.'));return this.type==="undirected"?0:n.outDegree}directedDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new E('Graph.directedDegree: could not find the "'.concat(e,'" node in the graph.'));return this.type==="undirected"?0:n.inDegree+n.outDegree}undirectedDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new E('Graph.undirectedDegree: could not find the "'.concat(e,'" node in the graph.'));return this.type==="directed"?0:n.undirectedDegree}inboundDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new E('Graph.inboundDegree: could not find the "'.concat(e,'" node in the graph.'));let i=0;return this.type!=="directed"&&(i+=n.undirectedDegree),this.type!=="undirected"&&(i+=n.inDegree),i}outboundDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new E('Graph.outboundDegree: could not find the "'.concat(e,'" node in the graph.'));let i=0;return this.type!=="directed"&&(i+=n.undirectedDegree),this.type!=="undirected"&&(i+=n.outDegree),i}degree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new E('Graph.degree: could not find the "'.concat(e,'" node in the graph.'));let i=0;return this.type!=="directed"&&(i+=n.undirectedDegree),this.type!=="undirected"&&(i+=n.inDegree+n.outDegree),i}inDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new E('Graph.inDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return this.type==="undirected"?0:n.inDegree-n.directedLoops}outDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new E('Graph.outDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return this.type==="undirected"?0:n.outDegree-n.directedLoops}directedDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new E('Graph.directedDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return this.type==="undirected"?0:n.inDegree+n.outDegree-n.directedLoops*2}undirectedDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new E('Graph.undirectedDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return this.type==="directed"?0:n.undirectedDegree-n.undirectedLoops*2}inboundDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new E('Graph.inboundDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));let i=0,a=0;return this.type!=="directed"&&(i+=n.undirectedDegree,a+=n.undirectedLoops*2),this.type!=="undirected"&&(i+=n.inDegree,a+=n.directedLoops),i-a}outboundDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new E('Graph.outboundDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));let i=0,a=0;return this.type!=="directed"&&(i+=n.undirectedDegree,a+=n.undirectedLoops*2),this.type!=="undirected"&&(i+=n.outDegree,a+=n.directedLoops),i-a}degreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new E('Graph.degreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));let i=0,a=0;return this.type!=="directed"&&(i+=n.undirectedDegree,a+=n.undirectedLoops*2),this.type!=="undirected"&&(i+=n.inDegree+n.outDegree,a+=n.directedLoops*2),i-a}source(e){e=""+e;const n=this._edges.get(e);if(!n)throw new E('Graph.source: could not find the "'.concat(e,'" edge in the graph.'));return n.source.key}target(e){e=""+e;const n=this._edges.get(e);if(!n)throw new E('Graph.target: could not find the "'.concat(e,'" edge in the graph.'));return n.target.key}extremities(e){e=""+e;const n=this._edges.get(e);if(!n)throw new E('Graph.extremities: could not find the "'.concat(e,'" edge in the graph.'));return[n.source.key,n.target.key]}opposite(e,n){e=""+e,n=""+n;const i=this._edges.get(n);if(!i)throw new E('Graph.opposite: could not find the "'.concat(n,'" edge in the graph.'));const a=i.source.key,o=i.target.key;if(e===a)return o;if(e===o)return a;throw new E('Graph.opposite: the "'.concat(e,'" node is not attached to the "').concat(n,'" edge (').concat(a,", ").concat(o,")."))}hasExtremity(e,n){e=""+e,n=""+n;const i=this._edges.get(e);if(!i)throw new E('Graph.hasExtremity: could not find the "'.concat(e,'" edge in the graph.'));return i.source.key===n||i.target.key===n}isUndirected(e){e=""+e;const n=this._edges.get(e);if(!n)throw new E('Graph.isUndirected: could not find the "'.concat(e,'" edge in the graph.'));return n.undirected}isDirected(e){e=""+e;const n=this._edges.get(e);if(!n)throw new E('Graph.isDirected: could not find the "'.concat(e,'" edge in the graph.'));return!n.undirected}isSelfLoop(e){e=""+e;const n=this._edges.get(e);if(!n)throw new E('Graph.isSelfLoop: could not find the "'.concat(e,'" edge in the graph.'));return n.source===n.target}addNode(e,n){return cc(this,e,n).key}mergeNode(e,n){if(n&&!de(n))throw new L('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(n,'"'));e=""+e,n=n||{};let i=this._nodes.get(e);return i?(n&&(le(i.attributes,n),this.emit("nodeAttributesUpdated",{type:"merge",key:e,attributes:i.attributes,data:n})),[e,!1]):(i=new this.NodeDataClass(e,n),this._nodes.set(e,i),this.emit("nodeAdded",{key:e,attributes:n}),[e,!0])}updateNode(e,n){if(n&&typeof n!="function")throw new L('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(n,'"'));e=""+e;let i=this._nodes.get(e);if(i){if(n){const o=i.attributes;i.attributes=n(o),this.emit("nodeAttributesUpdated",{type:"replace",key:e,attributes:i.attributes})}return[e,!1]}const a=n?n({}):{};return i=new this.NodeDataClass(e,a),this._nodes.set(e,i),this.emit("nodeAdded",{key:e,attributes:a}),[e,!0]}dropNode(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new E('Graph.dropNode: could not find the "'.concat(e,'" node in the graph.'));let i;if(this.type!=="undirected"){for(const a in n.out){i=n.out[a];do yt(this,i),i=i.next;while(i)}for(const a in n.in){i=n.in[a];do yt(this,i),i=i.next;while(i)}}if(this.type!=="directed")for(const a in n.undirected){i=n.undirected[a];do yt(this,i),i=i.next;while(i)}this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:n.attributes})}dropEdge(e){let n;if(arguments.length>1){const i=""+arguments[0],a=""+arguments[1];if(n=_e(this,i,a,this.type),!n)throw new E('Graph.dropEdge: could not find the "'.concat(i,'" -> "').concat(a,'" edge in the graph.'))}else if(e=""+e,n=this._edges.get(e),!n)throw new E('Graph.dropEdge: could not find the "'.concat(e,'" edge in the graph.'));return yt(this,n),this}dropDirectedEdge(e,n){if(arguments.length<2)throw new I("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new I("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");e=""+e,n=""+n;const i=_e(this,e,n,"directed");if(!i)throw new E('Graph.dropDirectedEdge: could not find a "'.concat(e,'" -> "').concat(n,'" edge in the graph.'));return yt(this,i),this}dropUndirectedEdge(e,n){if(arguments.length<2)throw new I("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new I("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const i=_e(this,e,n,"undirected");if(!i)throw new E('Graph.dropUndirectedEdge: could not find a "'.concat(e,'" -> "').concat(n,'" edge in the graph.'));return yt(this,i),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){const e=this._nodes.values();let n;for(;n=e.next(),n.done!==!0;)n.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(e){return this._attributes[e]}getAttributes(){return this._attributes}hasAttribute(e){return this._attributes.hasOwnProperty(e)}setAttribute(e,n){return this._attributes[e]=n,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}updateAttribute(e,n){if(typeof n!="function")throw new L("Graph.updateAttribute: updater should be a function.");const i=this._attributes[e];return this._attributes[e]=n(i),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}removeAttribute(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:e}),this}replaceAttributes(e){if(!de(e))throw new L("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=e,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(e){if(!de(e))throw new L("Graph.mergeAttributes: provided attributes are not a plain object.");return le(this._attributes,e),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:e}),this}updateAttributes(e){if(typeof e!="function")throw new L("Graph.updateAttributes: provided updater is not a function.");return this._attributes=e(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(e,n){if(typeof e!="function")throw new L("Graph.updateEachNodeAttributes: expecting an updater function.");if(n&&!Mi(n))throw new L("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const i=this._nodes.values();let a,o;for(;a=i.next(),a.done!==!0;)o=a.value,o.attributes=e(o.key,o.attributes);this.emit("eachNodeAttributesUpdated",{hints:n||null})}updateEachEdgeAttributes(e,n){if(typeof e!="function")throw new L("Graph.updateEachEdgeAttributes: expecting an updater function.");if(n&&!Mi(n))throw new L("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const i=this._edges.values();let a,o,s,l;for(;a=i.next(),a.done!==!0;)o=a.value,s=o.source,l=o.target,o.attributes=e(o.key,o.attributes,s.key,l.key,s.attributes,l.attributes,o.undirected);this.emit("eachEdgeAttributesUpdated",{hints:n||null})}forEachAdjacencyEntry(e){if(typeof e!="function")throw new L("Graph.forEachAdjacencyEntry: expecting a callback.");ln(!1,!1,!1,this,e)}forEachAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new L("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");ln(!1,!1,!0,this,e)}forEachAssymetricAdjacencyEntry(e){if(typeof e!="function")throw new L("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");ln(!1,!0,!1,this,e)}forEachAssymetricAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new L("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");ln(!1,!0,!0,this,e)}nodes(){return Array.from(this._nodes.keys())}forEachNode(e){if(typeof e!="function")throw new L("Graph.forEachNode: expecting a callback.");const n=this._nodes.values();let i,a;for(;i=n.next(),i.done!==!0;)a=i.value,e(a.key,a.attributes)}findNode(e){if(typeof e!="function")throw new L("Graph.findNode: expecting a callback.");const n=this._nodes.values();let i,a;for(;i=n.next(),i.done!==!0;)if(a=i.value,e(a.key,a.attributes))return a.key}mapNodes(e){if(typeof e!="function")throw new L("Graph.mapNode: expecting a callback.");const n=this._nodes.values();let i,a;const o=new Array(this.order);let s=0;for(;i=n.next(),i.done!==!0;)a=i.value,o[s++]=e(a.key,a.attributes);return o}someNode(e){if(typeof e!="function")throw new L("Graph.someNode: expecting a callback.");const n=this._nodes.values();let i,a;for(;i=n.next(),i.done!==!0;)if(a=i.value,e(a.key,a.attributes))return!0;return!1}everyNode(e){if(typeof e!="function")throw new L("Graph.everyNode: expecting a callback.");const n=this._nodes.values();let i,a;for(;i=n.next(),i.done!==!0;)if(a=i.value,!e(a.key,a.attributes))return!1;return!0}filterNodes(e){if(typeof e!="function")throw new L("Graph.filterNodes: expecting a callback.");const n=this._nodes.values();let i,a;const o=[];for(;i=n.next(),i.done!==!0;)a=i.value,e(a.key,a.attributes)&&o.push(a.key);return o}reduceNodes(e,n){if(typeof e!="function")throw new L("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new L("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let i=n;const a=this._nodes.values();let o,s;for(;o=a.next(),o.done!==!0;)s=o.value,i=e(i,s.key,s.attributes);return i}nodeEntries(){const e=this._nodes.values();return{[Symbol.iterator](){return this},next(){const n=e.next();if(n.done)return n;const i=n.value;return{value:{node:i.key,attributes:i.attributes},done:!1}}}}export(){const e=new Array(this._nodes.size);let n=0;this._nodes.forEach((a,o)=>{e[n++]=nc(o,a)});const i=new Array(this._edges.size);return n=0,this._edges.forEach((a,o)=>{i[n++]=rc(this.type,o,a)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:e,edges:i}}import(e,n=!1){if(e instanceof K)return e.forEachNode((u,c)=>{n?this.mergeNode(u,c):this.addNode(u,c)}),e.forEachEdge((u,c,d,h,p,m,g)=>{n?g?this.mergeUndirectedEdgeWithKey(u,d,h,c):this.mergeDirectedEdgeWithKey(u,d,h,c):g?this.addUndirectedEdgeWithKey(u,d,h,c):this.addDirectedEdgeWithKey(u,d,h,c)}),this;if(!de(e))throw new L("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!de(e.attributes))throw new L("Graph.import: invalid attributes. Expecting a plain object.");n?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}let i,a,o,s,l;if(e.nodes){if(o=e.nodes,!Array.isArray(o))throw new L("Graph.import: invalid nodes. Expecting an array.");for(i=0,a=o.length;i<a;i++){s=o[i],ic(s);const{key:u,attributes:c}=s;n?this.mergeNode(u,c):this.addNode(u,c)}}if(e.edges){let u=!1;if(this.type==="undirected"&&(u=!0),o=e.edges,!Array.isArray(o))throw new L("Graph.import: invalid edges. Expecting an array.");for(i=0,a=o.length;i<a;i++){l=o[i],ac(l);const{source:c,target:d,attributes:h,undirected:p=u}=l;let m;"key"in l?(m=n?p?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:p?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,m.call(this,l.key,c,d,h)):(m=n?p?this.mergeUndirectedEdge:this.mergeDirectedEdge:p?this.addUndirectedEdge:this.addDirectedEdge,m.call(this,c,d,h))}}return this}nullCopy(e){const n=new K(le({},this._options,e));return n.replaceAttributes(le({},this.getAttributes())),n}emptyCopy(e){const n=this.nullCopy(e);return this._nodes.forEach((i,a)=>{const o=le({},i.attributes);i=new n.NodeDataClass(a,o),n._nodes.set(a,i)}),n}copy(e){if(e=e||{},typeof e.type=="string"&&e.type!==this.type&&e.type!=="mixed")throw new I('Graph.copy: cannot create an incompatible copy from "'.concat(this.type,'" type to "').concat(e.type,'" because this would mean losing information about the current graph.'));if(typeof e.multi=="boolean"&&e.multi!==this.multi&&e.multi!==!0)throw new I("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof e.allowSelfLoops=="boolean"&&e.allowSelfLoops!==this.allowSelfLoops&&e.allowSelfLoops!==!0)throw new I("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");const n=this.emptyCopy(e),i=this._edges.values();let a,o;for(;a=i.next(),a.done!==!0;)o=a.value,Fa(n,"copy",!1,o.undirected,o.key,o.source.key,o.target.key,le({},o.attributes));return n}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){const e={};this._nodes.forEach((o,s)=>{e[s]=o.attributes});const n={},i={};this._edges.forEach((o,s)=>{const l=o.undirected?"--":"->";let u="",c=o.source.key,d=o.target.key,h;o.undirected&&c>d&&(h=c,c=d,d=h);const p="(".concat(c,")").concat(l,"(").concat(d,")");s.startsWith("geid_")?this.multi&&(typeof i[p]>"u"?i[p]=0:i[p]++,u+="".concat(i[p],". ")):u+="[".concat(s,"]: "),u+=p,n[u]=o.attributes});const a={};for(const o in this)this.hasOwnProperty(o)&&!Pi.has(o)&&typeof this[o]!="function"&&typeof o!="symbol"&&(a[o]=this[o]);return a.attributes=this._attributes,a.nodes=e,a.edges=n,Se(a,"constructor",this.constructor),a}}typeof Symbol<"u"&&(K.prototype[Symbol.for("nodejs.util.inspect.custom")]=K.prototype.inspect);lc.forEach(r=>{["add","merge","update"].forEach(e=>{const n=r.name(e),i=e==="add"?Fa:dc;r.generateKey?K.prototype[n]=function(a,o,s){return i(this,n,!0,(r.type||this.type)==="undirected",null,a,o,s,e==="update")}:K.prototype[n]=function(a,o,s,l){return i(this,n,!1,(r.type||this.type)==="undirected",a,o,s,l,e==="update")}})});vu(K);ku(K);qu(K);tc(K);class Ga extends K{constructor(e){const n=le({type:"directed"},e);if("multi"in n&&n.multi!==!1)throw new L("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="directed")throw new L('DirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class Ha extends K{constructor(e){const n=le({type:"undirected"},e);if("multi"in n&&n.multi!==!1)throw new L("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="undirected")throw new L('UndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class Ua extends K{constructor(e){const n=le({multi:!0},e);if("multi"in n&&n.multi!==!0)throw new L("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(n)}}class q extends K{constructor(e){const n=le({type:"directed",multi:!0},e);if("multi"in n&&n.multi!==!0)throw new L("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="directed")throw new L('MultiDirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class Va extends K{constructor(e){const n=le({type:"undirected",multi:!0},e);if("multi"in n&&n.multi!==!0)throw new L("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="undirected")throw new L('MultiUndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}function _t(r){r.from=function(e,n){const i=le({},e.options,n),a=new r(i);return a.import(e),a}}_t(K);_t(Ga);_t(Ha);_t(Ua);_t(q);_t(Va);K.Graph=K;K.DirectedGraph=Ga;K.UndirectedGraph=Ha;K.MultiGraph=Ua;K.MultiDirectedGraph=q;K.MultiUndirectedGraph=Va;K.InvalidArgumentsGraphError=L;K.NotFoundGraphError=E;K.UsageGraphError=I;var un={},ji;function hc(){if(ji)return un;ji=1;var r=Cs();return un.createRoot=r.createRoot,un.hydrateRoot=r.hydrateRoot,un}var pc=hc();const fc="modulepreload",gc=function(r){return"/rmp/"+r},Bi={},At=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let s=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=s(n.map(c=>{if(c=gc(c),c in Bi)return;Bi[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(c,'"]').concat(h)))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":fc,d||(p.as="script"),p.crossOrigin="",p.href=c,u&&p.setAttribute("nonce",u),document.head.appendChild(p),d)return new Promise((m,g)=>{p.addEventListener("load",m),p.addEventListener("error",()=>g(new Error("Unable to preload CSS for ".concat(c))))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})};var Wa=function(){if(typeof Map<"u")return Map;function r(e,n){var i=-1;return e.some(function(a,o){return a[0]===n?(i=o,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var i=r(this.__entries__,n),a=this.__entries__[i];return a&&a[1]},e.prototype.set=function(n,i){var a=r(this.__entries__,n);~a?this.__entries__[a][1]=i:this.__entries__.push([n,i])},e.prototype.delete=function(n){var i=this.__entries__,a=r(i,n);~a&&i.splice(a,1)},e.prototype.has=function(n){return!!~r(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,i){i===void 0&&(i=null);for(var a=0,o=this.__entries__;a<o.length;a++){var s=o[a];n.call(i,s[1],s[0])}},e}()}(),Rr=typeof window<"u"&&typeof document<"u"&&window.document===document,Ln=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),mc=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ln):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}}(),yc=2;function bc(r,e){var n=!1,i=!1,a=0;function o(){n&&(n=!1,r()),i&&l()}function s(){mc(o)}function l(){var u=Date.now();if(n){if(u-a<yc)return;i=!0}else n=!0,i=!1,setTimeout(s,e);a=u}return l}var wc=20,vc=["top","right","bottom","left","width","height","size","weight"],xc=typeof MutationObserver<"u",Nc=function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=bc(this.refresh.bind(this),wc)}return r.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},r.prototype.removeObserver=function(e){var n=this.observers_,i=n.indexOf(e);~i&&n.splice(i,1),!n.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},r.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},r.prototype.connect_=function(){!Rr||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),xc?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!Rr||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(e){var n=e.propertyName,i=n===void 0?"":n,a=vc.some(function(o){return!!~i.indexOf(o)});a&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r}(),qa=function(r,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var a=i[n];Object.defineProperty(r,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return r},xt=function(r){var e=r&&r.ownerDocument&&r.ownerDocument.defaultView;return e||Ln},Ja=rr(0,0,0,0);function kn(r){return parseFloat(r)||0}function Ii(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(i,a){var o=r["border-"+a+"-width"];return i+kn(o)},0)}function Sc(r){for(var e=["top","right","bottom","left"],n={},i=0,a=e;i<a.length;i++){var o=a[i],s=r["padding-"+o];n[o]=kn(s)}return n}function Cc(r){var e=r.getBBox();return rr(0,0,e.width,e.height)}function Rc(r){var e=r.clientWidth,n=r.clientHeight;if(!e&&!n)return Ja;var i=xt(r).getComputedStyle(r),a=Sc(i),o=a.left+a.right,s=a.top+a.bottom,l=kn(i.width),u=kn(i.height);if(i.boxSizing==="border-box"&&(Math.round(l+o)!==e&&(l-=Ii(i,"left","right")+o),Math.round(u+s)!==n&&(u-=Ii(i,"top","bottom")+s)),!Ac(r)){var c=Math.round(l+o)-e,d=Math.round(u+s)-n;Math.abs(c)!==1&&(l-=c),Math.abs(d)!==1&&(u-=d)}return rr(a.left,a.top,l,u)}var _c=function(){return typeof SVGGraphicsElement<"u"?function(r){return r instanceof xt(r).SVGGraphicsElement}:function(r){return r instanceof xt(r).SVGElement&&typeof r.getBBox=="function"}}();function Ac(r){return r===xt(r).document.documentElement}function Ec(r){return Rr?_c(r)?Cc(r):Rc(r):Ja}function Tc(r){var e=r.x,n=r.y,i=r.width,a=r.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return qa(s,{x:e,y:n,width:i,height:a,top:n,right:e+i,bottom:a+n,left:e}),s}function rr(r,e,n,i){return{x:r,y:e,width:n,height:i}}var Lc=function(){function r(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=rr(0,0,0,0),this.target=e}return r.prototype.isActive=function(){var e=Ec(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},r}(),kc=function(){function r(e,n){var i=Tc(n);qa(this,{target:e,contentRect:i})}return r}(),Oc=function(){function r(e,n,i){if(this.activeObservations_=[],this.observations_=new Wa,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=i}return r.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof xt(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Lc(e)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof xt(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},r.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(i){return new kc(i.target,i.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r}(),Ka=typeof WeakMap<"u"?new WeakMap:new Wa,Ya=function(){function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Nc.getInstance(),i=new Oc(e,n,this);Ka.set(this,i)}return r}();["observe","unobserve","disconnect"].forEach(function(r){Ya.prototype[r]=function(){var e;return(e=Ka.get(this))[r].apply(e,arguments)}});var Mc=function(){return typeof Ln.ResizeObserver<"u"?Ln.ResizeObserver:Ya}();window.ResizeObserver||(window.ResizeObserver=Mc);var _r=function(){return _r=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},_r.apply(this,arguments)},Pc=function(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n},J0=function(r){var e=r.isOpen,n=r.onClose,i=r.children,a=r.sx,o=r.size,s=r.zIndex,l=Pc(r,["isOpen","onClose","children","sx","size","zIndex"]),u=je("RmgAppClip",{size:o,zIndex:s!=null?s:1500}),c=M.useRef(null);return ko({ref:c,handler:n}),f.jsx(Oo,{children:f.jsxs(xn.div,_r({className:e?"show-app-clip":"",sx:u},l,{children:[f.jsx("div",{className:"rmg-app-clip__overlay"}),f.jsx(Mo,{isDisabled:!e,children:f.jsx("div",{className:"rmg-app-clip__container",children:f.jsx(xn.section,{ref:c,role:"dialog",className:"rmg-app-clip__content",sx:a,children:i})})})]}))})};const[Dc,nt]=jc();function jc(){const r=M.createContext(void 0);r.displayName="AutoCompleteContext";function e(){var n;const i=M.useContext(r),a="useAutoCompleteContext: `context` is undefined. Seems you forgot to wrap all autoomplete components within `<AutoComplete />`";if(!i){const o=new Error(a);throw o.name="ContextError",(n=Error.captureStackTrace)==null||n.call(Error,o,e),o}return i}return[r.Provider,e,r]}function Bc(r){return r==null?void 0:r[0]}function yr(r){return r!=null&&r.length?r[r.length-1]:void 0}function Za(r,e,n=1,i=!0){if(e===0)return-1;let a=r+n;return r===-1&&(a=n>0?0:e-1),i?a=(a%e+e)%e:a=Math.max(0,Math.min(a,e-1)),a}function Ic(r,e,n=!0){return Za(r,e,-1,n)}function $c(r,e,n=!0){const i=Za(r,e.length,1,n);return e[i]}function zc(r,e,n=!0){const i=Ic(r,e.length,n);return e[i]}function Xr(r){return Array.isArray(r)}function Fc(r){return Xr(r)&&r.length===0}function ei(r){return r!==null&&typeof r=="object"&&!Xr(r)}function Gc(r){return ei(r)&&Object.keys(r).length===0}function Qa(r){return Xr(r)?Fc(r):ei(r)?Gc(r):r==null||r===""}function vn(r){return typeof r>"u"}function Xa(r){return typeof r<"u"}function Hc(r,e){const n={};return e.forEach(i=>{i in r&&(n[i]=r[i])}),n}function ti(r,e){const n={...r};return e.forEach(i=>{delete n[i]}),n}function Uc(r){return typeof r=="function"}function se(r,...e){return Uc(r)?r(...e):r}var ir=function(r,e){for(var n,i=M.Children.toArray(r),a=0,o=i;a<o.length;a++){var s=o[a];if(e(s))return s;if(!((n=s.props)===null||n===void 0)&&n.children){var l=ir(s.props.children,e);if(l)return l}}},cn=function(r,e){for(var n=0,i=e.length,a=r.length;n<i;n++,a++)r[a]=e[n];return r},eo=function(r,e){for(var n,i=M.Children.toArray(r),a=[],o=0,s=i;o<s.length;o++){var l=s[o];e(l)&&(a=cn(cn([],a),[l])),!((n=l.props)===null||n===void 0)&&n.children&&(a=cn(cn([],a),eo(l.props.children,e)))}return a};function $i(r,e,n=2){function i(h,p){h=" ".repeat(p-1)+h.toLowerCase()+" ".repeat(p-1);let m=new Array(h.length-p+1);for(let g=0;g<m.length;g++)m[g]=h.slice(g,g+p);return m}if(!(r!=null&&r.length)||!(e!=null&&e.length))return 0;let a=r.length<e.length?r:e,o=r.length<e.length?e:r,s=i(a,n),l=i(o,n),u=new Set(s),c=l.length,d=0;for(let h of l)u.delete(h)&&d++;return d/c}const ni=r=>{var e;return(e=typeof r=="string"||typeof r=="number"?r:r[Object.keys(r)[0]])==null?void 0:e.toString()},Vc=(r,e)=>typeof r!="string"||Qa(e)?r:r.toString().replace(new RegExp(Kc(e),"gi"),n=>"<mark>".concat(n,"</mark>")),Wc=r=>eo(r,e=>{var n;return((n=e==null?void 0:e.type)==null?void 0:n.displayName)==="AutoCompleteItem"}).map(e=>{const n=Hc(e.props,["value","label","fixed","disabled"]),{getValue:i=ni}=e.props,a=i(n.value);return{...Xa(n.label)?n:{...n,label:a},value:a,originalValue:n.value}}),qc=()=>({bg:"whiteAlpha.100",_light:{bg:"gray.200"}}),Jc=(r,e,n)=>(e==null?void 0:e.toLowerCase().indexOf(r==null?void 0:r.toLowerCase()))>=0||(n==null?void 0:n.toLowerCase().indexOf(r==null?void 0:r.toLowerCase()))>=0||$i(r,e)>=.5||$i(r,n)>=.5;function Kc(r){return r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const Yc=(r,e)=>ir(r,n=>{var i;return((i=n==null?void 0:n.type)==null?void 0:i.displayName)==="AutoCompleteItem"&&n.props.value===(e==null?void 0:e.value)}),Zc=(r,e)=>ir(r,n=>{var i;return((i=n==null?void 0:n.type)==null?void 0:i.displayName)==="AutoCompleteItem"&&n.props.value===(e==null?void 0:e.value)}),Qc=(r,e)=>Xa(ir(r,n=>{var i,a;const o=se(((i=n.props)==null?void 0:i.getValue)||ni,((a=n.props)==null?void 0:a.value)||{});return e.some(s=>s.value===o)})),Xc=(r,e)=>{const n={},i={},{field:a}=r;return a&&Object.keys(a).forEach(o=>{if(o.startsWith("--input")===!1)n[o]=a[o];else{let s=a[o];const l=o.replace("--input-","").replace(/-([a-z])/g,function(u){return u[1].toUpperCase()});s.indexOf(".")!==-1&&(s=s.substring(s.indexOf(".")+1)),i[l]=s}}),{...e&&{...n,...i,_focusWithin:r.field._focus,pos:"relative",minH:9,py:1.5,spacing:3},cursor:"text",h:"fit-content"}};function ed(r){var e;let{prefocusFirstItem:n=!0,closeOnBlur:i=!0,creatable:a,emphasize:o,emptyState:s=!0,defaultEmptyStateProps:l={},freeSolo:u,isReadOnly:c,listAllValuesOnFocus:d,maxSuggestions:h,multiple:p,closeOnSelect:m=!p,defaultValue:g,defaultValues:b=g?[g]:[],onReady:S,defaultIsOpen:T,disableFilter:k,isLoading:P=!1,placement:w="bottom",restoreOnBlurIfEmpty:y=!u,shouldRenderSuggestions:N=()=>!0,submitKeys:v=[],suggestWhenEmpty:C,value:R,values:_=R?typeof R=="string"?[R]:[...R]:void 0}=r;u=u||(p?!0:r.freeSolo);const{isOpen:O,onClose:$,onOpen:W}=Fo({defaultIsOpen:T}),U=M.useMemo(()=>se(r.children,{isOpen:O,onClose:$,onOpen:W}),[r.children,O]),Q=M.useMemo(()=>Wc(U),[U]),ge=M.useRef(null),rt=M.useRef(null),it=M.useRef(null),ie=M.useRef(null),[Oe,Me]=M.useState(!1);let Be="";p?Be="":vn(b)?vn(_)||(Be=_[0]):Be=b[0];const[Ne,Tt]=M.useState(Be!=null?Be:""),or=M.useMemo(()=>k?Q:Q.filter(B=>B.fixed||se(r.filter||Jc,Ne,B.value,B.label)||Oe).filter((B,X)=>h?B.fixed||X<h:!0),[Ne,Q,Oe,h,k]),li=a?[{value:Ne,noFilter:!0,creatable:!0}]:[],ue=M.useMemo(()=>[...or,...li],[or,li]),[Ie,sr]=Go({defaultValue:b.map(B=>B==null?void 0:B.toString()),value:_,onChange:B=>{const X=ue.find(te=>te.value===B[0]);if(!X)return;const ce=B.map(te=>ue.find(Ae=>Ae.value===te));se(r.onChange,p?B:B[0],p?ce:X)}});M.useEffect(()=>{ue.length===0&&!s&&O&&$()},[ue.length,s,O]);const[ht,Je]=M.useState(n?(e=Q[0])==null?void 0:e.value:null),_o=r.maxSelections||Ie.length+1,lr=ue.findIndex(B=>B.value===ht),ui=$c(lr,ue,!!r.rollNavigation),ci=zc(lr,ue,!!r.rollNavigation),at=Bc(ue),di=yr(ue),hi=!ue.some(B=>B.value===ht);M.useEffect(()=>{var B;hi&&Je(n?(B=Q[0])==null?void 0:B.value:null)},[hi]),Ho(()=>{n&&Je(at==null?void 0:at.value)},[Ne,at==null?void 0:at.value]),M.useEffect(()=>{var B;!O&&n&&Je((B=Q[0])==null?void 0:B.value)},[O]),M.useEffect(()=>{O&&d&&Me(!0)},[O,d,Me]),M.useEffect(()=>{const B=Q.find(X=>X.value===ht);se(r.onOptionFocus,{item:B,focusMethod:ie.current,isNewInput:B==null?void 0:B.creatable})},[ht,r.onOptionFocus]);const ur=B=>{var X,ce;const te=ue.find(ve=>ve.value===B),Ae=(te==null?void 0:te.label)||(te==null?void 0:te.value);Tt(()=>p?"":Ae!=null?Ae:""),!Ie.includes(B)&&Ie.length<_o&&sr(ve=>p?[...ve,B]:[B]),p&&((X=ge.current)==null||X.focus()),r.focusInputOnSelect&&((ce=ge.current)==null||ce.focus()),se(r.onSelectOption,{item:te,selectMethod:ie.current,isNewInput:te==null?void 0:te.creatable}),te!=null&&te.creatable&&se(r.onCreateOption,{item:ti(te,["noFilter"]),selectMethod:ie.current}),m&&$()},pi=(B,X)=>{var ce;sr(ve=>{let $e=Q.find(Ke=>Ke.value===B);return!$e&&a===!0&&($e={label:B,value:B}),$e?(se(r.onTagRemoved,B,$e,ve),ve.filter(Ke=>Ke!==B)):ve});const te=Q.find(ve=>ve.value===B),Ae=(te==null?void 0:te.label)||(te==null?void 0:te.value);Ne===Ae&&Tt(""),X&&((ce=ge.current)==null||ce.focus())},Ao=B=>{var X;sr([]),B&&((X=ge.current)==null||X.focus())},fi=p?Ie.map(B=>{var X;return{label:((X=Q.find(ce=>ce.value===(B==null?void 0:B.toString())))==null?void 0:X.label)||B,onRemove:()=>pi(B)}}):[];return M.useEffect(()=>{se(S,{tags:fi})},[Ie]),{autoCompleteProps:r,children:U,filteredList:ue,filteredResults:or,focusedValue:ht,defaultEmptyStateProps:l,getEmptyStateProps:B=>{if(ue.every(X=>X.noFilter)&&s&&!a)return typeof s=="boolean"?B:se(s,{query:Ne})},getGroupProps:B=>{const X=Qc(B.children,ue);return{divider:{hasFirstChild:Yc(B.children,at),hasLastChild:Zc(B.children,yr(ue.filter(ce=>vn(ce==null?void 0:ce.noFilter))))},group:{display:X?"initial":"none"}}},getInputProps:(B,X)=>{const{onBlur:ce,onChange:te,onFocus:Ae,onKeyDown:ve,variant:$e,...Ke}=B;return{wrapper:{ref:rt,onClick:()=>{var Y;(Y=ge==null?void 0:ge.current)==null||Y.focus()},...Xc(X,p),...Ke},input:{isReadOnly:c,onFocus:Y=>{se(Ae,Y),r.openOnFocus&&!c&&W(),r.selectOnFocus&&Y.target.select(),d&&Me(!0)},onBlur:Y=>{var Ee,ye;se(ce,Y);const be=Y.relatedTarget===(it==null?void 0:it.current)||((Ee=it.current)==null?void 0:Ee.contains(Y.relatedTarget)),cr=(ye=rt.current)==null?void 0:ye.contains(Y.relatedTarget);if(!be&&!cr&&(i&&$(),!Ie.includes(Y.target.value)&&y)){const dr=yr(Ie),pt=Q.find(hr=>hr.value===dr),ze=(pt==null?void 0:pt.label)||(pt==null?void 0:pt.value)||"";Tt(ze)}},onChange:Y=>{const Ee=Y.target.value;se(te,Y),Tt(Ee);const ye=Qa(Ee);se(N,Ee)&&(!ye||C)?W():$(),Me(!1)},onKeyDown:Y=>{var Ee;se(ve,Y),ie.current="keyboard";const{key:ye}=Y,be=ue[lr];if(["Enter",...v].includes(ye)){be&&!(be!=null&&be.disabled)&&O?ur(be==null?void 0:be.value):(Ee=ge.current)==null||Ee.focus(),Y.preventDefault();return}if(ye==="ArrowDown"){O?Je(ui==null?void 0:ui.value):W(),Y.preventDefault();return}if(ye==="ArrowUp"){O?Je(ci==null?void 0:ci.value):W(),Y.preventDefault();return}if(ye==="Tab"){O&&be&&!(be!=null&&be.disabled)?ur(be==null?void 0:be.value):$();return}if(ye==="Home"){Je(at==null?void 0:at.value),Y.preventDefault();return}if(ye==="End"){Je(di==null?void 0:di.value),Y.preventDefault();return}ye==="Escape"&&($(),Y.preventDefault())},value:Ne,variant:p?"unstyled":$e,...Ke}}},getItemProps:(B,X)=>{var ce;const{_fixed:te,_focus:Ae,children:ve,disabled:$e,label:Ke,value:Y,fixed:Ee,getValue:ye=ni,onClick:be,onMouseOver:cr,sx:dr,...pt}=B,ze=X?Y:(ce=ye(Y))==null?void 0:ce.toString(),hr=ze===ht,Eo=ue.findIndex(Lt=>Lt.value===ze)>=0,pr=ve||Ke||ze;return{item:{...typeof pr!="string"||!o?{children:pr}:{dangerouslySetInnerHTML:{__html:Vc(pr,Ne)}},"aria-selected":Ie.includes(ze),"aria-disabled":$e,_disabled:{opacity:.4,cursor:"not-allowed",userSelect:"none"},onClick:Lt=>{var gi;se(be,Lt),$e?(gi=ge.current)==null||gi.focus():ur(ze)},onMouseOver:Lt=>{se(cr,Lt),Je(ze),ie.current="mouse"},sx:{...dr,mark:{color:"inherit",bg:"transparent",...ei(o)?o:{fontWeight:o?"extrabold":"inherit"}}},...hr&&(Ae||qc()),...Ee&&te,...pt},root:{isValidSuggestion:Eo,value:ze}}},inputRef:ge,interactionRef:ie,isLoading:P,isOpen:O,itemList:Q,listRef:it,onClose:$,onOpen:W,placement:w,query:Ne,removeItem:pi,resetItems:Ao,setQuery:Tt,tags:fi,value:R,values:Ie}}const to=dt((r,e)=>{const n=ed(r),{children:i,isOpen:a,onClose:o,onOpen:s,placement:l,resetItems:u,removeItem:c}=n;M.useImperativeHandle(e,()=>({resetItems:u,removeItem:c}));const{matchWidth:d=!0}=n.autoCompleteProps;return f.jsx(Dc,{value:n,children:f.jsx(ia,{isLazy:!0,isOpen:a,autoFocus:!1,placement:l,closeOnBlur:!0,matchWidth:d,children:f.jsx(xn.div,{w:"full",ref:e,children:i})})})});to.displayName="AutoComplete";const no=dt((r,e)=>{const{focusedValue:n,getItemProps:i,interactionRef:a}=nt(),o=M.useRef(),s=tn(e,o),l=i(r),{isValidSuggestion:u,value:c}=l.root,d=n===c;M.useEffect(()=>{var b;d&&a.current==="keyboard"&&((b=o==null?void 0:o.current)==null||b.scrollIntoView({behavior:"smooth",block:"nearest"}))},[d,a]),M.useEffect(()=>{typeof c!="string"&&console.warn("wow"),typeof c!="string"&&vn(r.getValue)&&console.error("You must define the `getValue` prop, when an Item's value is not a string")},[]);const{children:h,dangerouslySetInnerHTML:p,...m}=l.item,g=ti(m,["groupId"]);return u?f.jsx(ke,{ref:s,...td,...g,children:h||f.jsx("span",{dangerouslySetInnerHTML:p})}):null});no.displayName="AutoCompleteItem";const td={mx:"2",px:"2",py:"2",rounded:"md",cursor:"pointer"},nd=dt((r,e)=>{const{children:n,showDivider:i,...a}=r,o=ti(a,["groupSibling"]),{getGroupProps:s}=nt(),{group:l}=s(r),u=ad(r);return f.jsxs(aa,{ref:e,...l,...o,children:[f.jsx(mi,{...u.top}),n,f.jsx(mi,{...u.bottom})]})}),rd=dt((r,e)=>f.jsx(ke,{...id,...r,ref:e}));nd.displayName="AutoCompleteGroup";rd.displayName="AutoCompleteGroupTitle";const id={ml:5,my:1,fontSize:"xs",letterSpacing:"wider",fontWeight:"extrabold",textTransform:"uppercase"},ad=r=>{const{getGroupProps:e}=nt(),n=r.groupSibling,{divider:{hasFirstChild:i,hasLastChild:a}}=e(r),o={my:2,borderColor:r.dividerColor},s={...o,mb:4,display:!r.showDivider||i?"none":""},l={...o,display:!r.showDivider||a||n?"none":""};return{top:s,bottom:l}},zi=dt((r,e)=>{const{isLoading:n}=nt(),{loadingIcon:i,...a}=r;return f.jsxs(Uo,{children:[f.jsx(la,{...a,ref:e}),n&&f.jsx(Vo,{children:i||f.jsx(sa,{})})]})}),ri=dt((r,e)=>{const{autoCompleteProps:n,inputRef:i,getInputProps:a,tags:o,setQuery:s,value:l,itemList:u}=nt(),{children:c,isInvalid:d,hidePlaceholder:h,...p}=r,{value:m}=p;M.useEffect(()=>{if(l!==void 0&&(typeof l=="string"||l instanceof String)){const v=u.find(R=>R.value===l),C=v===void 0?l:v.label;s(C)}},[l]),M.useEffect(()=>{m!==void 0&&(typeof m=="string"||m instanceof String)&&s(m)},[m]);const g=Bo("Input",r);let{wrapper:b,input:S}=a(p,g);const{ref:T,...k}=b,P=tn(e,i),w=se(c,{tags:o});h&&(S={...S,placeholder:Array.isArray(w)&&w.length?void 0:S.placeholder});const y=f.jsx(zi,{isInvalid:d,...S,ref:P}),N=f.jsxs(Io,{"aria-invalid":d,...k,ref:T,children:[w,f.jsx(ra,{as:zi,...S,ref:P})]});return f.jsx($o,{children:n.multiple?N:y})});ri.displayName="Input";ri.id="Input";const od=r=>{const{getEmptyStateProps:e,defaultEmptyStateProps:n}=nt(),i=e(f.jsx(ke,{...sd,...n,children:"No options found!"}));return f.jsx(aa,{...r,children:i})},sd={fontSize:"sm",align:"center",justify:"center",fontWeight:"bold",fontStyle:"italic"},Fi=["AutoCompleteGroup","AutoCompleteItem","AutoCompleteCreatable"],ld=r=>{const e=j.Children.map(r,(i,a)=>{var o;if(((o=i==null?void 0:i.type)==null?void 0:o.displayName)==="AutoCompleteGroup"){const s=j.Children.toArray(r)[a+1];return j.cloneElement(i,{groupSibling:s?s.type.displayName==="AutoCompleteGroup":!1})}return i}),n=j.Children.toArray(e).filter(i=>{var a;return!Fi.includes((a=i==null?void 0:i.type)==null?void 0:a.displayName)});return[j.Children.toArray(e).filter(i=>{var a;return Fi.includes((a=i==null?void 0:i.type)==null?void 0:a.displayName)}),n]},ro=dt((r,e)=>{const{children:n,loadingState:i,...a}=r,{listRef:o,isLoading:s}=nt(),l=tn(e,o),[u,c]=ld(n);return f.jsxs(oa,{ref:l,w:"inherit",...ud,...a,children:[s&&f.jsx(zo,{children:i||f.jsx(sa,{size:"md"})}),!s&&f.jsxs(f.Fragment,{children:[u,f.jsx(od,{}),c]})]})});ro.displayName="AutoCompleteList";const ud={py:"4",opacity:"0",bg:"#232934",rounded:"md",maxH:"350px",border:"none",shadow:"base",zIndex:"popover",overflowY:"auto",_light:{bg:"#ffffff"},_focus:{boxShadow:"none"}};M.memo(r=>{const{label:e,onRemove:n,disabled:i,...a}=r;return f.jsx(ra,{children:f.jsxs(Po,{borderRadius:"md",fontWeight:"normal",...i&&Gi,...a,children:[f.jsx(Do,{children:e}),f.jsx(jo,{onClick:()=>!i&&se(n),cursor:"pointer",...i&&Gi})]})})});const Gi={cursor:"text",userSelect:"none",opacity:.4,_focus:{boxShadow:"none"}};var ot=function(){return ot=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},ot.apply(this,arguments)},io=function(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n};function K0(r){var e=r.data,n=r.displayHandler,i=r.filter,a=r.value,o=r.onChange,s=r.InputProps,l=r.InputPropsByState,u=r.ListProps,c=r.ItemProps,d=io(r,["data","displayHandler","filter","value","onChange","InputProps","InputPropsByState","ListProps","ItemProps"]),h=function(m,g){if(!i)return!0;var b=e.find(function(S){return S.id===g});return b?i(m,b):!1},p=function(m,g){var b;Array.isArray(g)?o==null||o((b=g[0])===null||b===void 0?void 0:b.originalValue):o==null||o(g.originalValue)};return f.jsx(to,ot({value:a,filter:h,onChange:p,suggestWhenEmpty:!0,openOnFocus:!0},d,{children:function(m){var g,b=m.isOpen;return f.jsxs(f.Fragment,{children:[f.jsx(cd,ot({variant:"flushed",size:"sm",h:6,autoComplete:"off",value:a},(g=l==null?void 0:l(b))!==null&&g!==void 0?g:s)),f.jsx(ro,ot({role:"menu",py:1},u,{children:e.map(function(S){return f.jsx(no,ot({value:S,label:S.value,role:"menuitem",fontSize:"sm",p:1,mx:1},c,{children:n?n(S):S.value}),S.id)})}))]})}}))}var cd=function(r){var e=r.value,n=io(r,["value"]),i=nt().setQuery;return M.useEffect(function(){i(e!=null?e:"")},[e]),f.jsx(ri,ot({},n))},Hi=function(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var i=n.call(r),a,o=[],s;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(l){s={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o},Ui=function(r,e,n){if(n||arguments.length===2)for(var i=0,a=e.length,o;i<a;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return r.concat(o||Array.prototype.slice.call(e))};function Y0(r){var e=r.selections,n=r.defaultValue,i=r.onChange,a=r.multiSelect,o=Hi(M.useState(n),2),s=o[0],l=o[1];M.useEffect(function(){n.toString()&&l(n)},[n.toString()]);var u=function(c){if(a){var d=s,h=d.includes(c)?d.filter(function(p){return p!==c}):Ui(Ui([],Hi(d),!1),[c],!1);l(h),i==null||i(h)}else l(c),i==null||i(c)};return f.jsx(Wo,{size:"xs",isAttached:!0,colorScheme:"primary",variant:"outline",children:e.map(function(c,d){var h=typeof s=="object"&&s.includes(c.value)||s===c.value,p=d!==e.length-1&&!h?"-px":void 0;return f.jsx(vt,{role:"checkbox","aria-checked":h,variant:h?"solid":"outline",mr:p,flex:1,isDisabled:c.disabled,onClick:function(){return u(c.value)},children:c.label},c.value.toString())})})}var qt=function(){return qt=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},qt.apply(this,arguments)},dd=function(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n},Z0=function(r){var e=r.children,n=r.sx,i=dd(r,["children","sx"]),a=je("RmgCard");return f.jsx(ke,qt({sx:qt(qt({},a),n)},i,{children:e}))};var Ar=function(){return Ar=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Ar.apply(this,arguments)},hd=function(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n},pd=function(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var i=n.call(r),a,o=[],s;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(l){s={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o},fd=function(r,e){var n=r.validator,i=r.onDebouncedChange,a=r.delay,o=r.optionList,s=r.defaultValue;r.onChange;var l=hd(r,["validator","onDebouncedChange","delay","optionList","defaultValue","onChange"]),u=M.useRef(null),c=tn(u,e),d=M.useRef("datalist-"+new Date().valueOf()),h=pd(M.useState(!1),2),p=h[0],m=h[1],g=M.useRef();M.useEffect(function(){u.current&&(u.current.value=(s==null?void 0:s.toString())||"")},[s]);var b=function(T){var k=T.target.value;window.clearTimeout(g.current),n&&m(!n(k)),g.current=window.setTimeout(function(){i==null||i(k),g.current=void 0},a!=null?a:500)},S=function(T){var k=T.target.value;g.current!==void 0&&(window.clearTimeout(g.current),n&&m(!n(k)),i==null||i(k),g.current=void 0)};return f.jsxs(f.Fragment,{children:[f.jsx(la,Ar({ref:c,list:d.current,variant:"flushed",size:"sm",h:6,onChange:b,onBlur:S,isInvalid:p},l)),o&&f.jsx("datalist",{id:d.current,children:o==null?void 0:o.map(function(T,k){return f.jsx("option",{children:T},k)})})]})},gd=M.forwardRef(fd),Er=function(){return Er=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Er.apply(this,arguments)},md=function(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n},yd=function(r,e){var n=r.onDebouncedChange,i=r.defaultValue;r.onChange;var a=md(r,["onDebouncedChange","defaultValue","onChange"]),o=M.useRef(null),s=tn(o,e),l=M.useRef();M.useEffect(function(){o.current&&(o.current.value=(i==null?void 0:i.toString())||"")},[i]);var u=function(c){var d=c.target.value;window.clearTimeout(l.current),l.current=window.setTimeout(function(){n==null||n(d)},500)};return f.jsx(qo,Er({ref:s,variant:"flushed",size:"sm",resize:"none",onChange:u},a))},bd=M.forwardRef(yd);var wd=function(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var i=n.call(r),a,o=[],s;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(l){s={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o},vd=function(r){switch(r){case lt.DEV:return"red";case lt.UAT:return"orange";case lt.PRD:return"green"}};function Q0(r){var e=r.environment,n=r.version,i=r.popoverHeader,a=r.popoverBody,o=wd(M.useState(!1),2),s=o[0],l=o[1];return f.jsxs(ia,{isOpen:s,onOpen:function(){return i&&l(!0)},onClose:function(){return l(!1)},children:[f.jsx(Jo,{children:f.jsx(ua,{ml:1,colorScheme:vd(e),title:"".concat(e,": ").concat(n),cursor:i?"pointer":"help",children:e===lt.PRD?n:e})}),f.jsxs(oa,{children:[f.jsx(Ko,{}),f.jsx(Yo,{}),f.jsx(Zo,{children:i}),f.jsx(Qo,{children:a})]})]})}var xd=function(r,e,n){var i=new Blob([n],{type:e});Nd(r,i)},Nd=function(r,e){var n=window.URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download=r,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)},Sd=function(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var i=n.call(r),a,o=[],s;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(l){s={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o};function Cd(r){var e=r.cancelRef,n=r.isOpen,i=r.onClose,a=Sd(M.useState(!1),2),o=a[0],s=a[1],l=function(){s(!0);var u=we.storage.getAll(),c=we.getAppName(),d="".concat(c,"_BACKUP_").concat(new Date().toISOString(),".json");xd(d,"application/json",JSON.stringify(u)),we.storage.clear(),setTimeout(function(){window.location.reload()},2e3)};return f.jsxs(Xo,{leastDestructiveRef:e,isOpen:n,onClose:i,children:[f.jsx(es,{}),f.jsxs(ts,{children:[f.jsx(ns,{children:"Warning "}),f.jsx(rs,{}),f.jsxs(is,{sx:{"& p":{my:1}},children:[f.jsx(Xe,{children:"Are you sure you want to reset the app? The webpage local storage for this app will be cleared. A copy of the local storage will be downloaded and it may be used for restoration (varies with app)."}),f.jsx(Xe,{children:""}),f.jsx(Xe,{children:""})]}),f.jsxs(as,{children:[f.jsx(vt,{ref:e,onClick:i,children:"Cancel"}),f.jsx(vt,{isLoading:o,colorScheme:"red",ml:3,onClick:l,children:"Confirm and reload"})]})]})]})}var Jt=function(){return Jt=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Jt.apply(this,arguments)},Rd=function(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n},_d=function(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var i=n.call(r),a,o=[],s;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(l){s={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o};function Ad(r){var e=r.error,n=r.errorInfo,i=r.allowReset,a=r.sx,o=Rd(r,["error","errorInfo","allowReset","sx"]),s=je("RmgErrorBoundary"),l=ca("primary.500","primary.300"),u=_d(M.useState(!1),2),c=u[0],d=u[1],h=M.useRef(null),p=function(b){return f.jsx(Ut,{color:l,role:"button",onClick:function(){return d(!0)},children:b})},m=we.getAppName(),g=f.jsx(Ut,{color:l,href:"https://github.com/railmapgen/".concat(m==="rmg-home"?"railmapgen.github.io":m,"/issues"),isExternal:!0,children:"GitHub Issue"});return f.jsxs(zr,Jt({status:"error",sx:Jt(Jt({},s),a)},o,{children:[f.jsx(Fr,{}),f.jsx(os,{children:"Something went wrong!"}),f.jsxs(ss,{children:[f.jsxs(Xe,{children:["Please try to refresh or re-import your configuration files. If the issue still persists, please consider upgrading your browser",i?f.jsxs(f.Fragment,{children:[" or ",p("reset this app")]}):"",". Should you need any help, please contact us by submitting an issue in ",g," with the details shown below."]}),f.jsxs(Xe,{children:["",i?f.jsxs(f.Fragment,{children:["",p("")]}):""," ",g,"  Issue "]}),f.jsxs(Xe,{children:["",i?f.jsxs(f.Fragment,{children:["",p("")]}):""," ",g,"  Issue "]}),f.jsxs(Xe,{as:"details",children:[e==null?void 0:e.toString(),f.jsx("br",{}),n==null?void 0:n.componentStack]}),i&&f.jsx(Cd,{cancelRef:h,isOpen:c,onClose:function(){return d(!1)}})]})]}))}var Ed=function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tr=function(){return Tr=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Tr.apply(this,arguments)},Td=function(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n},Ld=function(r){Ed(e,r);function e(n){var i=r.call(this,n)||this;return i.state={hasError:!1,error:null,errorInfo:null},i}return e.getDerivedStateFromError=function(){return{hasError:!0}},e.prototype.componentDidCatch=function(n,i){this.setState({error:n,errorInfo:i})},e.prototype.render=function(){var n=this.props,i=n.children,a=n.suspenseFallback,o=n.allowReset,s=Td(n,["children","suspenseFallback","allowReset"]);return this.state.hasError?f.jsx(Ad,Tr({error:this.state.error,errorInfo:this.state.errorInfo,allowReset:o},s)):a?f.jsx(M.Suspense,{fallback:a,children:i}):i},e}(j.Component),Lr=function(){return Lr=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Lr.apply(this,arguments)},kd=function(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n},Od=function(r){var e=r.label,n=r.children;r.width;var i=r.noLabel,a=r.oneLine,o=r.helper,s=r.errorMessage,l=r.className,u=kd(r,["label","children","width","noLabel","oneLine","helper","errorMessage","className"]),c=je("RmgLabel");return f.jsxs(ls,Lr({className:"".concat(a?"rmg-label__one-line":""," ").concat(l!=null?l:""),"aria-label":e,sx:c,isInvalid:!!s},u,{children:[!i&&f.jsx(us,{size:"xs",children:e}),n,s?f.jsx(cs,{children:s}):o?f.jsx(ds,{children:o}):f.jsx(f.Fragment,{})]}))},kr=function(){return kr=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},kr.apply(this,arguments)},Md=function(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n},Vi=function(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var i=n.call(r),a,o=[],s;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(l){s={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o};function Pd(r){var e=r.defaultValue,n=r.options,i=r.disabledOptions,a=Md(r,["defaultValue","options","disabledOptions"]),o=M.useRef(null);M.useEffect(function(){o.current&&(o.current.value=(e==null?void 0:e.toString())||"")},[e]);var s=function(l,u){return f.jsx("option",{value:l,disabled:(i==null?void 0:i.find(function(c){return c.toString()===l}))!==void 0,children:u},l)};return f.jsx(hs,kr({ref:o,variant:"flushed",size:"sm",h:6},a,{children:Object.entries(n).map(function(l){var u=Vi(l,2),c=u[0],d=u[1];return typeof d=="object"?f.jsx("optgroup",{label:c,children:Object.entries(d).map(function(h){var p=Vi(h,2),m=p[0],g=p[1];return s(m,g)})},c):s(c,d)})}))}var Dd=function(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var i=n.call(r),a,o=[],s;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(l){s={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o},X0=function(r,e,n){var i=Dd(M.useState(e()),2),a=i[0],o=i[1];return M.useEffect(function(){r.then(function(){console.debug("[rmg-components] Getter updates finished"),o(e())})},[]),a},br=function(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var i=n.call(r),a,o=[],s;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(l){s={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o},Wi=function(r,e,n){if(n||arguments.length===2)for(var i=0,a=e.length,o;i<a;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return r.concat(o||Array.prototype.slice.call(e))},jd=function(r,e){var n=br(M.useState(!0),2),i=n[0],a=n[1],o=M.useRef([]),s=M.useRef(),l=M.useCallback(function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];if(!i){o.current=u;return}a(!1),o.current=[],r.apply(void 0,Wi([],br(u),!1))},[i,r]);return M.useEffect(function(){if(!i)return s.current=window.setTimeout(function(){a(!0),o.current.length&&r.apply(void 0,Wi([],br(o.current),!1))},e),function(){window.clearTimeout(s.current)}},[i,e]),l},Bd=function(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var i=n.call(r),a,o=[],s;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(l){s={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o};function Id(r){var e=r.defaultValue,n=r.min,i=r.max,a=r.step,o=r.onThrottledChange,s=r.leftIcon,l=r.rightIcon,u=je("RmgThrottledSlider"),c=Bd(M.useState(e!=null?e:0),2),d=c[0],h=c[1];M.useEffect(function(){e!==void 0&&d!==e&&h(e)},[e]);var p=jd(o!=null?o:function(){},500),m=function(){var b=Math.min(d+(a!=null?a:1)*10,i!=null?i:100);o==null||o(b),h(b)},g=function(){var b=Math.max(d-(a!=null?a:1)*10,n!=null?n:0);o==null||o(b),h(b)};return f.jsxs(ke,{sx:u,children:[s&&f.jsx(Nn,{size:"xs",variant:"ghost","aria-label":"Drag left",icon:s,onClick:g}),f.jsxs(ps,{value:d,min:n,max:i,step:a,onChange:function(b){p(b),h(b)},children:[f.jsx(fs,{children:f.jsx(gs,{})}),f.jsx(ms,{})]}),l&&f.jsx(Nn,{size:"xs",variant:"ghost","aria-label":"Drag right",icon:l,onClick:m})]})}var $d=function(r){var e=r.children,n=r.noWrap,i=je("RmgOutput",{noWrap:n});return f.jsx(xn.output,{sx:i,children:e})};function Z(r){var e=r.fields,n=r.noLabel,i=r.minW;return f.jsx(ke,{wrap:"wrap",children:e.map(function(a,o){if(a.hidden)return f.jsx(M.Fragment,{},o);var s=a.minW||i,l=s==="full";return f.jsx(Od,{className:l?"mw-full":"",label:a.label,flex:l?void 0:1,minW:l?void 0:s,noLabel:n,oneLine:a.oneLine,helper:a.helper,errorMessage:a.errorMessage,children:function(u){switch(u.type){case"input":return f.jsx(gd,{placeholder:u.placeholder,defaultValue:u.value,type:u.variant,validator:u.validator,onDebouncedChange:u.onChange,delay:u.debouncedDelay,optionList:u.optionList,isDisabled:u.isDisabled});case"output":return f.jsx($d,{noWrap:u.noWrap,children:u.value});case"textarea":return f.jsx(bd,{placeholder:u.placeholder,defaultValue:u.value,onDebouncedChange:u.onChange,isDisabled:u.isDisabled});case"slider":return f.jsx(Id,{defaultValue:u.value,min:u.min,max:u.max,step:u.step,onThrottledChange:u.onChange,leftIcon:u.leftIcon,rightIcon:u.rightIcon,isDisabled:u.isDisabled});case"select":return f.jsx(Pd,{defaultValue:u.value,onChange:function(c){var d,h=c.target.value;return(d=u.onChange)===null||d===void 0?void 0:d.call(u,typeof u.value=="number"?Number(h):h.toString())},options:u.options,disabledOptions:u.disabledOptions,isInvalid:u.isInvalid,isDisabled:u.isDisabled});case"switch":return f.jsx(ys,{isChecked:u.isChecked,isDisabled:u.isDisabled,onChange:function(c){var d,h=c.target.checked;return(d=u.onChange)===null||d===void 0?void 0:d.call(u,h)}});case"custom":return u.component;default:return f.jsx("div",{})}}(a)},o)})})}var tt=function(){return tt=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},tt.apply(this,arguments)},ao=function(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n},zd=function(r){var e=r.sx,n=r.className,i=ao(r,["sx","className"]),a=je("RmgWindow");return f.jsx(ke,tt({className:"rmg-window ".concat(n!=null?n:""),sx:tt(tt({},a),e)},i))},eb=function(r){var e=r.isAppClipHeader,n=r.sx,i=r.className,a=ao(r,["isAppClipHeader","sx","className"]),o=je("RmgWindowHeader");return f.jsx(ke,tt({className:"rmg-window__header ".concat(e?"rmg-window__app-clip-header":""," ").concat(i!=null?i:""),sx:tt(tt({},o),n)},a))},Or=function(){return Or=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Or.apply(this,arguments)},Fd=function(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n},tb=function(r){var e=r.name,n=r.fg,i=r.bg,a=r.showShortName,o=r.actions,s=Fd(r,["name","fg","bg","showShortName","actions"]),l=je("RmgLineBadge"),u=function(c){var d,h;return typeof c=="object"?((d=c[0].match(/^[\d\w]+/))===null||d===void 0?void 0:d[0])||c[0]:((h=c.match(/^[\d\w]+/))===null||h===void 0?void 0:h[0])||c};return f.jsxs(ua,Or({color:n,bg:i,sx:l},s,{children:[a?u(e):typeof e=="object"?e[0]:e,o]}))};var Kt=function(){return Kt=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Kt.apply(this,arguments)},Gd=function(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n},nb=function(r){var e=r.isOpen,n=r.alwaysOverlay,i=r.width,a=r.sx,o=r.children,s=Gd(r,["isOpen","alwaysOverlay","width","sx","children"]),l=je("RmgSidePanel",{width:i!=null?i:320,alwaysOverlay:n});return f.jsx(ke,Kt({as:"section",className:e?"show-side-panel":"",sx:Kt(Kt({},l),a),"data-testid":"side-panel-root"},s,{children:f.jsx(ke,{className:"rmg-side-panel__inner",children:o})}))},rb=function(r){var e=r.onClose,n=r.children;return f.jsxs(zr,{className:"rmg-side-panel__header",status:"info",variant:"solid",size:"xs",children:[f.jsx(Fr,{}),n,f.jsx(bs,{onClick:e})]})},ib=function(r){var e=r.children;return f.jsx("div",{className:"rmg-side-panel__body",children:e})},ab=function(r){var e=r.children;return f.jsx("div",{className:"rmg-side-panel__footer",children:e})},qi=function(r){return r==="dark"?"primary.300":"primary.500"},wr={variants:{flushed:function(r){var e=r.theme,n=r.colorMode;return{field:{_focusVisible:{borderColor:qi(n),boxShadow:"0px 1px 0px 0px ".concat(Ht(e,qi(n)))}}}}}},Hd={defaultProps:{colorScheme:"primary"}},Ji={defaultProps:{colorScheme:"primary"}},Ud={baseStyle:{w:"100%",h:"100%","& .ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper":{height:"unset"},"& .ag-cell":{display:"flex",lineHeight:"unset",alignItems:"center"},"& .ag-cell, & .ag-header-cell":{padding:"8px 9px"},"& .ag-row, & .ag-header":{border:"unset"},"&.ag-theme-alpine .ag-row .ag-cell, &.ag-theme-alpine .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))"},"&.ag-theme-alpine-dark .ag-row .ag-cell, &.ag-theme-alpine-dark .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))"},"& .ag-pinned-left-cols-container, & .ag-pinned-left-header":{boxShadow:"var(--chakra-shadows-lg)",zIndex:1},"&.ag-theme-alpine":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #fff)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #fcfcfc)"}},"&.ag-theme-alpine-dark":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #181d1f)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #222628)"}}}},Vd={baseStyle:function(r){var e=r.colorMode,n=r.zIndex;return{display:"none","&.show-app-clip":{display:"block"},"& .rmg-app-clip__overlay":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",zIndex:n,bg:"blackAlpha.600"},"& .rmg-app-clip__container":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:n},"& .rmg-app-clip__content":{display:"flex",w:"100%",maxW:"md",my:16,bg:e==="light"?"white":"gray.700",boxShadow:"lg",borderRadius:"md",overflow:"hidden"}}},sizes:{xs:{"& .rmg-app-clip__content":{maxW:"xs"}},sm:{"& .rmg-app-clip__content":{maxW:"sm"}},lg:{"& .rmg-app-clip__content":{maxW:"lg"}},xl:{"& .rmg-app-clip__content":{maxW:"xl"}},full:{"& .rmg-app-clip__content":{maxW:"100vw",minH:"var(--chakra-vh)",my:0,borderRadius:0}}}},Wd={baseStyle:function(r){var e=r.colorMode;return{p:1,my:1,w:"100%",borderRadius:2,bg:e==="dark"?"gray.700":"gray.50",boxShadow:"lg"}}},qd={baseStyle:function(r){var e=r.colorMode;return{"& thead":{position:"sticky",top:0,zIndex:10},"& td, th":{borderRight:"1px solid",borderColor:e==="dark"?"whiteAlpha.400":"blackAlpha.200",backgroundColor:e==="dark"?"gray.700":"gray.50",whiteSpace:"nowrap","&:first-of-type":{position:"sticky",left:0,zIndex:1},"&:last-of-type":{borderRight:"none",position:"sticky",right:0,zIndex:1}}}}},Jd={baseStyle:function(){return{flexGrow:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",h:10,"& span":{maxW:"100%",textOverflow:"ellipsis",overflow:"hidden"},"& span:last-of-type":{fontWeight:"normal",fontSize:"2xs"}}}},Kd={baseStyle:{flexDirection:"column",alignItems:"center",maxH:"100%",overflowY:"auto","& .chakra-alert__icon":{w:"40px",h:"40px",mr:0},"& .chakra-alert__title":{mt:4,mb:1,fontSize:"lg"},"& .chakra-alert__desc":{w:"100%","& p":{my:1},"& details":{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"sm"}}}},Yd={baseStyle:{display:"flex",flexDirection:"column",m:1,w:"unset","& label":{overflow:"hidden",fontSize:12,mr:0,mb:-.5,whiteSpace:"nowrap",textOverflow:"ellipsis"},"&.rmg-label__one-line":{flexDirection:"row",alignItems:"center","& label:first-of-type":{mr:"auto"}}}},Zd={baseStyle:{display:"inline-flex",alignItems:"center","& > button:first-of-type":{ml:1}}},Qd={baseStyle:{w:"100%",h:"100%",position:"absolute",top:0,right:0,alignItems:"center",justifyContent:"center","& .rmg-loader__backdrop":{position:"absolute",w:"100%",h:"100%",zIndex:1500,bg:"blackAlpha.400"},"& .chakra-progress":{zIndex:2e3}}},Ye=function(r){return r==="dark"?"primary.300":"primary.500"},Xd={baseStyle:function(r){var e=r.theme,n=r.colorMode;return{"& .rmg-multi-select__wrapper":{position:"relative",w:"100%",h:"25.75px",transform:"translateY(1.75px)",cursor:"default"},"& .rmg-multi-select__field":{position:"relative",w:"100%",minW:0,outline:0,appearance:"none",transitionProperty:"common",transitionDuration:"normal",pb:"1px",fontSize:"sm",h:"6",borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_active:{borderColor:Ye(n),boxShadow:"0px 1px 0px 0px ".concat(Ht(e,Ye(n)))},_focus:{borderColor:Ye(n),boxShadow:"0px 1px 0px 0px ".concat(Ht(e,Ye(n)))},_focusVisible:{borderColor:Ye(n),boxShadow:"0px 1px 0px 0px ".concat(Ht(e,Ye(n)))},"&.active":{borderColor:Ye(n),boxShadow:"0px 1px 0px 0px ".concat(Ht(e,Ye(n)))},"& > span:last-of-type":{position:"absolute",right:8}},"& .rmg-multi-select__icon-wrapper":{display:"inline-flex",justifyContent:"center",w:6,h:"100%",position:"absolute",right:2,top:0,fontSize:"xl","& svg":{h:"1em",w:"1em"}},"& .chakra-popover__content":{w:"unset",minW:200},"& .chakra-popover__body":{p:0,"li label":{p:2,w:"100%",_hover:{bg:n==="dark"?"whiteAlpha.200":"gray.100"},_active:{bg:n==="dark"?"whiteAlpha.300":"gray.200"}}}}}},Mr=function(){return Mr=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Mr.apply(this,arguments)},eh={overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap"},th={baseStyle:function(r){var e=r.noWrap;return Mr({minH:6,fontSize:"sm"},e?eh:{textWrap:"pretty"})}},nh={baseStyle:{position:"relative",flexDirection:"column",flex:1,overflow:"hidden",background:"inherit"}},rh={baseStyle:{alignItems:"center",flexWrap:"wrap",pl:2,pr:3,py:1,zIndex:10}},ih={baseStyle:{position:"relative",background:"inherit"}},ah={baseStyle:{display:"flex",alignItems:"center",flexWrap:"wrap",position:"sticky",top:0,background:"inherit",px:2,py:1,zIndex:5}},oh={baseStyle:function(r){var e=r.colorMode,n=r.width,i=r.alwaysOverlay;return{height:"100%",position:i?"absolute":{base:"absolute",lg:"relative"},right:i?0:{base:0,lg:"unset"},background:e==="light"?"white":"gray.800",boxShadow:"lg",flexShrink:0,flexDirection:"column",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",zIndex:5,"&.show-side-panel":{maxW:{base:"100%",sm:n},w:{base:"100%",sm:"unset"},visibility:"initial"},"& .rmg-side-panel__inner":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:n}},"& .rmg-side-panel__header":{flexShrink:0,pl:3,pr:1,py:0,"& button":{ml:"auto"}},"& .rmg-side-panel__body":{display:"flex",flexDirection:"column",flex:1,overflowY:"auto",p:1},"& .rmg-side-panel__footer":{display:"flex",justifyContent:"flex-end",p:1}}}},sh={baseStyle:{h:6,alignItems:"center","& .chakra-button:first-of-type":{mr:1},"& .chakra-button:last-of-type":{ml:1}}},lh={baseStyle:{position:"relative",flexDirection:"column",height:"100%",overflow:"hidden",background:"inherit"}},uh={baseStyle:{px:2,alignItems:"center",zIndex:15,minH:10,transition:"0.3s ease-in-out"}},ch={Input:wr,Checkbox:Ji,Select:wr,Slider:Hd,Switch:Ji,Textarea:wr,RmgAgGrid:Ud,RmgAppClip:Vd,RmgCard:Wd,RmgDataTable:qd,RmgEnrichedButton:Jd,RmgErrorBoundary:Kd,RmgLabel:Yd,RmgLineBadge:Zd,RmgLoader:Qd,RmgMultiSelect:Xd,RmgOutput:th,RmgPage:nh,RmgPageHeader:rh,RmgSection:ih,RmgSectionHeader:ah,RmgSidePanel:oh,RmgThrottledSlider:sh,RmgWindow:lh,RmgWindowHeader:uh},Pr=function(){return Pr=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Pr.apply(this,arguments)},Ki="chakra-ui-color-mode",dh=function(){var r=we.getColourMode()==="system";return we.isStandaloneWindow()&&(r?window.localStorage.removeItem(Ki):window.localStorage.setItem(Ki,we.getColourMode())),{initialColorMode:"system",useSystemColorMode:r}},hh={primary:Pr({},ws.colors.teal)},ph={global:{".mw-full":{w:"100%",flexBasis:"100%"}}},fh=function(){return vs({config:dh(),colors:hh,styles:ph,components:ch})},gh=function(r){var e=r.children;return f.jsx(xs,{theme:fh(),children:f.jsx(mh,{children:e})})},mh=function(r){var e=r.children,n=Ns().setColorMode,i=Ss();return M.useEffect(function(){console.log("[rmg-components] RMG theme is initialised with",i.config),we.onColourModeChange(function(a){if(a==="system"){var o=window.matchMedia("(prefers-color-scheme: dark)").matches;n(o?"dark":"light")}else n(a)})},[n]),f.jsx(f.Fragment,{children:e})},yh=(r=>(r.RailMap="railmap",r.Platform="platform",r))(yh||{}),bh=(r=>(r.Metro="metro",r.NationalRail="nationalrail",r.LightRail="lightrail",r.Footpath="footpath",r))(bh||{}),wh=(r=>(r.APP_LOAD="APP_LOAD",r.ADD_STATION="ADD_STATION",r.ADD_LINE="ADD_LINE",r.IMPORT_RMG_PARAM="IMPORT_RMG_PARAM",r.IMPORT_WORK_FROM_GALLERY="IMPORT_WORK_FROM_GALLERY",r.DOWNLOAD_PARAM="DOWNLOAD_PARAM",r.DOWNLOAD_IMAGES="DOWNLOAD_IMAGES",r.LOAD_TUTORIAL="LOAD_TUTORIAL",r))(wh||{}),xe=(r=>(r.LOGIN_STATE="rmp__login_state",r.APP="rmp__app",r.PARAM="rmp__param",r.PARAM_BACKUP="rmp__param__backup",r.DO_NOT_SHOW_RMT_MSG="rmp__doNotShowRMTMsg",r.ACCOUNT="rmg-home__account",r))(xe||{}),J=(r=>(r.Other="other",r.Beijing="beijing",r.Berlin="berlin",r.Chongqing="chongqing",r.Chengdu="chengdu",r.Foshan="foshan",r.Guangzhou="guangzhou",r.Hongkong="hongkong",r.Kunming="kunming",r.London="london",r.Qingdao="qingdao",r.Shanghai="shanghai",r.Shenzhen="shenzhen",r.Singapore="singapore",r.Suzhou="suzhou",r.Taipei="taipei",r.Tokyo="tokyo",r))(J||{}),vh=(r=>(r.Shmetro="shmetro",r.Bjsubway="bjsubway",r))(vh||{});const xh="https://railmapgen.org/v1/subscription",ob="https://railmapgen.org/v1/randomStationNames",sb="__TAURI__"in window.parent,On={RMP_CLOUD:!1,RMP_EXPORT:!1},Nh={state:"logged-out",activeSubscriptions:On,token:void 0},oo=Xn({name:"account",initialState:Nh,reducers:{setState:(r,e)=>{r.state=e.payload},setActiveSubscriptions:(r,e)=>{r.activeSubscriptions=e.payload},setToken:(r,e)=>{r.token=e.payload}}}),{setState:Yt,setActiveSubscriptions:Mn,setToken:so}=oo.actions,Sh=oo.reducer;var H=(r=>(r.black="#000",r.white="#fff",r))(H||{});let vr={};const Ch=async(r,e)=>{if(r in vr)return vr[r];const i=await(await fetch(r,e)).json();return vr[r]=i,i},Rh=async(r,e)=>await Ch("/rmg-palette/resources/palettes/".concat(r,".json"),{signal:e}),lb=async(r,e,n)=>{const[i,a]=r;if(i==="other")return r;try{const s=(await Rh(i)).find(l=>l.id===a);return s?[i,a,s.colour,s.fg||H.white]:(console.warn("[rmg-palette] updateTheme(".concat(i,", ").concat(a,"), line does not exist, returning old theme")),r)}catch(o){throw console.error("[rmg-palette] updateTheme(".concat(i,", ").concat(a,"), unexpected error occurs"),o),o}},ub=r=>{const e=r.currentTarget.getBoundingClientRect(),n=r.clientX-e.left,i=r.clientY-e.top;return{x:n,y:i}},cb=(r,e,n,i)=>({x:r*n/100+i.x,y:e*n/100+i.y}),_h=r=>r>=1?0:(r.toString().split(".")[1]||"").replace(/0+$/,"").length,db=(r,e)=>{const n=Math.round(r/e)*e,i=Math.pow(10,_h(e));return Math.round(n*i)/i},hb=r=>{let[e,n,i,a]=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MIN_VALUE,Number.MIN_VALUE];return r.forEachNode((o,s)=>{const l=document.getElementById(o);if(l){const u=Ah(l);e=Math.min(u.x,e),n=Math.min(u.y,n),i=Math.max(u.x+u.width,i),a=Math.max(u.y+u.height,a)}}),e-=50,n-=50,i+=100,a+=100,{xMin:e,yMin:n,xMax:i,yMax:a}},pb=r=>{var e,n;return{width:((e=r.width)!=null?e:720)-40,height:((n=r.height)!=null?n:1280)-40}},fb=(r,e,n,i)=>({xMin:r.x,yMin:r.y,xMax:n*e/100+r.x,yMax:i*e/100+r.y}),gb=(r,e)=>{const{xMin:n,yMin:i,xMax:a,yMax:o}=e;if(r.a===0)return[n,a,-r.c/r.b,-r.c/r.b];if(r.b===0)return[-r.c/r.a,-r.c/r.a,i,o];{const s=-r.a/r.b,l=-r.c/r.b;return[n,a,s*n+l,s*a+l]}},Ah=r=>{const e=r.getBBox(),n=r.ownerSVGElement,i=r.parentNode.getScreenCTM().inverse().multiply(r.getScreenCTM()),a=[n.createSVGPoint(),n.createSVGPoint(),n.createSVGPoint(),n.createSVGPoint()];a[0].x=e.x,a[0].y=e.y,a[1].x=e.x+e.width,a[1].y=e.y,a[2].x=e.x+e.width,a[2].y=e.y+e.height,a[3].x=e.x,a[3].y=e.y+e.height;let[o,s,l,u]=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MIN_VALUE,Number.MIN_VALUE];return a.forEach(c=>{c=c.matrixTransform(i),o=Math.min(o,c.x),l=Math.max(l,c.x),s=Math.min(s,c.y),u=Math.max(u,c.y)}),e.x=o,e.width=l-o,e.y=s,e.height=u-s,e},mb=navigator.platform.startsWith("Mac"),Yi=async(r,e="SHA-256")=>{const i=new TextEncoder().encode(r),a=await crypto.subtle.digest(e,i);return Array.from(new Uint8Array(a)).map(s=>s.toString(16).padStart(2,"0")).join("")},yb=()=>{const r=Math.floor(Math.random()*16777215);return"#".concat(r.toString(16).padStart(6,"0"))},bb=r=>{const e=parseInt(r.slice(1,3),16),n=parseInt(r.slice(3,5),16),i=parseInt(r.slice(5,7),16);return(e*299+n*587+i*114)/1e3>=128?H.black:H.white},Eh="rmt-save-manager";var Th=(r=>(r.SAVE_CHANGED="SAVE_CHANGED",r))(Th||{});const Lh=new BroadcastChannel(Eh);let dn,hn;const kh=async r=>{if(!hn){const n=new q().export();hn=await Yi(JSON.stringify(n)),ct.debug("Default graph hash: ".concat(hn))}const e=await Yi(JSON.stringify(r));dn&&dn!==hn&&dn!==e&&(ct.debug("Notify RMP save change, hash: ".concat(e)),Lh.postMessage({type:"SAVE_CHANGED",key:xe.PARAM,from:"rmp"})),dn=e},Oh=async(r,e)=>{ct.debug("Updating token to: ".concat(e)),r.dispatch(so(e))},Mh=async(r,e)=>{const n=await fetch(xh,{headers:{accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(n.status!==200){ct.debug("Token is invalid, expiring the login state"),r(Yt("expired")),r(Mn(On));return}r(Yt("free"));const i=(await n.json()).subscriptions,a=structuredClone(On);for(const o of i){const s=o.type;s in a&&(r(Yt("subscriber")),a[s]=!0)}r(Mn(a)),ct.debug("Token is valid, setting active subscriptions: ".concat(JSON.stringify(a)))},Ph=r=>{const e=i=>{if(!i){ct.debug("Account string is empty, logging out"),r.dispatch(so(void 0)),r.dispatch(Yt("logged-out")),r.dispatch(Mn(On));return}const a=JSON.parse(i),{token:o}=a;Oh(r,o),Mh(r.dispatch,o)};let n=localStorage.getItem(xe.ACCOUNT);e(n!=null?n:void 0),window.onstorage=()=>{const i=localStorage.getItem(xe.ACCOUNT);n!==i&&(n=i,ct.debug("Account string changed to: ".concat(i)),e(i!=null?i:void 0))}},Dh="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let jh=(r=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(r|=0));for(;r--;)e+=Dh[n[r]&63];return e};var x=(r=>(r.Diagonal="diagonal",r.Perpendicular="perpendicular",r.RotatePerpendicular="ro-perp",r.Simple="simple",r))(x||{}),D=(r=>(r.SingleColor="single-color",r.ShanghaiSuburbanRailway="sh-sub-rwy",r.ShmetroVirtualInt="shmetro-virtual-int",r.GzmtrVirtualInt="gzmtr-virtual-int",r.GZMTRLoop="gzmtr-loop",r.ChinaRailway="china-railway",r.BjsubwaySingleColor="bjsubway-single-color",r.BjsubwayTram="bjsubway-tram",r.BjsubwayDotted="bjsubway-dotted",r.DualColor="dual-color",r.River="river",r.MTRRaceDays="mtr-race-days",r.MTRLightRail="mtr-light-rail",r.MTRUnpaidArea="mtr-unpaid-area",r.MTRPaidArea="mtr-paid-area",r.MRTUnderConstruction="mrt-under-constr",r.MRTSentosaExpress="mrt-sentosa-express",r.JREastSingleColor="jr-east-single-color",r.JREastSingleColorPattern="jr-east-single-color-pattern",r.LRTSingleColor="lrt-single-color",r.LondonTubeTerminal="london-tube-terminal",r.LondonTubeInternalInt="london-tube-internal-int",r.LondonTube10MinWalk="london-tube-10-min-walk",r.LondonRail="london-rail",r.LondonSandwich="london-sandwich",r.LondonLutonAirportDART="london-DART",r.LondonIFSCloudCableCar="london-dangleway",r.GuangdongIntercityRailway="gd-intercity-rwy",r.ChongqingRTLoop="chongqingrt-loop",r.ChongqingRTLineBadge="chongqingrt-line-badge",r.ChengduRTOutsideFareGates="chengdurt-outside-fare-gates",r))(D||{});const wb=new Set(["single-color","bjsubway-single-color","bjsubway-tram","bjsubway-dotted","china-railway","mtr-race-days","mtr-light-rail","mrt-under-constr","jr-east-single-color","jr-east-single-color-pattern","lrt-single-color","london-sandwich","london-DART","london-dangleway","gzmtr-loop","chongqingrt-loop","chongqingrt-line-badge"]),Bh=(r,e,n,i,a=Pn)=>{const{offset:o=Pn.offset}=a,s=Math.abs((i-n)/(e-r));if(s===1/0)return"M ".concat(r+o," ").concat(n," L ").concat(e+o," ").concat(i);if(s===0)return"M ".concat(r," ").concat(n+o," L ").concat(e," ").concat(i+o);{const l=1/s,u=o/Math.sqrt(l*l+1),c=u*l*-Math.sign((e-r)*(i-n));return"M ".concat(r+u," ").concat(n+c," L ").concat(e+u," ").concat(i+c)}},Pn={offset:0},Ih=r=>{var s;const{id:e,attrs:n,handleAttrsUpdate:i}=r,{t:a}=V(),o=[{type:"input",label:a("panel.details.lines.simple.offset"),value:((s=n.offset)!=null?s:Pn.offset).toString(),variant:"number",onChange:l=>{n.offset=Number(l),i(e,n)},minW:"full"}];return f.jsx(Z,{fields:o})},$h=f.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:f.jsx("path",{d:"M6,18L18,6",stroke:"currentColor",fill:"none"})}),zh={generatePath:Bh,icon:$h,defaultAttrs:Pn,attrsComponent:Ih,metadata:{displayName:"panel.details.lines.simple.displayName"}},vb={translateX:0,translateY:0,scale:1,rotate:0},Fh=3,Gh=1/0;var Le=(r=>(r.Virtual="virtual",r.Facilities="facilities",r.Text="text",r.I18nText="i18n-text",r.Master="master",r.ShmetroNumLineBadge="shmetro-num-line-badge",r.ShmetroTextLineBadge="shmetro-text-line-badge",r.GzmtrLineBadge="gzmtr-line-badge",r.BjsubwayNumLineBadge="bjsubway-num-line-badge",r.BjsubwayTextLineBadge="bjsubway-text-line-badge",r.SuzhouRTNumLineBadge="suzhourt-num-line-badge",r.BerlinSBahnLineBadge="berlin-s-bahn-line-badge",r.BerlinUBahnLineBadge="berlin-u-bahn-line-badge",r.ChongqingRTNumLineBadge="chongqingrt-num-line-badge",r.ChongqingRTTextLineBadge="chongqingrt-text-line-badge",r.ChongqingRTNumLineBadge2021="chongqingrt-num-line-badge-2021",r.ChongqingRTTextLineBadge2021="chongqingrt-text-line-badge-2021",r.ShenzhenMetroNumLineBadge="shenzhen-metro-num-line-badge",r.MRTDestinationNumbers="mrt-num-line-badge",r.MRTLineBadge="mrt-line-badge",r.JREastLineBadge="jr-east-line-badge",r.QingdaoMetroNumLineBadge="qingdao-metro-num-line-badge",r.GuangdongIntercityRailwayLineBadge="gd-intercity-rwy-line-badge",r.LondonArrow="london-arrow",r.ChengduRTLineBadge="chengdurt-line-badge",r.TaiPeiMetroLineBadege="taipei-metro-line-badge",r))(Le||{});const Hh="",Uh="",Vh="",Wh="",qh="",Jh="",Kh="",Yh="",Zh="",Qh="",Xh="",ep="",tp="/Language",np="",rp="",ip="",ap="",op="",sp="",lp="",up="",cp="",dp="",hp="",pp="",fp="",gp="",mp="",yp="",bp="",wp={Action:Hh,Apps:Uh,Back:Vh,"Back to list":"","Background colour":"",Black:Wh,Cancel:qh,City:Jh,Components:Kh,"Configuration file":"",Confirm:Yh,Continue:Zh,"Country/Region":"/",Copy:Qh,Done:Xh,Edit:ep,"Foreground colour":"","Go back":"",Language:tp,Justification:np,"Multi-languages":"",Name:rp,Next:ip,No:ap,OK:op,Open:sp,Palette:lp,"Please select...":"...",Previous:up,"Rail Map Announcer":"","Rail Map Generator":"","Rail Map Painter":"","Rail Map Toolkit":"",Remove:cp,Reset:dp,"RMG Templates":"RMG ","RMP Gallery":"RMP ","RMP Designer":"RMP ","Seed Project":"",Settings:hp,Submit:pp,Translate:fp,Upload:gp,Warning:mp,White:yp,Yes:bp},vp="",xp="",Np="",Sp="",Cp="",Rp="",_p="",Ap="",Ep="",Tp="",Lp="",kp="",Op="/Language",Mp="",Pp="",Dp="",jp="",Bp="",Ip="",$p="",zp="",Fp="",Gp="",Hp="",Up="",Vp="",Wp="",qp="",Jp="",Kp="",Yp={Action:vp,Apps:xp,Back:Np,"Back to list":"","Background colour":"",Black:Sp,Cancel:Cp,City:Rp,Components:_p,"Configuration file":"",Confirm:Ap,Continue:Ep,Copy:Tp,"Country/Region":"/",Done:Lp,Edit:kp,"Foreground colour":"","Go back":"",Language:Op,Justification:Mp,"Multi-languages":"",Name:Pp,Next:Dp,No:jp,OK:Bp,Open:Ip,Palette:$p,"Please select...":"...",Previous:zp,"Rail Map Announcer":"","Rail Map Generator":"","Rail Map Painter":"","Rail Map Toolkit":"",Remove:Fp,Reset:Gp,"RMG Templates":"RMG ","RMP Gallery":"RMP ","RMP Designer":"RMP ","Seed Project":"",Settings:Hp,Submit:Up,Translate:Vp,Upload:Wp,Warning:qp,White:Jp,Yes:Kp},Zp="/Language",Qp="",Xp="",ef={Language:Zp,Palette:Qp,"Rail Map Generator":"","Rail Map Painter":"","Rail Map Toolkit":"",Remove:Xp,"RMG Templates":"RMG ","RMP Gallery":"RMP ","RMP Designer":"RMP ","Rail Map Announcer":""},tf="",nf="",rf="",af="",of="",sf="",lf="",uf="",cf="",df="/Language",hf="",pf="",ff="",gf="",mf="",yf="",bf="",wf="",vf="",xf="",Nf="",Sf="",Cf="",Rf={Action:tf,Apps:nf,"Back to list":" ","Background colour":"",Black:rf,Cancel:af,City:of,Components:sf,"Configuration file":"  ",Confirm:lf,Copy:uf,"Country/Region":"/",Edit:cf,"Foreground colour":"","Go back":"",Language:df,Justification:hf,Name:pf,Next:ff,Open:gf,Palette:mf,"Please select...":"",Previous:yf,"Rail Map Generator":"  ","Rail Map Painter":"  ","Rail Map Toolkit":"  ",Remove:bf,Reset:wf,"RMG Templates":"RMG ","RMP Gallery":"RMP ","RMP Designer":"RMP ","Seed Project":" ",Settings:vf,Submit:xf,Translate:Nf,Upload:Sf,White:Cf,"Rail Map Announcer":"   "},xb={ar:{ar:"",en:"Arabic",ko:"","zh-Hans":"","zh-Hant":""},az:{az:"Azrbaycanca",en:"Azerbaijani",ko:"","zh-Hans":"","zh-Hant":""},ca:{ca:"Catal",en:"Catalan",ko:"","zh-Hans":"","zh-Hant":""},da:{da:"Dansk",en:"Danish",ko:"","zh-Hans":"","zh-Hant":""},de:{de:"Deutsch",en:"German",ko:"","zh-Hans":"","zh-Hant":""},el:{el:"",en:"Greek",ko:"","zh-Hans":"","zh-Hant":""},en:{en:"English",ja:"",ko:"","zh-Hans":"","zh-Hant":""},es:{en:"Spanish",es:"Espaol",ko:"","zh-Hans":"","zh-Hant":""},fa:{en:"Persian",fa:"",ko:"","zh-Hans":"","zh-Hant":""},fi:{en:"Finnish",fi:"Suomi","zh-Hans":"","zh-Hant":""},fr:{en:"French",fr:"Franais",ko:"","zh-Hans":"","zh-Hant":""},ga:{en:"Irish",ga:"Gaeilge",ko:"","zh-Hans":"","zh-Hant":""},gd:{en:"Scottish Gaelic",gd:"Gidhlig",ko:" ","zh-Hans":"","zh-Hant":""},he:{en:"Hebrew",he:"","zh-Hans":"","zh-Hant":""},hi:{en:"Hindi",hi:"",ko:"","zh-Hans":"","zh-Hant":""},hr:{en:"Croatian",hr:"Hrvatski","zh-Hans":"","zh-Hant":""},hu:{en:"Hungarian",hu:"Magyar",ko:"","zh-Hans":"","zh-Hant":""},id:{en:"Indoesian",id:"Bahasa Indonesia",ko:"","zh-Hans":"","zh-Hant":""},it:{en:"Italian",it:"Italiano",ko:"","zh-Hans":"","zh-Hant":""},ja:{en:"Japanese",ja:"",ko:"","zh-Hans":"","zh-Hant":""},kk:{en:"Kazakh",kk:"",ko:"","zh-Hans":"","zh-Hant":""},ko:{en:"Korean",ja:"",ko:"","zh-Hans":"","zh-Hant":""},mi:{en:"Mori",mi:"Mori","zh-Hans":"","zh-Hant":""},ms:{en:"Malay",ko:"",ms:"Bahasa Melayu","zh-Hans":"","zh-Hant":""},nl:{en:"Dutch",nl:"Nederlands","zh-Hans":"","zh-Hant":""},no:{en:"Norwegian",ko:"",no:"Norsk","zh-Hans":"","zh-Hant":""},pl:{en:"Polish",ko:"",pl:"Polski","zh-Hans":"","zh-Hant":""},pt:{en:"Portuguese",ko:"",pt:"Portugus","zh-Hans":"","zh-Hant":""},rm:{en:"Romansh",rm:"Rumantsch","zh-Hans":"","zh-Hant":""},ro:{en:"Romanian",ko:"",ro:"Romn","zh-Hans":"","zh-Hant":""},ru:{en:"Russian",ko:"",ru:"","zh-Hans":"","zh-Hant":""},sv:{en:"Swedish",ko:"",sv:"Svenska","zh-Hans":"","zh-Hant":""},ta:{en:"Tamil",ta:"","zh-Hans":"","zh-Hant":""},th:{en:"Thai",ko:"",th:"","zh-Hans":"","zh-Hant":""},tr:{en:"Turkish",ko:"",tr:"Trke","zh-Hans":"","zh-Hant":""},uk:{en:"Ukrainian",ko:"",uk:"","zh-Hans":"","zh-Hant":""},ur:{en:"Urdo",ko:"",ur:"","zh-Hans":"","zh-Hant":""},uz:{en:"Uzbek",ko:"",uz:"Ozbekcha","zh-Hans":"","zh-Hant":""},vi:{en:"Vietnamese",ko:"",vi:"Ting Vit","zh-Hans":"","zh-Hant":""},zh:{en:"Chinese",ja:"",ko:"",zh:"","zh-Hans":"","zh-Hant":""},"zh-Hans":{en:"Simplified Chinese",ja:"",ko:" ","zh-Hans":"","zh-Hant":""},"zh-Hant":{en:"Traditional Chinese",ja:"",ko:" ","zh-Hans":"","zh-Hant":""}},_f={en:{},"zh-Hans":wp,"zh-Hant":Yp,ja:ef,ko:Rf},Af="Color",Ef="Warning",Tf="Cancel",Lf="Apply",kf="Remove",Of="Close",Mf="Don't show me again",Pf="The all-in-one toolkit you definitely do not want to miss!",Df=JSON.parse('{"tools":{"showLess":"Show less","section":{"lineDrawing":"Line drawing","stations":"Stations","miscellaneousNodes":"Miscellaneous nodes"},"select":"Select","learnHowToAdd":{"station":"Learn how to add your stations!","misc-node":"Learn how to add your nodes!","line":"Learn how to add your line styles!"}},"details":{"header":"Details","info":{"title":"Basic information","id":"ID","zIndex":"Depth","stationType":"Station Type","linePathType":"Line Path Type","lineStyleType":"Line Style Type","type":"Type","parallel":"Parallel line","parallelIndex":"Parallel index"},"multipleSelection":{"title":"Multiple Selection","change":"Change selected attributes","selected":"Selected Objects:","show":"Show","station":"Stations","miscNode":"MiscNodes","edge":"Lines"},"changeStationTypeContent":"Changing station\'s type will remove all attributes from the station except its names.","changeLineTypeContent":"Changing line\'s type will remove all attributes from the line.","changeType":"Change Type","nodePosition":{"title":"Node Position","pos":{"x":"Coordinate X","y":"Coordinate Y"}},"lineExtremities":{"title":"Line Extremities","source":"Source","target":"Target","sourceName":"Source Name","targetName":"Target Name"},"specificAttrsTitle":"Specific Attributes","unknown":{"error":"Oops :( We can\'t recognize this {{category}}. Maybe it is created in a newer version.","node":"node","linePath":"line path","lineStyle":"line style"},"nodes":{"common":{"nameZh":"Line name in Chinese","nameEn":"Line name in English","nameJa":"Line name in Japanese","num":"Line number"},"virtual":{"displayName":"Virtual node"},"shmetroNumLineBadge":{"displayName":"Shanghai Metro num line badge"},"shmetroTextLineBadge":{"displayName":"Shanghai Metro text line badge"},"gzmtrLineBadge":{"displayName":"Guangzhou Metro line badge","tram":"Tram","span":"Row-spanning digits"},"bjsubwayNumLineBadge":{"displayName":"Beijing Subway num line badge"},"bjsubwayTextLineBadge":{"displayName":"Beijing Subway text line badge"},"berlinSBahnLineBadge":{"displayName":"Berlin S Bahn line badge"},"berlinUBahnLineBadge":{"displayName":"Berlin U Bahn line badge"},"suzhouRTNumLineBadge":{"displayName":"Suzhou Rail Transit num line badge","branch":"Is branch line"},"chongqingRTNumLineBadge":{"displayName":"Chongqing Rail Transit num line badge"},"chongqingRTTextLineBadge":{"displayName":"Chongqing Rail Transit text line badge"},"chongqingRTNumLineBadge2021":{"displayName":"Chongqing Rail Transit num line badge (2021)"},"chongqingRTTextLineBadge2021":{"displayName":"Chongqing Rail Transit text line badge (2021)","isRapid":"Is rapid or express train badge"},"shenzhenMetroNumLineBadge":{"displayName":"Shenzhen Metro num line badge","branch":"Is branch line"},"mrtDestinationNumbers":{"displayName":"Singapore MRT destination numbers"},"mrtLineBadge":{"displayName":"Singapore MRT line badge","isTram":"Is LRT line badge"},"jrEastLineBadge":{"displayName":"JR East line badge","crosshatchPatternFill":"Fill with crosshatch pattern"},"qingdaoMetroNumLineBadge":{"displayName":"Qingdao Metro Num line badge","numEn":"Line number in English","showText":"Show text"},"guangdongIntercityRailwayLineBadge":{"displayName":"Guangdong Intercity Railway line badge"},"londonArrow":{"displayName":"London arrow","type":"Type","continuation":"Continuation","sandwich":"Sandwich","tube":"Tube"},"chengduRTLineBadge":{"displayName":"Chengdu Rail Transit Line Badge","badgeType":{"displayName":"Type","normal":"Normal","suburban":"Suburban railway","tram":"Tram"}},"taipeiMetroLineBadge":{"displayName":"Taipei Metro line badge","tram":"Tram"},"master":{"displayName":"Master node","type":"Master node type","undefined":"Undefined"},"facilities":{"displayName":"Facilities","type":"Type","airport":"Airport","airport_2024":"Airport 2024","maglev":"Maglev","disney":"Disney","railway":"Railway","railway_2024":"Railway 2024","hsr":"High Speed Railway","airport_hk":"Airport Hongkong","disney_hk":"Disney Hongkong","ngong_ping_360":"Ngong Ping 360","tiananmen":"Tiananmen","airport_bj":"Airport Beijing","bus_terminal_suzhou":"Bus Terminal Suzhou","railway_suzhou":"Railway Suzhou","bus_interchange":"Bus Interchange","airport_sg":"Changi Airport","cruise_centre":"Cruise Centre","sentosa_express":"Sentosa Express","cable_car":"Cable Car","merlion":"Merlion","marina_bay_sands":"Marina Bay Sands","gardens_by_the_bay":"Gardens by the Bay","singapore_flyer":"Singapore Flyer","esplanade":"Esplanade","airport_qingdao":"Airport Qingdao","railway_qingdao":"Railway Qingdao","coach_station_qingdao":"Coach Station Qingdao","cruise_terminal_qingdao":"Cruise Terminal Qingdao","tram_qingdao":"Tram Qingdao","airport_guangzhou":"Airport Guangzhou","railway_guangzhou":"Railway Guangzhou","intercity_guangzhou":"Intercity Guangzhou","river_craft":"River services interchange","airport_london":"Airport London","coach_station_london":"Victoria Coach Station","airport_chongqing":"Airport Chongqing","railway_chongqing":"Railway Chongqing","coach_station_chongqing":"Coach Station Chongqing","bus_station_chongqing":"Bus Station Chongqing","shipping_station_chongqing":"Shipping Station Chongqing","airport_chengdu":"Airport Chengdu","railway_chengdu":"Railway Chengdu","railway_taiwan":"Railway Taiwan","hsr_taiwan":"High Speed Railway Taiwan"},"text":{"displayName":"Arbitrary text","content":"Content","fontSize":"Font size","lineHeight":"Line height","textAnchor":"Text anchor","start":"Start","middle":"Middle","end":"End","auto":"Auto","hanging":"Hanging","dominantBaseline":"Dominant baseline","language":"Font family in which language","zh":"Chinese","en":"English","mtr__zh":"Hongkong MTR Chinese","mtr__en":"Hongkong MTR English","berlin":"Berlin S/U Bahn","mrt":"Singapore MRT","jreast_ja":"JR East Japanese","jreast_en":"JR East English","tokyo_en":"Tokyo Metro English","tube":"London Underground","rotate":"Rotation","italic":"Italic","bold":"Bold","outline":"Outline"}},"stations":{"common":{"nameZh":"Names in Chinese","nameEn":"Names in English","nameJa":"Names in Japanese","nameOffsetX":"Names offset X","nameOffsetY":"Names offset Y","rotate":"Icon rotation","lineCode":"Line code","stationCode":"Station code","left":"Left","middle":"Middle","right":"Right","top":"Top","bottom":"Bottom"},"interchange":{"title":"Interchanges","within":"Within-station interchange","outStation":"Out-of-station interchange","outSystem":"Out-of-system interchange","addGroup":"Add interchange group","noInterchanges":"No interchanges","nameZh":"Chinese name","nameEn":"English name","add":"Add interchange","copy":"Copy interchange","remove":"Remove interchange"},"shmetroBasic":{"displayName":"Shanghai Metro basic station"},"shmetroBasic2020":{"displayName":"Shanghai Metro basic station (2020)"},"shmetroInt":{"displayName":"Shanghai Metro interchange station","height":"Icon height","width":"Icon width"},"shmetroOsysi":{"displayName":"Shanghai Metro out-of-system interchange station"},"shanghaiSuburbanRailway":{"displayName":"Shanghai Suburban Railway station"},"gzmtrBasic":{"displayName":"Guangzhou Metro basic station","open":"Is opened","secondaryNameZh":"Secondary name in Chinese","secondaryNameEn":"Secondary name in English","tram":"Tram"},"gzmtrInt":{"displayName":"Guangzhou Metro interchange station","open":"Is opened","secondaryNameZh":"Secondary name in Chinese","secondaryNameEn":"Secondary name in English","foshan":"Foshan"},"gzmtrInt2024":{"displayName":"Guangzhou Metro interchange station (2024)","columns":"Columns of stations","topHeavy":"Prefer more stations on the top row","anchorAt":"Anchor at","anchorAtNone":"Center","osiPosition":"Out-of-Station Interchange","osiPositionNone":"None","osiPositionLeft":"Left","osiPositionRight":"Right"},"bjsubwayBasic":{"displayName":"Beijing Subway basic station","open":"Is opened"},"bjsubwayInt":{"displayName":"Beijing Subway interchange station","outOfStation":"Out of station interchange"},"mtr":{"displayName":"Hongkong MTR station","rotate":"Icon rotation"},"suzhouRTBasic":{"displayName":"Suzhou Rail Transit basic station","textVertical":"Vertical names"},"suzhouRTInt":{"displayName":"Suzhou Rail Transit interchange station"},"kunmingRTBasic":{"displayName":"Kunming Rail Transit basic station"},"kunmingRTInt":{"displayName":"Kunming Rail Transit interchange station"},"MRTBasic":{"displayName":"Singapore MRT basic station","isTram":"Is LRT station"},"MRTInt":{"displayName":"Singapore MRT interchange station"},"jrEastBasic":{"displayName":"JR East basic station","nameOffset":"Names offset","textOneLine":"Names in one line","textVertical":"Vertical names","important":"Important station","lines":"Interchange lines offset"},"jrEastImportant":{"displayName":"JR East important station","textVertical":"Vertical names","mostImportant":"Most important station","minLength":"Minimal length of the station"},"foshanMetroBasic":{"displayName":"Foshan Metro basic station","open":"Is opened","secondaryNameZh":"Secondary name in Chinese","secondaryNameEn":"Secondary name in English","tram":"Tram"},"qingdaoMetro":{"displayName":"Qingdao Metro station","isInt":"Is interchange station"},"tokyoMetroBasic":{"displayName":"Tokyo Metro basic station","nameOffset":"Names offset","textVertical":"Vertical names"},"tokyoMetroInt":{"displayName":"Tokyo Metro interchange station","mereOffset":{"displayName":"Names mere offset","none":"None","left1":"Left (less)","left2":"Left (more)","right1":"Right (less)","right2":"Right (more)","up":"Up","down":"Down"},"importance":{"displayName":"Station importance","default":"Default","middle":"Middle","high":"High"},"align":{"displayName":"Icon align","horizontal":"Horizontal","vertical":"Vertical"}},"londonTubeCommon":{"stepFreeAccess":"Step free access","stepFreeAccessNone":"None","stepFreeAccessTrain":"From street to train","stepFreeAccessPlatform":"From street to platform"},"londonTubeBasic":{"displayName":"London Underground basic station","terminal":"Terminal station","terminalNameRotate":"Terminal station name rotation","shareTracks":"Track shares","shareTracksIndex":"Index of the track shares"},"londonTubeInt":{"displayName":"London Underground interchange station"},"londonRiverServicesInt":{"displayName":"London river services interchange station"},"guangdongIntercityRailway":{"displayName":"Guangdong Intercity Railway station"},"chongqingRTBasic":{"displayName":"Chongqing Rail Transit basic station","isLoop":"Loop line station"},"chongqingRTInt":{"displayName":"Chongqing Rail Transit interchange station","textDistance":{"x":"Text distance X","y":"Text distance Y","near":"near","far":"far"}},"chongqingRTBasic2021":{"displayName":"Chongqing Rail Transit basic station (2021)","open":"Is opened"},"chongqingRTInt2021":{"displayName":"Chongqing Rail Transit interchange station (2021)","isRapid":"Is rapid or express train station","isWide":"Is a wide station","wideDirection":{"displayName":"Direction","vertical":"Vertical","horizontal":"Horizontal"}},"chengduRTBasic":{"displayName":"Chengdu Rail Transit basic station","isVertical":"Is vertical station","stationType":{"displayName":"Station type","normal":"Normal","branchTerminal":"Branch terminal","joint":"Joint transfer station","tram":"Tram station"}},"chengduRTInt":{"displayName":"Chengdu Rail Transit interchange station"}},"lines":{"reconcileId":"Reconcile ID","common":{"offsetFrom":"Offset From","offsetTo":"Offset To","startFrom":"Start From","from":"From","to":"To","roundCornerFactor":"Round Corner Factor","parallelDisabled":"Some attributes are disabled as this line is parallel.","changeInBaseLine":"Change them in the base line:"},"simple":{"displayName":"Simple path","offset":"Offset"},"diagonal":{"displayName":"135 diagonal path"},"perpendicular":{"displayName":"90 perpendicular path"},"rotatePerpendicular":{"displayName":"90 rotate perpendicular path"},"singleColor":{"displayName":"Single color style"},"shmetroVirtualInt":{"displayName":"Shanghai Metro out-of-station interchange style"},"shanghaiSuburbanRailway":{"displayName":"Shanghai Suburban Railway style","isEnd":"Is the ending line"},"gzmtrVirtualInt":{"displayName":"Guangzhou Metro out-of-station interchange style"},"gzmtrLoop":{"displayName":"Guangzhou Metro loop style"},"chinaRailway":{"displayName":"China Railway style"},"bjsubwaySingleColor":{"displayName":"Beijing Subway single color style"},"bjsubwayTram":{"displayName":"Beijing Subway tram style"},"bjsubwayDotted":{"displayName":"Beijing Subway dotted style"},"dualColor":{"displayName":"Dual color style","swap":"Swap color","colorA":"Color A","colorB":"Color B"},"river":{"displayName":"River style","width":"Width"},"mtrRaceDays":{"displayName":"Hongkong MTR race days style"},"mtrLightRail":{"displayName":"Hongkong MTR light rail style"},"mtrUnpaidArea":{"displayName":"Hongkong MTR unpaid area style"},"mtrPaidArea":{"displayName":"Hongkong MTR paid area style"},"mrtUnderConstruction":{"displayName":"Singapore MRT under construction style"},"mrtSentosaExpress":{"displayName":"Singapore MRT Sentosa Express style"},"jrEastSingleColor":{"displayName":"JR East single color style"},"jrEastSingleColorPattern":{"displayName":"JR East single color filled with crosshatch pattern style"},"lrtSingleColor":{"displayName":"Singapore LRT single color style"},"londonTubeInternalInt":{"displayName":"London Underground internal interchange style"},"londonTube10MinWalk":{"displayName":"London Underground under a 10 minute walk interchange style"},"londonTubeTerminal":{"displayName":"London Underground terminal style"},"londonRail":{"displayName":"London rail style","limitedService":"Limited service/Peak hours only","colorBackground":"Color background","colorForeground":"Color foreground"},"londonSandwich":{"displayName":"London sandwich style"},"londonLutonAirportDART":{"displayName":"London Luton Airport DART style"},"londonIFSCloudCableCar":{"displayName":"London IFS Cloud Cable Car style"},"guangdongIntercityRailway":{"displayName":"Guangdong Intercity Railway style"},"chongqingRTLineBadge":{"displayName":"Chongqing Rail Transit line badge style"},"chongqingRTLoop":{"displayName":"Chongqing Rail Transit loop line style"},"chengduRTOutsideFareGates":{"displayName":"Chengdu Rail Transit outside fare gates transfer style"}},"edge":{},"footer":{"duplicate":"Duplicate","copy":"Copy","remove":"Remove"}}}'),jf={popoverHeader:"You're on <1>{{environment}}</1> environment!",popoverBody:"We are currently testing the latest RMP. If you have any suggestions, feel free to raise at https://github.com/railmapgen/rmp/issues",search:"Search stations",open:{new:"New project",config:"Import project",projectRMG:"Import from RMG project",invalidType:"Invalid file type! Only file in JSON format is accepted.",unknownError:"Unknown error occurred while parsing the uploaded file! Please try again.",gallery:"Import from Gallery",tutorial:"Start tutorial",importFromRMPGallery:"Template {{id}} imported. Not satisfied with this change? Undo via Ctrl + Z or the undo button.",failToImportFromRMPGallery:"Fail to import {{id}} from the gallery. The file can not be found."},download:{config:"Export project",image:"Export image","2rmg":{title:"Export to RMG project",type:{line:"Line",loop:"Loop",branch:"Branch"},placeholder:{chinese:"Chinese name",english:"English name",lineCode:"Line code"},info1:"This function is designed to convert the RMP project into RMG projects.",info2:"The lines in the list following are the available lines for converting. You can enter the Chinese line name in the text box on the left, the English line name in the middle, the line code (for Guangzhou Metro style) on the right, and then click the download button on the right to save your RMG projects.",noline:"No available lines found.",download:"Download",downloadInfo:"Please select one of the following stations as the starting station and click it to download."},format:"Format",png:"PNG",svg:"SVG",svgVersion:"Version","svg1.1":"1.1 (Compatible with Adobe Illustrator)",svg2:"2 (Compatible with modern browsers)",transparent:"Transparency",scale:"Scale",disabledScaleOptions:"Image too large for this browser.",disabledScaleOptionsSolution:"Subscribe and download our desktop app to render large images.",imageTooBig:"The image is too big for your browser to generate!",isSystemFontsOnly:"Use system font only (font display may vary).",shareInfo1:"I will attach ",shareInfo2:" and its link when I share this image.",termsAndConditions:"Terms and Conditions",termsAndConditionsInfo:"I agree to ",period:".",confirm:"Download"},donation:{title:"Donation",openCollective:"Open Collective",viaUSD:"Donate in USD via Paypal or Visa card.",afdian:"",viaCNY:"Donate in CNY via Alipay or Wechat Pay."},settings:{title:"Settings",pro:"This is a PRO feature and an account with a subscription is required.",proWithTrial:"This is a PRO feature with a limited free trial available.",proLimitExceed:{master:"Master nodes exceed the free tier.",parallel:"Parallel lines exceed the free tier.",solution:"Remove them to dismiss this warning, or subscribe to unlock more!"},status:{title:"Status",count:{stations:"Stations count:",miscNodes:"Miscellaneous nodes count:",lines:"Lines count:",masters:"Master nodes count:",parallel:"Parallel lines count:"},subscription:{content:"Subscription:","logged-out":"You are currently logged out.",free:"Logged In! Subscribe to unlock more features!",subscriber:"Thanks for your subscription! Enjoy all features!",expired:"Login status expired. Please log out and log in again."}},preference:{title:"Preference",keepLastPath:"Keep drawing lines until clicking on the background in the next move",autoParallel:"Automatically set new lines to be parallel to existing lines",randomStationNames:{title:"Set station names to random on creation",none:"None",shmetro:"Shanghai",bjsubway:"Beijing"},gridline:"Show grid guide lines",snapline:"Auto snapping to the guide lines and points"},shortcuts:{title:"Shortcuts",keys:"Keys",description:"Description",f:"Use the last tool.",s:"Marquee selection.",arrows:"Move the canvas a little bit.",ijkl:"Move the selected station(s) a little bit.",shift:"Multiple selection.",alt:"Hold down while dragging to temporarily disable auto-snapping.",delete:"Delete the selected station(s).",cut:"Cut.",copy:"Copy.",paste:"Paste.",undo:"Undo.",redo:"Redo."},procedures:{title:"Procedures",translate:{title:"Translate nodes' coordinates",content:"Add the following offset to all nodes' x and y:",x:"X axis",y:"Y axis"},scale:{title:"Scale nodes' coordinates",content:"Multiply the following value to all nodes' x and y:",factor:"Scale factor"},changeType:{title:"Change all objects' attributes",any:"Any"},changeZIndex:"Change depth in batch",changeStationType:{title:"Change stations type in batch",changeFrom:"Change all stations from this type:",changeTo:"To this type:",info:"Changing stations' type will remove all specific attributes from stations except their position and names. SAVE BEFORE CHANGE!"},changeLineStyleType:{title:"Change lines style in batch",changeFrom:"Change all lines from this style:",changeTo:"To this style:",info:"Changing lines' style will remove all specific attributes from lines except their connections. SAVE BEFORE CHANGE!"},changeLinePathType:{title:"Change lines path in batch",changeFrom:"Change all lines from this path:",changeTo:"To this path:"},changeColor:{title:"Change color in batch",changeFrom:"Change all objects from this color:",changeTo:"To this color:",any:"From any color"},removeLines:{title:"Remove lines with single color",content:"Remove lines that have this color: "},updateColor:{title:"Update color",content:"Update all colors with their latest value.",success:"Successfully update all colors.",error:"Error in updating all colors: {{e}}."},unlockSimplePath:{title:"Unlock simple path",content1:"The Rail Map Painter application endeavors to offer an interactive platform conducive to the creation of rail maps while adhering to established conventions. Among these conventions, one particularly renowned style finds its origins in the innovative work of Harry Beck. His pioneering contribution, officially endorsed in the year 1932, garnered instantaneous acclaim from the general populace. Presently, it stands as an exemplar of paramount significance within the realm of information design. This paradigmatic approach has found widespread implementation in transit cartography on a global scale, albeit with varying degrees of success.",content2:"The application inherently conceals the option to utilize a simple path, as its deployment has the potential to contravene established conventions. This particular feature remains discreetly tucked away by default. Additionally, submissions to the Rail Map Painter Gallery are subject to stringent scrutiny, with a categorical rejection of compositions that employ the simple path with a single color style approach.",content3:"Still, we reserve the opportunity to unlock this option and use the simple path when you subscribe. It should be noted that even after acquisition, the use of simple path is limited to single color.",check:"Unlock",unlocked:"Already Unlocked"},masterManager:{title:"Manage all master nodes",id:"Id",label:"Label",type:"Type",types:{MiscNode:"MiscNode",Station:"Station"},importTitle:"Upload master parameter",importFrom:"Use imported styles",importOther:"Import new style",importParam:"Paste configuration"}},telemetry:{title:"Telemetry",info:"To help improve Rail Map Painter and keep contributors motivated to enhance the project, anonymous usage data is collected through Google Analytics. This data is used solely for enhancing the user experience and optimizing the tool's functionality and is never shared with third parties.",essential:"Basic",essentialTooltip:"Change this global setting in Rail Map Toolkit",essentialInfo:"Rail Map Painter collects essential usage data that helps us understand how and when users interact with the tool. Rest assured, no personally identifiable information or data from your projects is ever collected.",essentialLink:"Click this link to see detailed fields that Google Analytics may collect.",additional:"Additional",additionalInfo:"Rail Map Painter also gathers data on interactions, such as project creation or station addition, when you input. These additional data is also anonymous and are only used for statistical analysis to help us make the tool better."}},about:{title:"About",rmp:"Rail Map Painter",railmapgen:"A Rail Map Toolkit project",desc:"Design your own rail map by freely dragging stations from different cities and connecting them with 90 or 135-degree rounded corners lines!",content1:"In memory of all the freedom and equality we once had.",content2:"06/01/2022 in Shanghai",contributors:"Contributors",coreContributors:"Core Contributors",styleContributors:"Style Contributors",langonginc:"Live a life you will remember.","203IhzElttil":"Special thanks for his diligent work in ensuring that the stations of Shanghai Metro match the original design.",Swiftiecott:"Special thanks for his diligent work in ensuring that the stations of Beijing Subway match the original design.",Minwtraft:"Special thanks for his diligent work in ensuring that the stations of Guangzhou Metro match the original design.",contactUs:"Contact Us",github:"Project repository",githubContent:"Face any problems? Search or raise an issue here!",slack:"Slack group",slackContent:"Chat in these Slack channels!"}},Bf={color:Af,warning:Ef,cancel:Tf,apply:Lf,remove:kf,close:Of,noShowAgain:Mf,rmtPromotion:Pf,panel:Df,header:jf},If="Color A",$f="Color B",zf="",Ff="",Gf="",Hf="",Uf="",Vf="",Wf="",qf="",Jf=JSON.parse('{"tools":{"showLess":"","section":{"lineDrawing":"","stations":"","miscellaneousNodes":""},"select":"","learnHowToAdd":{"station":"","misc-node":"","line":""}},"details":{"header":"","info":{"title":"","id":"ID","zIndex":"","stationType":"","linePathType":"","lineStyleType":"","type":"","parallel":"","parallelIndex":""},"multipleSelection":{"title":"","change":"","selected":":","show":"","station":"","miscNode":"","edge":""},"changeStationTypeContent":"","changeLineTypeContent":"","changeType":"","nodePosition":{"title":"","pos":{"x":"X","y":"Y"}},"lineExtremities":{"title":"","source":"","target":"","sourceName":"","targetName":""},"specificAttrsTitle":"","unknown":{"error":" :( {{category}}","node":"","linePath":"","lineStyle":""},"nodes":{"common":{"nameZh":"","nameEn":"","nameJa":"","num":""},"virtual":{"displayName":""},"shmetroNumLineBadge":{"displayName":""},"shmetroTextLineBadge":{"displayName":""},"gzmtrLineBadge":{"displayName":"","tram":"","span":""},"bjsubwayNumLineBadge":{"displayName":""},"bjsubwayTextLineBadge":{"displayName":""},"berlinSBahnLineBadge":{"displayName":"S"},"berlinUBahnLineBadge":{"displayName":""},"suzhouRTNumLineBadge":{"displayName":"","branch":""},"chongqingRTNumLineBadge":{"displayName":""},"chongqingRTTextLineBadge":{"displayName":""},"chongqingRTNumLineBadge2021":{"displayName":"3"},"chongqingRTTextLineBadge2021":{"displayName":"3","isRapid":"/"},"shenzhenMetroNumLineBadge":{"displayName":"","branch":""},"mrtDestinationNumbers":{"displayName":"MRT"},"mrtLineBadge":{"displayName":"MRT","isTram":""},"jrEastLineBadge":{"displayName":"JR","crosshatchPatternFill":""},"qingdaoMetroNumLineBadge":{"displayName":"","numEn":"","showText":""},"guangdongIntercityRailwayLineBadge":{"displayName":""},"londonArrow":{"displayName":"","type":"","continuation":"","sandwich":"","tube":""},"chengduRTLineBadge":{"displayName":"","badgeType":{"displayName":"","normal":"","suburban":"","tram":""}},"taipeiMetroLineBadge":{"displayName":"","tram":""},"master":{"displayName":"","type":"","undefined":""},"facilities":{"displayName":"","type":"","airport":"","airport_2024":" 2024","maglev":"","disney":"","railway":"","railway_2024":" 2024","hsr":"","airport_hk":"","disney_hk":"","ngong_ping_360":"360","tiananmen":"","airport_bj":"","bus_terminal_suzhou":"","railway_suzhou":"","bus_interchange":"","airport_sg":"","cruise_centre":"","sentosa_express":"","cable_car":"","merlion":"","marina_bay_sands":"","gardens_by_the_bay":"","singapore_flyer":"","esplanade":"","airport_qingdao":"","railway_qingdao":"","coach_station_qingdao":"","cruise_terminal_qingdao":"","tram_qingdao":"","airport_guangzhou":"","railway_guangzhou":"","intercity_guangzhou":"","river_craft":"","airport_london":"","coach_station_london":"","airport_chongqing":"","railway_chongqing":"","coach_station_chongqing":"","bus_station_chongqing":"","shipping_station_chongqing":"","airport_chengdu":"","railway_chengdu":"","railway_taiwan":"","hsr_taiwan":""},"text":{"displayName":"","content":"","fontSize":"","lineHeight":"","textAnchor":"","start":"","middle":"","end":"","auto":"","hanging":"","dominantBaseline":"","language":"","zh":"","en":"","mtr__zh":"MTR","mtr__en":"MTR","berlin":"S/U","mrt":"MRT","jreast_ja":"JR","jreast_en":"JR","tokyo_en":"","tube":"","rotate":"","italic":"","bold":"","outline":""}},"stations":{"common":{"nameZh":"","nameEn":"","nameJa":"","nameOffsetX":"X","nameOffsetY":"Y","rotate":"","lineCode":"","stationCode":"","left":"","middle":"","right":"","top":"","bottom":""},"interchange":{"title":"","within":"","outStation":"","outSystem":"","addGroup":"","noInterchanges":"","nameZh":"","nameEn":"","add":"","copy":"","remove":""},"shmetroBasic":{"displayName":""},"shmetroBasic2020":{"displayName":"2"},"shmetroInt":{"displayName":"","height":"","width":""},"shmetroOsysi":{"displayName":""},"shanghaiSuburbanRailway":{"displayName":""},"gzmtrBasic":{"displayName":"","open":"","secondaryNameZh":"","secondaryNameEn":"","tram":""},"gzmtrInt":{"displayName":"","open":"","secondaryNameZh":"","secondaryNameEn":"","foshan":""},"gzmtrInt2024":{"displayName":"6","columns":"","topHeavy":"","anchorAt":"","anchorAtNone":"","osiPosition":"","osiPositionNone":"","osiPositionLeft":"","osiPositionRight":""},"bjsubwayBasic":{"displayName":"","open":""},"bjsubwayInt":{"displayName":"","outOfStation":""},"mtr":{"displayName":"MTR","rotate":""},"suzhouRTBasic":{"displayName":"","textVertical":""},"suzhouRTInt":{"displayName":""},"kunmingRTBasic":{"displayName":""},"kunmingRTInt":{"displayName":""},"MRTBasic":{"displayName":"MRT","isTram":""},"MRTInt":{"displayName":"MRT"},"jrEastBasic":{"displayName":"JR","nameOffset":"","textOneLine":"1","textVertical":"","important":"","lines":""},"jrEastImportant":{"displayName":"JR","textVertical":"","mostImportant":"","minLength":""},"foshanMetroBasic":{"displayName":"","open":"","secondaryNameZh":"","secondaryNameEn":"","tram":""},"qingdaoMetro":{"displayName":"","isInt":""},"tokyoMetroBasic":{"displayName":"","nameOffset":"","textVertical":""},"tokyoMetroInt":{"displayName":"","mereOffset":{"displayName":"","none":"","left1":"","left2":"","right1":"","right2":"","up":"","down":""},"importance":{"displayName":"","default":"","middle":"","high":""},"align":{"displayName":"","horizontal":"","vertical":""}},"londonTubeCommon":{"stepFreeAccess":"","stepFreeAccessNone":"","stepFreeAccessTrain":"","stepFreeAccessPlatform":""},"londonTubeBasic":{"displayName":"","terminal":"","terminalNameRotate":"","shareTracks":"","shareTracksIndex":""},"londonTubeInt":{"displayName":""},"londonRiverServicesInt":{"displayName":""},"guangdongIntercityRailway":{"displayName":""},"chongqingRTBasic":{"displayName":"","isLoop":""},"chongqingRTInt":{"displayName":"","textDistance":{"x":"","y":"","near":"","far":""}},"chongqingRTBasic2021":{"displayName":"3","open":""},"chongqingRTInt2021":{"displayName":"3","isRapid":"/","isWide":"","wideDirection":{"displayName":"","vertical":"","horizontal":""}},"chengduRTBasic":{"displayName":"","isVertical":"","stationType":{"displayName":"","normal":"","branchTerminal":"","joint":"","tram":""}},"chengduRTInt":{"displayName":""}},"lines":{"reconcileId":"ID","common":{"offsetFrom":"From","offsetTo":"To","startFrom":"","roundCornerFactor":"","from":"","to":"","parallelDisabled":"","changeInBaseLine":""},"simple":{"displayName":"","offset":""},"diagonal":{"displayName":"135"},"perpendicular":{"displayName":"90"},"rotatePerpendicular":{"displayName":"90"},"singleColor":{"displayName":""},"shmetroVirtualInt":{"displayName":""},"shanghaiSuburbanRailway":{"displayName":"","isEnd":""},"gzmtrVirtualInt":{"displayName":""},"gzmtrLoop":{"displayName":""},"chinaRailway":{"displayName":""},"bjsubwaySingleColor":{"displayName":""},"bjsubwayTram":{"displayName":""},"bjsubwayDotted":{"displayName":""},"dualColor":{"displayName":"2","swap":"","colorA":"A","colorB":"B"},"river":{"displayName":"","width":""},"mtrRaceDays":{"displayName":"MTR"},"mtrLightRail":{"displayName":"MTR"},"mtrUnpaidArea":{"displayName":"MTR"},"mtrPaidArea":{"displayName":"MTR"},"mrtUnderConstruction":{"displayName":" MRT "},"mrtSentosaExpress":{"displayName":" MRT "},"jrEastSingleColor":{"displayName":"JR"},"jrEastSingleColorPattern":{"displayName":"JR"},"lrtSingleColor":{"displayName":"LRT"},"londonTubeInternalInt":{"displayName":""},"londonTube10MinWalk":{"displayName":"10"},"londonTubeTerminal":{"displayName":""},"londonRail":{"displayName":"","limitedService":"/","colorBackground":"","colorForeground":""},"londonSandwich":{"displayName":""},"londonLutonAirportDART":{"displayName":"DART"},"londonIFSCloudCableCar":{"displayName":"IF"},"guangdongIntercityRailway":{"displayName":""},"chongqingRTLineBadge":{"displayName":""},"chongqingRTLoop":{"displayName":""},"chengduRTOutsideFareGates":{"displayName":""}},"edges":{},"footer":{"duplicate":"","copy":"","remove":""}}}'),Kf={popoverHeader:"<1>{{environment}}</1> ",popoverBody:"RMPhttps://github.com/railmapgen/rmp/issues ",search:"",open:{new:"",config:"",projectRMG:"RMG",invalidType:"JSON",unknownError:"",gallery:"",tutorial:"",importFromRMPGallery:"{{id}}Ctrl + Z",failToImportFromRMPGallery:"{{id}}"},download:{config:"",image:"","2rmg":{title:"RMG",type:{line:"",loop:"",branch:""},placeholder:{chinese:"",english:"",lineCode:""},info1:"RMPRMG",info2:"RMG",noline:"",download:"",downloadInfo:""},format:"",png:"PNG",svg:"SVG",svgVersion:"","svg1.1":"1.1Adobe Illustrator",svg2:"2",transparent:"",scale:"",disabledScaleOptions:"",disabledScaleOptionsSolution:"",imageTooBig:"",isSystemFontsOnly:"",shareInfo1:" ",shareInfo2:" ",termsAndConditions:"",termsAndConditionsInfo:"",period:"",confirm:""},donation:{title:"",openCollective:"Open Collective",viaUSD:"PaypalVisa",afdian:"",viaCNY:"AlipayWechat Pay"},settings:{title:"",pro:"PRO",proWithTrial:"PRO",proLimitExceed:{master:"",parallel:"",solution:""},status:{title:"",count:{stations:"",miscNodes:"",lines:"",masters:"",parallel:""},subscription:{content:"","logged-out":"",free:"",subscriber:"",expired:""}},preference:{title:"",keepLastPath:"",autoParallel:"",randomStationNames:{title:"",none:"",shmetro:"",bjsubway:""},gridline:"",snapline:""},shortcuts:{title:"",keys:"",description:"",f:"",s:"",arrows:"",ijkl:"",shift:"",alt:"",delete:"",cut:"",copy:"",paste:"",undo:"",redo:""},procedures:{title:"",translate:{title:"",content:"XY",x:"X",y:"Y"},scale:{title:"",content:"XY",factor:""},changeType:{title:"",any:""},changeZIndex:"",changeStationType:{title:"",changeFrom:"",changeTo:"",info:""},changeLineStyleType:{title:"",changeFrom:"",changeTo:"",info:" "},changeLinePathType:{title:"",changeFrom:":",changeTo:":"},changeColor:{title:"",changeFrom:":",changeTo:":",any:""},removeLines:{title:"",content:""},updateColor:{title:"",content:"",success:"",error:": {{e}}"},unlockSimplePath:{title:"",content1:"11932",content2:"",content3:" ",check:"",unlocked:""},masterManager:{title:"",id:"ID",label:"",type:"",types:{MiscNode:"",Station:""},importTitle:"",importFrom:"",importOther:"",importParam:""}},telemetry:{title:"",info:"Google Analytics ",essential:"",essentialTooltip:"",essentialInfo:"",essentialLink:"Google Analytics ",additional:"",additionalInfo:""}},about:{title:"",rmp:"",railmapgen:"",desc:"90135",content1:"",content2:"202261",contributors:"",coreContributors:"",styleContributors:"","203IhzElttil":"",Swiftiecott:"",Minwtraft:"",contactUs:"",github:"",githubContent:"",slack:"Slack",slackContent:"Slack"}},Yf={colorA:If,colorB:$f,color:zf,warning:Ff,cancel:Gf,apply:Hf,remove:Uf,close:Vf,noShowAgain:Wf,rmtPromotion:qf,panel:Jf,header:Kf},Zf="",Qf="",Xf="",eg="",tg="",ng="",rg=" ",ig="    ! .",ag=JSON.parse('{"tools":{"showLess":" ","section":{"lineDrawing":" ","stations":"","miscellaneousNodes":" "},"select":"","learnHowToAdd":{"station":"   !","misc-node":"   !","line":"    !"}},"details":{"header":" ","info":{"title":"","id":" ","zIndex":"","stationType":" ","linePathType":"  ","lineStyleType":"  ","type":"","parallel":"","parallelIndex":" "},"multipleSelection":{"title":" ","change":"  ","selected":" :","show":"","station":"","miscNode":" ","edge":""},"changeStationTypeContent":"        .","changeLineTypeContent":"      .","changeType":" ","nodePosition":{"title":" ","pos":{"x":" ","y":" "}},"lineExtremities":{"title":" ","source":"","target":"","sourceName":" ","targetName":" "},"specificAttrsTitle":" ","unknown":{"error":" :(   {{category}}   .      .","node":"","lineType":" ","lineStyle":" "},"nodes":{"common":{"nameZh":" ","nameEn":" ","nameJa":" ","num":" "},"virtual":{"displayName":" "},"shmetroNumLineBadge":{"displayName":"    "},"shmetroTextLineBadge":{"displayName":"    "},"gzmtrLineBadge":{"displayName":"   ","tram":" ","span":"  "},"bjsubwayNumLineBadge":{"displayName":"   "},"bjsubwayTextLineBadge":{"displayName":"    "},"berlinSBahnLineBadge":{"displayName":" S  "},"berlinUBahnLineBadge":{"displayName":" U  "},"suzhouRTNumLineBadge":{"displayName":"    ","branch":""},"chongqingRTNumLineBadge":{"displayName":"     "},"chongqingRTTextLineBadge":{"displayName":"     "},"chongqingRTNumLineBadge2021":{"displayName":"      (2021)"},"chongqingRTTextLineBadge2021":{"displayName":"      (2021)","isRapid":" /   "},"shenzhenMetroNumLineBadge":{"displayName":"    ","branch":""},"mrtDestinationNumbers":{"displayName":" MRT  "},"mrtLineBadge":{"displayName":" MRT  ","isTram":"LRT  "},"jrEastLineBadge":{"displayName":"JR   ","crosshatchPatternFill":"  "},"qingdaoMetroNumLineBadge":{"displayName":"    ","numEn":"   ","showText":" "},"guangdongIntercityRailwayLineBadge":{"displayName":"    "},"londonArrow":{"displayName":" ","type":"","continuation":"","sandwich":"","tube":""},"chengduRTLineBadge":{"displayName":"   ","badgeType":{"displayName":"","normal":"","suburban":" ","tram":" "}},"taipeiMetroLineBadge":{"displayName":"   ","tram":""},"master":{"displayName":" ","type":"  ","undefined":" "},"facilities":{"displayName":"","type":"","airport":"","airport_2024":" 2024","maglev":"","disney":"","railway":"","railway_2024":" 2024","hsr":" (HSR)","airport_hk":" ","disney_hk":" ","ngong_ping_360":" 360","tiananmen":"","airport_bj":" ","bus_terminal_suzhou":"  ","railway_suzhou":" ","bus_interchange":"  ","airport_sg":" ","cruise_centre":" ","sentosa_express":" ","cable_car":"","merlion":"","marina_bay_sands":"  ","gardens_by_the_bay":"   ","singapore_flyer":" ","esplanade":"","airport_qingdao":" ","railway_qingdao":" ","coach_station_qingdao":"   ","cruise_terminal_qingdao":"  ","tram_qingdao":" ","airport_guangzhou":" ","railway_guangzhou":" ","intercity_guangzhou":"  ","river_craft":"  ","airport_london":" ","coach_station_london":"  ","airport_chongqing":" ","railway_chongqing":" ","coach_station_chongqing":"   ","bus_station_chongqing":"  ","shipping_station_chongqing":"  ","airport_chengdu":" ","railway_chengdu":" ","railway_taiwan":" ","hsr_taiwan":"  (HSR)"},"text":{"displayName":" ","content":"","fontSize":" ","lineHeight":"","textAnchor":" ","start":"","middle":"","end":"","auto":"","hanging":"","dominantBaseline":" ","language":"   ","zh":"","en":"","mtr__zh":" MTR ","mtr__en":" MTR ","berlin":" S/U Bahn","mrt":" MRT","jreast_ja":"JR ","jreast_en":"JR  ","tokyo_en":"  ","tube":" ","rotate":"","italic":"","bold":"","outline":""}},"stations":{"common":{"nameZh":" ","nameEn":" ","nameJa":" ","nameOffsetX":"  ","nameOffsetY":"  ","rotate":"","lineCode":" ","stationCode":" ","left":"","middle":"","right":"","top":"","bottom":""},"interchange":{"title":"","within":"  ","outStation":"  ","outSystem":"","addGroup":"  ","noInterchanges":"","nameZh":" ","nameEn":" ","add":" ","copy":" ","remove":" "},"shmetroBasic":{"displayName":"   "},"shmetroBasic2020":{"displayName":"   (2020)"},"shmetroInt":{"displayName":"  ","height":" ","width":" "},"shmetroOsysi":{"displayName":"    "},"shanghaiSuburbanRailway":{"displayName":" "},"gzmtrBasic":{"displayName":"  ","open":"","secondaryNameZh":" 2","secondaryNameEn":" 2","tram":" "},"gzmtrInt":{"displayName":"  ","open":"","secondaryNameZh":" 2","secondaryNameEn":" 2","foshan":""},"gzmtrInt2024":{"displayName":"   (2024)","columns":"  ","topHeavy":"     ","anchorAt":" ","anchorAtNone":"","osiPosition":"  ","osiPositionNone":"","osiPositionLeft":"","osiPositionRight":""},"bjsubwayBasic":{"displayName":"  ","open":""},"bjsubwayInt":{"displayName":"  ","outOfStation":"  "},"mtr":{"displayName":" MTR "},"suzhouRTBasic":{"displayName":"  ","textVertical":" "},"suzhouRTInt":{"displayName":"  "},"kunmingRTBasic":{"displayName":"  "},"kunmingRTInt":{"displayName":"  "},"MRTBasic":{"displayName":"MRT","isTram":"LRT"},"MRTInt":{"displayName":"MRT"},"jrEastBasic":{"displayName":"JR   ","nameOffset":" ","textOneLine":"   ","textVertical":" ","important":" ","lines":"  "},"jrEastImportant":{"displayName":"JR   ","textVertical":" ","mostImportant":"  ","minLength":"  "},"foshanMetroBasic":{"displayName":"  ","open":"","secondaryNameZh":" 2","secondaryNameEn":" 2","tram":" "},"qingdaoMetro":{"displayName":" ","isInt":""},"tokyoMetroBasic":{"displayName":" ","nameOffset":" ","textVertical":""},"tokyoMetroInt":{"displayName":" ","mereOffset":{"displayName":"  ","none":"","left1":"()","left2":"()","right1":"()","right2":" ()","up":"","down":""},"importance":{"displayName":" ","default":"","middle":"","high":""},"align":{"displayName":" ","horizontal":"","vertical":""}},"londonTubeCommon":{"stepFreeAccess":"  ","stepFreeAccessNone":"","stepFreeAccessTrain":" ","stepFreeAccessPlatform":" "},"londonTubeBasic":{"displayName":"  ","terminal":"","terminalNameRotate":"  ","shareTracks":" ","shareTracksIndex":"  "},"londonTubeInt":{"displayName":"  "},"londonRiverServicesInt":{"displayName":"   "},"guangdongIntercityRailway":{"displayName":"  "},"chongqingRTBasic":{"displayName":"  ","isLoop":""},"chongqingRTInt":{"displayName":"  ","textDistance":{"x":"  ","y":"  ","near":"","far":""}},"chongqingRTBasic2021":{"displayName":"   (2021)","open":""},"chongqingRTInt2021":{"displayName":"   (2021)","isRapid":"/  ","isWide":" ","wideDirection":{"displayName":"","vertical":"","horizontal":""}},"chengduRTBasic":{"displayName":"   ","isVertical":" ","stationType":{"displayName":" ","normal":" ","branchTerminal":" ","joint":" ","tram":" "}},"chengduRTInt":{"displayName":"  "}},"lines":{"reconcileId":"   ","common":{"offsetFrom":" ","offsetTo":" ","startFrom":" ","roundCornerFactor":"","from":"","to":"","parallelDisabled":"      .","changeInBaseLine":" :"},"simple":{"displayName":" ","offset":""},"diagonal":{"displayName":"135  "},"perpendicular":{"displayName":"90  "},"rotatePerpendicular":{"displayName":"90   "},"singleColor":{"displayName":" "},"shmetroVirtualInt":{"displayName":"    "},"shanghaiSuburbanRailway":{"displayName":"  ","isEnd":" "},"gzmtrVirtualInt":{"displayName":"    "},"gzmtrLoop":{"displayName":"   "},"chinaRailway":{"displayName":"  "},"bjsubwaySingleColor":{"displayName":"   "},"bjsubwayTram":{"displayName":"    "},"bjsubwayDotted":{"displayName":"   "},"dualColor":{"displayName":" ","swap":" ","colorA":" A","colorB":" B"},"river":{"displayName":" ","width":""},"mtrRaceDays":{"displayName":" MTR  "},"mtrLightRail":{"displayName":" MTR  "},"mtrUnpaidArea":{"displayName":" MTR   "},"mtrPaidArea":{"displayName":" MTR   "},"mrtUnderConstruction":{"displayName":" MRT  "},"mrtSentosaExpress":{"displayName":" MRT   "},"jrEastSingleColor":{"displayName":"JR   "},"jrEastSingleColorPattern":{"displayName":"JR     "},"lrtSingleColor":{"displayName":" LRT  "},"londonTubeInternalInt":{"displayName":"    "},"londonTube10MinWalk":{"displayName":"  10    "},"londonTubeTerminal":{"displayName":"   "},"londonRail":{"displayName":"  ","limitedService":" / ","colorBackground":" ","colorForeground":" "},"londonSandwich":{"displayName":"  "},"londonLutonAirportDART":{"displayName":"   DART "},"londonIFSCloudCableCar":{"displayName":" IFS   "},"guangdongIntercityRailway":{"displayName":"   "},"chongqingRTLineBadge":{"displayName":"     "},"chongqingRTLoop":{"displayName":"   "},"chengduRTOutsideFareGates":{"displayName":"    "}},"edges":{},"footer":{"duplicate":"","copy":"","remove":""}}}'),og={popoverHeader:" <1>{{environment}}</1> ",popoverBody:" RMP  .    https://github.com/railmapgen/rmp/issues  .",search:" ",open:{new:" ",config:" ",projectRMG:"RMG  ",invalidType:"  ! JSON   .",unknownError:"        .  .",gallery:" ",tutorial:" ",importFromRMPGallery:" {{id}}  .     ? Ctrl + Z       .",failToImportFromRMPGallery:" {{id}}   .    ."},download:{config:" ",image:" ","2rmg":{title:"RMG  ",type:{line:"",loop:"",branch:""},placeholder:{chinese:"  ",english:"  ",lineCode:" "},info1:"  RMP  RMG    .",info2:"       .       ,     ,  (  )    ,     RMG    .",noline:"   .",download:"",downloadInfo:"   ."},format:" ",png:"PNG ",svg:"SVG ",svgVersion:"","svg1.1":"1.1 (Adobe Illustrator )",svg2:"2 (  )",transparent:" ",scale:"/",disabledScaleOptions:"    .",disabledScaleOptionsSolution:"      .",imageTooBig:"       !",isSystemFontsOnly:"   (    ).",shareInfo1:"   ",shareInfo2:"  .",termsAndConditions:"  ",termsAndConditionsInfo:"",period:".",confirm:""},donation:{title:"",openCollective:"Open Collective",viaUSD:"Paypal  Visa    .",afdian:"",viaCNY:"Alipay  Wechat Pay   ."},settings:{title:"",pro:" PRO ,   .",proWithTrial:" PRO ,    .",proLimitExceed:{master:"     .",parallel:"    .",solution:"           !"},status:{title:"",count:{stations:" :",miscNodes:"  :",lines:" :",masters:"  :",parallel:" :"},subscription:{content:" :","logged-out":"  .",free:" !     !",subscriber:" !   !",expired:"  .   ."}},preference:{title:"",keepLastPath:"       ",autoParallel:"      ",randomStationNames:{title:"     ",none:"",shmetro:"",bjsubway:""},gridline:"   ",snapline:"    "},shortcuts:{title:" ",keys:"",description:"",f:"  .",s:" .",arrows:"  .",ijkl:"   .",shift:"  .",alt:"       .",delete:"  .",cut:".",copy:".",paste:".",undo:".",redo:" ."},procedures:{title:"",translate:{title:"  ",content:"  x  y   :",x:"X",y:"Y"},scale:{title:"  ",content:"  x  y   :",factor:" "},changeType:{title:"   ",any:""},changeZIndex:"  ",changeStationType:{title:"   ",changeFrom:"   :",changeTo:"   :",info:"        .  !"},changeLineStyleType:{title:"   ",changeFrom:"    :",changeTo:" :",info:"         .   !"},changeLinePathType:{title:"   ",changeFrom:"    :",changeTo:" :"},changeColor:{title:"  ",changeFrom:"    .:",changeTo:" :",any:" "},removeLines:{title:"   ",content:"   : "},updateColor:{title:" ",content:"    .",success:"   .",error:"     : {{e}}."},unlockSimplePath:{title:"   ",content1:"Rail Map Painter            .          .     1932      .         .              .",content2:"              .  Rail Map Painter      ,         .",content3:"       Easy Path      .           .",check:"   ",unlocked:" "},masterManager:{title:"   ",id:"ID",label:"",type:"",types:{MiscNode:" ",Station:""},importTitle:"  ",importFrom:"  ",importOther:"  ",importParam:"  "}},telemetry:{title:" ",info:"           Google Analytics     .          , 3   .",essential:"",essentialTooltip:"      ",essentialInfo:"    ,        . .         .",essentialLink:"Google Analytics         .",additional:"",additionalInfo:"            .     ,      ."}},about:{title:"",rmp:"  ",railmapgen:"     ",desc:"     90  135        !",content1:"    .",content2:"2022 6 1 ",contributors:"",coreContributors:" ",styleContributors:" ",langonginc:"   .","203IhzElttil":"             .",Swiftiecott:"             .",Minwtraft:"             .",contactUs:" ",github:" ",githubContent:"  ?    !",slack:" ",slackContent:"   !"}},sg={color:Zf,warning:Qf,cancel:Xf,apply:eg,remove:tg,close:ng,noShowAgain:rg,rmtPromotion:ig,panel:ag,header:og},lg="",ug="",cg="",dg="",hg="",pg="",fg="",gg="",mg={tools:{showLess:"",section:{lineDrawing:"",stations:"",miscellaneousNodes:""},select:"",learnHowToAdd:{station:"","misc-node":"",line:""}},details:{header:"",info:{title:"",id:"",zIndex:"",stationType:"",linePathType:"",lineStyleType:"",type:"",parallel:"",parallelIndex:""},multipleSelection:{title:"",change:"",selected:":",show:"",station:"",miscNode:"",edge:""},changeStationTypeContent:"",changeLineTypeContent:"",changeType:"",nodePosition:{title:"",pos:{x:"",y:""}},lineExtremities:{title:"",source:"",target:"",sourceName:"",targetName:""},specificAttrsTitle:"",unknown:{error:" :( {{category}}",node:"",linePath:"",lineStyle:""},nodes:{common:{nameZh:"",nameEn:"",nameJa:"",num:""},virtual:{displayName:""},shmetroNumLineBadge:{displayName:""},shmetroTextLineBadge:{displayName:""},gzmtrLineBadge:{displayName:"",tram:"",span:""},bjsubwayNumLineBadge:{displayName:""},bjsubwayTextLineBadge:{displayName:""},berlinSBahnLineBadge:{displayName:""},berlinUBahnLineBadge:{displayName:""},suzhouRTNumLineBadge:{displayName:"",branch:""},chongqingRTNumLineBadge:{displayName:""},chongqingRTTextLineBadge:{displayName:""},chongqingRTNumLineBadge2021:{displayName:"2021"},chongqingRTTextLineBadge2021:{displayName:"2021",isRapid:"/"},shenzhenMetroNumLineBadge:{displayName:"",branch:""},mrtDestinationNumbers:{displayName:"MRT"},mrtLineBadge:{displayName:"MRT",isTram:"LRT"},jrEastLineBadge:{displayName:"JR",crosshatchPatternFill:""},qingdaoMetroNumLineBadge:{displayName:"",numEn:"",showText:""},guangdongIntercityRailwayLineBadge:{displayName:""},londonArrow:{displayName:"",type:"",continuation:"",sandwich:"",tube:""},chengduRTLineBadge:{displayName:"",badgeType:{displayName:"",normal:"",suburban:"",tram:""}},taipeiMetroLineBadge:{displayName:"",tram:""},master:{displayName:"",type:"",undefined:""},facilities:{displayName:"",type:"",airport:"",airport_2024:" 2024",maglev:"",disney:"",railway:"",railway_2024:" 2024",hsr:"",airport_hk:"",disney_hk:"",ngong_ping_360:"360",tiananmen:"",airport_bj:"",bus_terminal_suzhou:"",railway_suzhou:"",bus_interchange:"",airport_sg:"",cruise_centre:"",sentosa_express:"",cable_car:"",merlion:"",marina_bay_sands:"",gardens_by_the_bay:"",singapore_flyer:"",esplanade:"",airport_qingdao:"",railway_qingdao:"",coach_station_qingdao:"",cruise_terminal_qingdao:"",tram_qingdao:"",airport_guangzhou:"",railway_guangzhou:"",intercity_guangzhou:"",river_craft:"",airport_london:"",coach_station_london:"",airport_chongqing:"",railway_chongqing:"",coach_station_chongqing:"",bus_station_chongqing:"",shipping_station_chongqing:"",airport_chengdu:"",railway_chengdu:"",railway_taiwan:"",hsr_taiwan:""},text:{displayName:"",content:"",fontSize:"",lineHeight:"",textAnchor:"",start:"",middle:"",end:"",auto:"",hanging:"",dominantBaseline:"",language:"",zh:"",en:"",mtr__zh:"",mtr__en:"",berlin:" S/U Bahn",mrt:"",jreast_ja:"JR",jreast_en:"JR",tokyo_en:"",tube:"",rotate:"",italic:"",bold:"",outline:""}},stations:{common:{nameZh:"",nameEn:"",nameJa:"",nameOffsetX:"",nameOffsetY:"",rotate:"",lineCode:"",stationCode:"",left:"",middle:"",right:"",top:"",bottom:""},interchange:{title:"",within:"",outStation:"",outSystem:"",addGroup:"",noInterchanges:"",nameZh:"",nameEn:"",add:"",copy:"",remove:""},shmetroBasic:{displayName:""},shmetroBasic2020:{displayName:"2020"},shmetroInt:{displayName:"",height:"",width:""},shmetroOsysi:{displayName:""},shanghaiSuburbanRailway:{displayName:""},gzmtrBasic:{displayName:"",open:"",secondaryNameZh:"",secondaryNameEn:"",tram:""},gzmtrInt:{displayName:"",open:"",secondaryNameZh:"",secondaryNameEn:"",foshan:""},gzmtrInt2024:{displayName:"2024",columns:"",topHeavy:"",anchorAt:"",anchorAtNone:"",osiPosition:"",osiPositionNone:"",osiPositionLeft:"",osiPositionRight:""},bjsubwayBasic:{displayName:"",open:""},bjsubwayInt:{displayName:"",outOfStation:""},mtr:{displayName:"MTR"},suzhouRTBasic:{displayName:"",textVertical:""},suzhouRTInt:{displayName:""},kunmingRTBasic:{displayName:""},kunmingRTInt:{displayName:""},MRTBasic:{displayName:"MRT",isTram:"LRT"},MRTInt:{displayName:"MRT"},jrEastBasic:{displayName:"JR",nameOffset:"",textOneLine:"",textVertical:"",important:"",lines:""},jrEastImportant:{displayName:"JR",textVertical:"",mostImportant:"",minLength:""},foshanMetroBasic:{displayName:"",open:"",secondaryNameZh:"",secondaryNameEn:"",tram:""},qingdaoMetro:{displayName:"",isInt:""},tokyoMetroBasic:{displayName:"",nameOffset:"",textVertical:""},tokyoMetroInt:{displayName:"",mereOffset:{displayName:"",none:"",left1:" ()",left2:" ()",right1:" ()",right2:" ()",up:"",down:""},importance:{displayName:"",default:"",middle:"",high:""},align:{displayName:"",horizontal:"",vertical:""}},londonTubeCommon:{stepFreeAccess:"",stepFreeAccessNone:"",stepFreeAccessTrain:"",stepFreeAccessPlatform:""},londonTubeBasic:{displayName:"",terminal:"",terminalNameRotate:"",shareTracks:"",shareTracksIndex:""},londonTubeInt:{displayName:""},londonRiverServicesInt:{displayName:""},guangdongIntercityRailway:{displayName:""},chongqingRTBasic:{displayName:"",isLoop:""},chongqingRTInt:{displayName:"",textDistance:{x:"",y:"",near:"",far:""}},chongqingRTBasic2021:{displayName:"2021",open:""},chongqingRTInt2021:{displayName:"2021",isRapid:"/",isWide:"",wideDirection:{displayName:"",vertical:"",horizontal:""}},chengduRTBasic:{displayName:"",isVertical:"",stationType:{displayName:"",normal:"",branchTerminal:"",joint:"",tram:""}},chengduRTInt:{displayName:""}},lines:{reconcileId:"",common:{offsetFrom:"",offsetTo:"",startFrom:"",roundCornerFactor:"",from:"",to:"",parallelDisabled:"",changeInBaseLine:""},simple:{displayName:"",offset:""},diagonal:{displayName:"135"},perpendicular:{displayName:"90"},rotatePerpendicular:{displayName:"90"},singleColor:{displayName:""},shmetroVirtualInt:{displayName:""},shanghaiSuburbanRailway:{displayName:"",isEnd:""},gzmtrVirtualInt:{displayName:""},gzmtrLoop:{displayName:""},chinaRailway:{displayName:""},bjsubwaySingleColor:{displayName:""},bjsubwayTram:{displayName:""},bjsubwayDotted:{displayName:""},dualColor:{displayName:"",swap:"",colorA:"A",colorB:"B"},river:{displayName:"",width:""},mtrRaceDays:{displayName:"MTR"},mtrLightRail:{displayName:"MTR"},mtrUnpaidArea:{displayName:"MTR"},mtrPaidArea:{displayName:"MTR"},mrtUnderConstruction:{displayName:"MRT"},mrtSentosaExpress:{displayName:"MRT"},jrEastSingleColor:{displayName:"JR"},jrEastSingleColorPattern:{displayName:"JR"},lrtSingleColor:{displayName:"LRT"},londonTubeInternalInt:{displayName:""},londonTube10MinWalk:{displayName:"10"},londonTubeTerminal:{displayName:""},londonRail:{displayName:"",limitedService:"/",colorBackground:"",colorForeground:""},londonSandwich:{displayName:""},londonLutonAirportDART:{displayName:"DART"},londonIFSCloudCableCar:{displayName:"IFS"},guangdongIntercityRailway:{displayName:""},chongqingRTLineBadge:{displayName:""},chongqingRTLoop:{displayName:""},chengduRTOutsideFareGates:{displayName:""}},edges:{},footer:{duplicate:"",copy:"",remove:""}}},yg={popoverHeader:"<1>{{environment}}</1>",popoverBody:"RMP https://github.com/railmapgen/rmp/issues ",search:"",open:{new:"",config:"",projectRMG:"RMG",invalidType:"JSON",unknownError:"",gallery:"",tutorial:"",importFromRMPGallery:" {{id}}  Ctrl + Z ",failToImportFromRMPGallery:"{{id}}"},download:{config:"",image:"","2rmg":{title:"RMG",type:{line:"",loop:"",branch:""},placeholder:{chinese:"",english:"",lineCode:""},info1:"RMPRMG",info2:"RMG",noline:"",download:"",downloadInfo:""},format:"",png:"PNG",svg:"SVG",svgVersion:"","svg1.1":"1.1Adobe Illustrator",svg2:"2",transparent:"",scale:"",disabledScaleOptions:"",disabledScaleOptionsSolution:"",imageTooBig:"",isSystemFontsOnly:" ",shareInfo1:"",shareInfo2:"",termsAndConditions:"",termsAndConditionsInfo:"",period:"",confirm:""},donation:{title:"",openCollective:"Open Collective",viaUSD:"PaypalVisa",afdian:"",viaCNY:""},settings:{title:"",pro:"",proWithTrial:"PRO",proLimitExceed:{master:"",parallel:"",solution:""},status:{title:"",count:{stations:"",miscNodes:"",lines:"",masters:"",parallel:""},subscription:{content:"","logged-out":"",free:"",subscriber:"",expired:""}},preference:{title:"",keepLastPath:"",autoParallel:"",randomStationNames:{title:"",none:"",shmetro:"",bjsubway:""},gridline:"",snapline:""},shortcuts:{title:"",keys:"",description:"",f:"",s:"",arrows:"",ijkl:"",shift:"",alt:"",delete:"",cut:"",copy:"",paste:"",undo:"",redo:""},procedures:{title:"",translate:{title:"",content:"xy",x:"",y:""},scale:{title:"",content:"xy",factor:""},changeType:{title:"",any:""},changeZIndex:"",changeStationType:{title:"",changeFrom:"",changeTo:"",info:""},changeLineStyleType:{title:"",changeFrom:"",changeTo:"",info:""},changeLinePathType:{title:"",changeFrom:"",changeTo:""},changeColor:{title:"",changeFrom:"",changeTo:"",any:""},removeLines:{title:"",content:" "},updateColor:{title:"",content:"",success:"",error:"{{e}}"},unlockSimplePath:{title:"",content1:"1932",content2:"",content3:"",check:"",unlocked:""},masterManager:{title:"",id:"",label:"",type:"",types:{MiscNode:"",Station:""},importTitle:"",importFrom:"",importOther:"",importParam:""}},telemetry:{title:"",info:" Google Analytics ",essential:"",essentialTooltip:"",essentialInfo:"",essentialLink:" Google Analytics ",additional:"",additionalInfo:""}},about:{title:"",rmp:"",railmapgen:"",desc:" 90  135 ",content1:"",content2:"06/01/2022",contributors:"",coreContributors:"",styleContributors:"",langonginc:"","203IhzElttil":"",Swiftiecott:"",Minwtraft:"",contactUs:"",github:"",githubContent:"",slack:"Slack",slackContent:"Slack!"}},bg={color:lg,warning:ug,cancel:cg,apply:dg,remove:hg,close:pg,noShowAgain:fg,rmtPromotion:gg,panel:mg,header:yg},wg="",vg="",xg="",Ng="",Sg="",Cg="",Rg="",_g="",Ag={tools:{showLess:"",section:{lineDrawing:"",stations:"",miscellaneousNodes:""},select:"",learnHowToAdd:{station:"","misc-node":"",line:""}},details:{header:"",info:{title:"",id:"",zIndex:"",stationType:"",linePathType:"",lineStyleType:"",type:"",parallel:"",parallelIndex:""},multipleSelection:{title:"",change:"",selected:":",show:"",station:"",miscNode:"",edge:""},changeStationTypeContent:"",changeLineTypeContent:"",changeType:"",nodePosition:{title:"",pos:{x:"",y:""}},lineExtremities:{title:"",source:"",target:"",sourceName:"",targetName:""},specificAttrsTitle:"",unknown:{error:" :( {{category}}",node:"",linePath:"",lineStyle:""},nodes:{common:{nameZh:"",nameEn:"",nameJa:"",num:""},virtual:{displayName:""},shmetroNumLineBadge:{displayName:""},shmetroTextLineBadge:{displayName:""},gzmtrLineBadge:{displayName:"",tram:"",span:""},bjsubwayNumLineBadge:{displayName:""},bjsubwayTextLineBadge:{displayName:""},berlinSBahnLineBadge:{displayName:""},berlinUBahnLineBadge:{displayName:""},suzhouRTNumLineBadge:{displayName:"",branch:""},chongqingRTNumLineBadge:{displayName:""},chongqingRTTextLineBadge:{displayName:""},chongqingRTNumLineBadge2021:{displayName:"2021"},chongqingRTTextLineBadge2021:{displayName:"2021",isRapid:"/"},shenzhenMetroNumLineBadge:{displayName:"",branch:""},mrtDestinationNumbers:{displayName:"MRT"},mrtLineBadge:{displayName:"MRT",isTram:"LRT"},jrEastLineBadge:{displayName:"JR",crosshatchPatternFill:""},qingdaoMetroNumLineBadge:{displayName:"",numEn:"",showText:""},guangdongIntercityRailwayLineBadge:{displayName:""},londonArrow:{displayName:"",type:"",continuation:"",sandwich:"",tube:""},chengduRTLineBadge:{displayName:"",badgeType:{displayName:"",normal:"",suburban:"",tram:""}},taipeiMetroLineBadge:{displayName:"",tram:""},master:{displayName:"",type:"",undefined:""},facilities:{displayName:"",type:"",airport:"",airport_2024:" 2024",maglev:"",disney:"",railway:"",railway_2024:" 2024",hsr:"",airport_hk:"",disney_hk:"",ngong_ping_360:"360",tiananmen:"",airport_bj:"",bus_terminal_suzhou:"",railway_suzhou:"",bus_interchange:"",airport_sg:"",cruise_centre:"",sentosa_express:"",cable_car:"",merlion:"",marina_bay_sands:"",gardens_by_the_bay:"",singapore_flyer:"",esplanade:"",airport_qingdao:"",railway_qingdao:"",coach_station_qingdao:"",cruise_terminal_qingdao:"",tram_qingdao:"",airport_guangzhou:"",railway_guangzhou:"",intercity_guangzhou:"",river_craft:"",airport_london:"",coach_station_london:"",airport_chongqing:"",railway_chongqing:"",coach_station_chongqing:"",bus_station_chongqing:"",shipping_station_chongqing:"",airport_chengdu:"",railway_chengdu:"",railway_taiwan:"",hsr_taiwan:""},text:{displayName:"",content:"",fontSize:"",lineHeight:"",textAnchor:"",start:"",middle:"",end:"",auto:"",hanging:"",dominantBaseline:"",language:"",zh:"",en:"",mtr__zh:"",mtr__en:"",berlin:" S/U ",mrt:"",jreast_ja:"JR ",jreast_en:"JR ",tokyo_en:"",tube:"",rotate:"",italic:"",bold:"",outline:""}},stations:{common:{nameZh:"",nameEn:"",nameJa:"",nameOffsetX:"",nameOffsetY:"",rotate:"",lineCode:"",stationCode:"",left:"",middle:"",right:"",top:"",bottom:""},interchange:{title:"",within:"",outStation:"",outSystem:"",addGroup:"",noInterchanges:"",nameZh:"",nameEn:"",add:"",copy:"",remove:""},shmetroBasic:{displayName:""},shmetroBasic2020:{displayName:"2020"},shmetroInt:{displayName:"",height:"",width:""},shmetroOsysi:{displayName:""},shanghaiSuburbanRailway:{displayName:""},gzmtrBasic:{displayName:"",open:"",secondaryNameZh:"",secondaryNameEn:"",tram:""},gzmtrInt:{displayName:"",open:"",secondaryNameZh:"",secondaryNameEn:"",foshan:""},gzmtrInt2024:{displayName:"2024",columns:"",topHeavy:"",anchorAt:"",anchorAtNone:"",osiPosition:"",osiPositionNone:"",osiPositionLeft:"",osiPositionRight:""},bjsubwayBasic:{displayName:"",open:""},bjsubwayInt:{displayName:"",outOfStation:""},mtr:{displayName:"MTR"},suzhouRTBasic:{displayName:"",textVertical:""},suzhouRTInt:{displayName:""},kunmingRTBasic:{displayName:""},kunmingRTInt:{displayName:""},MRTBasic:{displayName:"MRT",isTram:"LRT"},MRTInt:{displayName:"MRT"},jrEastBasic:{displayName:"JR",nameOffset:"",textOneLine:"",textVertical:"",important:"",lines:""},jrEastImportant:{displayName:"JR",textVertical:"",mostImportant:"",minLength:""},foshanMetroBasic:{displayName:"",open:"",secondaryNameZh:"",secondaryNameEn:"",tram:""},qingdaoMetro:{displayName:"",isInt:""},tokyoMetroBasic:{displayName:"",nameOffset:"",textVertical:""},tokyoMetroInt:{displayName:"",mereOffset:{displayName:"",none:"",left1:" ()",left2:" ()",right1:" ()",right2:" ()",up:"",down:""},importance:{displayName:"",default:"",middle:"",high:""},align:{displayName:"",horizontal:"",vertical:""}},londonTubeCommon:{stepFreeAccess:"",stepFreeAccessNone:"",stepFreeAccessTrain:"",stepFreeAccessPlatform:""},londonTubeBasic:{displayName:"",terminal:"",terminalNameRotate:"",shareTracks:"",shareTracksIndex:""},londonTubeInt:{displayName:""},londonRiverServicesInt:{displayName:""},guangdongIntercityRailway:{displayName:""},chongqingRTBasic:{displayName:"",isLoop:""},chongqingRTInt:{displayName:"",textDistance:{x:"",y:"",near:"",far:""}},chongqingRTBasic2021:{displayName:"2021",open:""},chongqingRTInt2021:{displayName:"2021",isRapid:"/",isWide:"",wideDirection:{displayName:"",vertical:"",horizontal:""}},chengduRTBasic:{displayName:"",isVertical:"",stationType:{displayName:"",normal:"",branchTerminal:"",joint:"",tram:""}},chengduRTInt:{displayName:""}},lines:{reconcileId:"",common:{offsetFrom:"",offsetTo:"",startFrom:"",roundCornerFactor:"",from:"",to:"",parallelDisabled:"",changeInBaseLine:""},simple:{displayName:"",offset:""},diagonal:{displayName:"135"},perpendicular:{displayName:"90"},rotatePerpendicular:{displayName:"90"},singleColor:{displayName:""},shmetroVirtualInt:{displayName:""},shanghaiSuburbanRailway:{displayName:"",isEnd:""},gzmtrVirtualInt:{displayName:""},gzmtrLoop:{displayName:""},chinaRailway:{displayName:""},bjsubwaySingleColor:{displayName:""},bjsubwayTram:{displayName:""},bjsubwayDotted:{displayName:""},dualColor:{displayName:"",swap:"",colorA:"A",colorB:"B"},river:{displayName:"",width:""},mtrRaceDays:{displayName:"MTR"},mtrLightRail:{displayName:"MTR"},mtrUnpaidArea:{displayName:"MTR"},mtrPaidArea:{displayName:"MTR"},mrtUnderConstruction:{displayName:"MRT"},mrtSentosaExpress:{displayName:"MRT"},jrEastSingleColor:{displayName:"JR"},jrEastSingleColorPattern:{displayName:"JR"},lrtSingleColor:{displayName:"LRT"},londonTubeInternalInt:{displayName:""},londonTube10MinWalk:{displayName:"10"},londonTubeTerminal:{displayName:""},londonRail:{displayName:"",limitedService:"/",colorBackground:"",colorForeground:""},londonSandwich:{displayName:""},londonLutonAirportDART:{displayName:"DART"},londonIFSCloudCableCar:{displayName:"IFS"},guangdongIntercityRailway:{displayName:""},chongqingRTLineBadge:{displayName:""},chongqingRTLoop:{displayName:""},chengduRTOutsideFareGates:{displayName:""}},edges:{},footer:{duplicate:"",copy:"",remove:""}}},Eg={popoverHeader:"<1>{{environment}}</1>",popoverBody:"RMP https://github.com/railmapgen/rmp/issues ",search:"",open:{new:"",config:"",projectRMG:"RMG",invalidType:"JSON",unknownError:"",gallery:"",tutorial:"",importFromRMPGallery:" {{id}}  Ctrl + Z ",failToImportFromRMPGallery:"{{id}}"},download:{config:"",image:"","2rmg":{title:"RMG",type:{line:"",loop:"",branch:""},placeholder:{chinese:"",english:"",lineCode:""},info1:"RMPRMG",info2:"RMG",noline:"",download:"",downloadInfo:""},format:"",png:"PNG",svg:"SVG",svgVersion:"","svg1.1":"1.1Adobe Illustrator",svg2:"2",transparent:"",scale:"",disabledScaleOptions:"",disabledScaleOptionsSolution:"",imageTooBig:"",isSystemFontsOnly:"",shareInfo1:"",shareInfo2:"",termsAndConditions:"",termsAndConditionsInfo:"",period:"",confirm:""},donation:{title:"",openCollective:"Open Collective",viaUSD:"PaypalVisa",afdian:"",viaCNY:""},settings:{title:"",pro:"",proWithTrial:"PRO",proLimitExceed:{master:"",parallel:"",solution:""},status:{title:"",count:{stations:"",miscNodes:"",lines:"",masters:"",parallel:""},subscription:{content:"","logged-out":"",free:"",subscriber:"",expired:""}},preference:{title:"",keepLastPath:"",autoParallel:"",randomStationNames:{title:"",none:"",shmetro:"",bjsubway:""},gridline:"",snapline:""},shortcuts:{title:"",keys:"",description:"",f:"",s:"",arrows:"",ijkl:"",shift:"",alt:"",delete:"",cut:"",copy:"",paste:"",undo:"",redo:""},procedures:{title:"",translate:{title:"",content:"xy",x:"",y:""},scale:{title:"",content:"xy",factor:""},changeType:{title:"",any:""},changeZIndex:"",changeStationType:{title:"",changeFrom:"",changeTo:"",info:""},changeLineStyleType:{title:"",changeFrom:"",changeTo:"",info:""},changeLinePathType:{title:"",changeFrom:"",changeTo:""},changeColor:{title:"",changeFrom:"",changeTo:"",any:""},removeLines:{title:"",content:" "},updateColor:{title:"",content:"",success:"",error:"{{e}}"},unlockSimplePath:{title:"",content1:"1932",content2:"",content3:" ",check:"",unlocked:""},masterManager:{title:"",id:"",label:"",type:"",types:{MiscNode:"",Station:""},importTitle:"",importFrom:"",importOther:"",importParam:""}},telemetry:{title:"",info:" Google Analytics ",essential:"",essentialTooltip:"",essentialInfo:"",essentialLink:" Google Analytics ",additional:"",additionalInfo:""}},about:{title:"",rmp:"",railmapgen:"",desc:" 90  135 ",content1:"",content2:"06/01/2022",contributors:"",coreContributors:"",styleContributors:"",langonginc:"","203IhzElttil":"",Swiftiecott:"",Minwtraft:"",contactUs:"",github:"",githubContent:"",slack:"Slack",slackContent:"Slack!"}},Tg={color:wg,warning:vg,cancel:xg,apply:Ng,remove:Sg,close:Cg,noShowAgain:Rg,rmtPromotion:_g,panel:Ag,header:Eg},en=new we.I18nBuilder().use(Rs).withAppName("Rail Map Painter").withLng(we.getLanguage()).withDefaultResource(_f).withResource("en",Bf).withResource("zh-Hans",bg).withResource("zh-Hant",Tg).withResource("ja",Yf).withResource("ko",sg).build(),{abs:It,cos:Fe,sin:bt,acos:Lg,atan2:$t,sqrt:Ze,pow:Ce}=Math;function zt(r){return r<0?-Ce(-r,1/3):Ce(r,1/3)}const lo=Math.PI,pn=2*lo,Qe=lo/2,kg=1e-6,xr=Number.MAX_SAFE_INTEGER||9007199254740991,Nr=Number.MIN_SAFE_INTEGER||-9007199254740991,Og={x:0,y:0,z:0},A={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(r,e){const n=e(r);let i=n.x*n.x+n.y*n.y;return typeof n.z<"u"&&(i+=n.z*n.z),Ze(i)},compute:function(r,e,n){if(r===0)return e[0].t=0,e[0];const i=e.length-1;if(r===1)return e[i].t=1,e[i];const a=1-r;let o=e;if(i===0)return e[0].t=r,e[0];if(i===1){const l={x:a*o[0].x+r*o[1].x,y:a*o[0].y+r*o[1].y,t:r};return n&&(l.z=a*o[0].z+r*o[1].z),l}if(i<4){let l=a*a,u=r*r,c,d,h,p=0;i===2?(o=[o[0],o[1],o[2],Og],c=l,d=a*r*2,h=u):i===3&&(c=l*a,d=l*r*3,h=a*u*3,p=r*u);const m={x:c*o[0].x+d*o[1].x+h*o[2].x+p*o[3].x,y:c*o[0].y+d*o[1].y+h*o[2].y+p*o[3].y,t:r};return n&&(m.z=c*o[0].z+d*o[1].z+h*o[2].z+p*o[3].z),m}const s=JSON.parse(JSON.stringify(e));for(;s.length>1;){for(let l=0;l<s.length-1;l++)s[l]={x:s[l].x+(s[l+1].x-s[l].x)*r,y:s[l].y+(s[l+1].y-s[l].y)*r},typeof s[l].z<"u"&&(s[l].z=s[l].z+(s[l+1].z-s[l].z)*r);s.splice(s.length-1,1)}return s[0].t=r,s[0]},computeWithRatios:function(r,e,n,i){const a=1-r,o=n,s=e;let l=o[0],u=o[1],c=o[2],d=o[3],h;if(l*=a,u*=r,s.length===2)return h=l+u,{x:(l*s[0].x+u*s[1].x)/h,y:(l*s[0].y+u*s[1].y)/h,z:i?(l*s[0].z+u*s[1].z)/h:!1,t:r};if(l*=a,u*=2*a,c*=r*r,s.length===3)return h=l+u+c,{x:(l*s[0].x+u*s[1].x+c*s[2].x)/h,y:(l*s[0].y+u*s[1].y+c*s[2].y)/h,z:i?(l*s[0].z+u*s[1].z+c*s[2].z)/h:!1,t:r};if(l*=a,u*=1.5*a,c*=3*a,d*=r*r*r,s.length===4)return h=l+u+c+d,{x:(l*s[0].x+u*s[1].x+c*s[2].x+d*s[3].x)/h,y:(l*s[0].y+u*s[1].y+c*s[2].y+d*s[3].y)/h,z:i?(l*s[0].z+u*s[1].z+c*s[2].z+d*s[3].z)/h:!1,t:r}},derive:function(r,e){const n=[];for(let i=r,a=i.length,o=a-1;a>1;a--,o--){const s=[];for(let l=0,u;l<o;l++)u={x:o*(i[l+1].x-i[l].x),y:o*(i[l+1].y-i[l].y)},e&&(u.z=o*(i[l+1].z-i[l].z)),s.push(u);n.push(s),i=s}return n},between:function(r,e,n){return e<=r&&r<=n||A.approximately(r,e)||A.approximately(r,n)},approximately:function(r,e,n){return It(r-e)<=(n||kg)},length:function(r){const n=A.Tvalues.length;let i=0;for(let a=0,o;a<n;a++)o=.5*A.Tvalues[a]+.5,i+=A.Cvalues[a]*A.arcfn(o,r);return .5*i},map:function(r,e,n,i,a){const o=n-e,s=a-i,l=r-e,u=l/o;return i+s*u},lerp:function(r,e,n){const i={x:e.x+r*(n.x-e.x),y:e.y+r*(n.y-e.y)};return e.z!==void 0&&n.z!==void 0&&(i.z=e.z+r*(n.z-e.z)),i},pointToString:function(r){let e=r.x+"/"+r.y;return typeof r.z<"u"&&(e+="/"+r.z),e},pointsToString:function(r){return"["+r.map(A.pointToString).join(", ")+"]"},copy:function(r){return JSON.parse(JSON.stringify(r))},angle:function(r,e,n){const i=e.x-r.x,a=e.y-r.y,o=n.x-r.x,s=n.y-r.y,l=i*s-a*o,u=i*o+a*s;return $t(l,u)},round:function(r,e){const n=""+r,i=n.indexOf(".");return parseFloat(n.substring(0,i+1+e))},dist:function(r,e){const n=r.x-e.x,i=r.y-e.y;return Ze(n*n+i*i)},closest:function(r,e){let n=Ce(2,63),i,a;return r.forEach(function(o,s){a=A.dist(e,o),a<n&&(n=a,i=s)}),{mdist:n,mpos:i}},abcratio:function(r,e){if(e!==2&&e!==3)return!1;if(typeof r>"u")r=.5;else if(r===0||r===1)return r;const n=Ce(r,e)+Ce(1-r,e),i=n-1;return It(i/n)},projectionratio:function(r,e){if(e!==2&&e!==3)return!1;if(typeof r>"u")r=.5;else if(r===0||r===1)return r;const n=Ce(1-r,e),i=Ce(r,e)+n;return n/i},lli8:function(r,e,n,i,a,o,s,l){const u=(r*i-e*n)*(a-s)-(r-n)*(a*l-o*s),c=(r*i-e*n)*(o-l)-(e-i)*(a*l-o*s),d=(r-n)*(o-l)-(e-i)*(a-s);return d==0?!1:{x:u/d,y:c/d}},lli4:function(r,e,n,i){const a=r.x,o=r.y,s=e.x,l=e.y,u=n.x,c=n.y,d=i.x,h=i.y;return A.lli8(a,o,s,l,u,c,d,h)},lli:function(r,e){return A.lli4(r,r.c,e,e.c)},makeline:function(r,e){return new ee(r.x,r.y,(r.x+e.x)/2,(r.y+e.y)/2,e.x,e.y)},findbbox:function(r){let e=xr,n=xr,i=Nr,a=Nr;return r.forEach(function(o){const s=o.bbox();e>s.x.min&&(e=s.x.min),n>s.y.min&&(n=s.y.min),i<s.x.max&&(i=s.x.max),a<s.y.max&&(a=s.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:n,mid:(n+a)/2,max:a,size:a-n}}},shapeintersections:function(r,e,n,i,a){if(!A.bboxoverlap(e,i))return[];const o=[],s=[r.startcap,r.forward,r.back,r.endcap],l=[n.startcap,n.forward,n.back,n.endcap];return s.forEach(function(u){u.virtual||l.forEach(function(c){if(c.virtual)return;const d=u.intersects(c,a);d.length>0&&(d.c1=u,d.c2=c,d.s1=r,d.s2=n,o.push(d))})}),o},makeshape:function(r,e,n){const i=e.points.length,a=r.points.length,o=A.makeline(e.points[i-1],r.points[0]),s=A.makeline(r.points[a-1],e.points[0]),l={startcap:o,forward:r,back:e,endcap:s,bbox:A.findbbox([o,r,e,s])};return l.intersections=function(u){return A.shapeintersections(l,l.bbox,u,u.bbox,n)},l},getminmax:function(r,e,n){if(!n)return{min:0,max:0};let i=xr,a=Nr,o,s;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(let l=0,u=n.length;l<u;l++)o=n[l],s=r.get(o),s[e]<i&&(i=s[e]),s[e]>a&&(a=s[e]);return{min:i,mid:(i+a)/2,max:a,size:a-i}},align:function(r,e){const n=e.p1.x,i=e.p1.y,a=-$t(e.p2.y-i,e.p2.x-n),o=function(s){return{x:(s.x-n)*Fe(a)-(s.y-i)*bt(a),y:(s.x-n)*bt(a)+(s.y-i)*Fe(a)}};return r.map(o)},roots:function(r,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const n=r.length-1,i=A.align(r,e),a=function(v){return 0<=v&&v<=1};if(n===2){const v=i[0].y,C=i[1].y,R=i[2].y,_=v-2*C+R;if(_!==0){const O=-Ze(C*C-v*R),$=-v+C,W=-(O+$)/_,U=-(-O+$)/_;return[W,U].filter(a)}else if(C!==R&&_===0)return[(2*C-R)/(2*C-2*R)].filter(a);return[]}const o=i[0].y,s=i[1].y,l=i[2].y,u=i[3].y;let c=-o+3*s-3*l+u,d=3*o-6*s+3*l,h=-3*o+3*s,p=o;if(A.approximately(c,0)){if(A.approximately(d,0))return A.approximately(h,0)?[]:[-p/h].filter(a);const v=Ze(h*h-4*d*p),C=2*d;return[(v-h)/C,(-h-v)/C].filter(a)}d/=c,h/=c,p/=c;const m=(3*h-d*d)/3,g=m/3,b=(2*d*d*d-9*d*h+27*p)/27,S=b/2,T=S*S+g*g*g;let k,P,w,y,N;if(T<0){const v=-m/3,C=v*v*v,R=Ze(C),_=-b/(2*R),O=_<-1?-1:_>1?1:_,$=Lg(O),W=zt(R),U=2*W;return w=U*Fe($/3)-d/3,y=U*Fe(($+pn)/3)-d/3,N=U*Fe(($+2*pn)/3)-d/3,[w,y,N].filter(a)}else{if(T===0)return k=S<0?zt(-S):-zt(S),w=2*k-d/3,y=-k-d/3,[w,y].filter(a);{const v=Ze(T);return k=zt(-S+v),P=zt(S+v),[k-P-d/3].filter(a)}}},droots:function(r){if(r.length===3){const e=r[0],n=r[1],i=r[2],a=e-2*n+i;if(a!==0){const o=-Ze(n*n-e*i),s=-e+n,l=-(o+s)/a,u=-(-o+s)/a;return[l,u]}else if(n!==i&&a===0)return[(2*n-i)/(2*(n-i))];return[]}if(r.length===2){const e=r[0],n=r[1];return e!==n?[e/(e-n)]:[]}return[]},curvature:function(r,e,n,i,a){let o,s,l,u,c=0,d=0;const h=A.compute(r,e),p=A.compute(r,n),m=h.x*h.x+h.y*h.y;if(i?(o=Ze(Ce(h.y*p.z-p.y*h.z,2)+Ce(h.z*p.x-p.z*h.x,2)+Ce(h.x*p.y-p.x*h.y,2)),s=Ce(m+h.z*h.z,3/2)):(o=h.x*p.y-h.y*p.x,s=Ce(m,3/2)),o===0||s===0)return{k:0,r:0};if(c=o/s,d=s/o,!a){const g=A.curvature(r-.001,e,n,i,!0).k,b=A.curvature(r+.001,e,n,i,!0).k;u=(b-c+(c-g))/2,l=(It(b-c)+It(c-g))/2}return{k:c,r:d,dk:u,adk:l}},inflections:function(r){if(r.length<4)return[];const e=A.align(r,{p1:r[0],p2:r.slice(-1)[0]}),n=e[2].x*e[1].y,i=e[3].x*e[1].y,a=e[1].x*e[2].y,o=e[3].x*e[2].y,s=18*(-3*n+2*i+3*a-o),l=18*(3*n-i-3*a),u=18*(a-n);if(A.approximately(s,0)){if(!A.approximately(l,0)){let p=-u/l;if(0<=p&&p<=1)return[p]}return[]}const c=2*s;if(A.approximately(c,0))return[];const d=l*l-4*s*u;if(d<0)return[];const h=Math.sqrt(d);return[(h-l)/c,-(l+h)/c].filter(function(p){return 0<=p&&p<=1})},bboxoverlap:function(r,e){const n=["x","y"],i=n.length;for(let a=0,o,s,l,u;a<i;a++)if(o=n[a],s=r[o].mid,l=e[o].mid,u=(r[o].size+e[o].size)/2,It(s-l)>=u)return!1;return!0},expandbox:function(r,e){e.x.min<r.x.min&&(r.x.min=e.x.min),e.y.min<r.y.min&&(r.y.min=e.y.min),e.z&&e.z.min<r.z.min&&(r.z.min=e.z.min),e.x.max>r.x.max&&(r.x.max=e.x.max),e.y.max>r.y.max&&(r.y.max=e.y.max),e.z&&e.z.max>r.z.max&&(r.z.max=e.z.max),r.x.mid=(r.x.min+r.x.max)/2,r.y.mid=(r.y.min+r.y.max)/2,r.z&&(r.z.mid=(r.z.min+r.z.max)/2),r.x.size=r.x.max-r.x.min,r.y.size=r.y.max-r.y.min,r.z&&(r.z.size=r.z.max-r.z.min)},pairiteration:function(r,e,n){const i=r.bbox(),a=e.bbox(),o=1e5,s=n||.5;if(i.x.size+i.y.size<s&&a.x.size+a.y.size<s)return[(o*(r._t1+r._t2)/2|0)/o+"/"+(o*(e._t1+e._t2)/2|0)/o];let l=r.split(.5),u=e.split(.5),c=[{left:l.left,right:u.left},{left:l.left,right:u.right},{left:l.right,right:u.right},{left:l.right,right:u.left}];c=c.filter(function(h){return A.bboxoverlap(h.left.bbox(),h.right.bbox())});let d=[];return c.length===0||(c.forEach(function(h){d=d.concat(A.pairiteration(h.left,h.right,s))}),d=d.filter(function(h,p){return d.indexOf(h)===p})),d},getccenter:function(r,e,n){const i=e.x-r.x,a=e.y-r.y,o=n.x-e.x,s=n.y-e.y,l=i*Fe(Qe)-a*bt(Qe),u=i*bt(Qe)+a*Fe(Qe),c=o*Fe(Qe)-s*bt(Qe),d=o*bt(Qe)+s*Fe(Qe),h=(r.x+e.x)/2,p=(r.y+e.y)/2,m=(e.x+n.x)/2,g=(e.y+n.y)/2,b=h+l,S=p+u,T=m+c,k=g+d,P=A.lli8(h,p,b,S,m,g,T,k),w=A.dist(P,r);let y=$t(r.y-P.y,r.x-P.x),N=$t(e.y-P.y,e.x-P.x),v=$t(n.y-P.y,n.x-P.x),C;return y<v?((y>N||N>v)&&(y+=pn),y>v&&(C=v,v=y,y=C)):v<N&&N<y?(C=v,v=y,y=C):v+=pn,P.s=y,P.e=v,P.r=w,P},numberSort:function(r,e){return r-e}};class Zt{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return A.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,n){return e+n})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var n=e[0].bbox(),i=1;i<e.length;i++)A.expandbox(n,e[i].bbox());return n}offset(e){const n=[];return this.curves.forEach(function(i){n.push(...i.offset(e))}),new Zt(n)}}const{abs:Ft,min:Zi,max:Qi,cos:Mg,sin:Pg,acos:Dg,sqrt:Gt}=Math,jg=Math.PI;class ee{constructor(e){let n=e&&e.forEach?e:Array.from(arguments).slice(),i=!1;if(typeof n[0]=="object"){i=n.length;const m=[];n.forEach(function(g){["x","y","z"].forEach(function(b){typeof g[b]<"u"&&m.push(g[b])})}),n=m}let a=!1;const o=n.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");a=!0}}else if(o!==6&&o!==8&&o!==9&&o!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const s=this._3d=!a&&(o===9||o===12)||e&&e[0]&&typeof e[0].z<"u",l=this.points=[];for(let m=0,g=s?3:2;m<o;m+=g){var u={x:n[m],y:n[m+1]};s&&(u.z=n[m+2]),l.push(u)}const c=this.order=l.length-1,d=this.dims=["x","y"];s&&d.push("z"),this.dimlen=d.length;const h=A.align(l,{p1:l[0],p2:l[c]}),p=A.dist(l[0],l[c]);this._linear=h.reduce((m,g)=>m+Ft(g.y),0)<p/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,n,i,a){if(typeof a>"u"&&(a=.5),a===0)return new ee(n,n,i);if(a===1)return new ee(e,n,n);const o=ee.getABC(2,e,n,i,a);return new ee(e,o.A,i)}static cubicFromPoints(e,n,i,a,o){typeof a>"u"&&(a=.5);const s=ee.getABC(3,e,n,i,a);typeof o>"u"&&(o=A.dist(n,s.C));const l=o*(1-a)/a,u=A.dist(e,i),c=(i.x-e.x)/u,d=(i.y-e.y)/u,h=o*c,p=o*d,m=l*c,g=l*d,b={x:n.x-h,y:n.y-p},S={x:n.x+m,y:n.y+g},T=s.A,k={x:T.x+(b.x-T.x)/(1-a),y:T.y+(b.y-T.y)/(1-a)},P={x:T.x+(S.x-T.x)/a,y:T.y+(S.y-T.y)/a},w={x:e.x+(k.x-e.x)/a,y:e.y+(k.y-e.y)/a},y={x:i.x+(P.x-i.x)/(1-a),y:i.y+(P.y-i.y)/(1-a)};return new ee(e,w,y,i)}static getUtils(){return A}getUtils(){return ee.getUtils()}static get PolyBezier(){return Zt}valueOf(){return this.toString()}toString(){return A.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,n=e[0].x,i=e[0].y,a=["M",n,i,this.order===2?"Q":"C"];for(let o=1,s=e.length;o<s;o++)a.push(e[o].x),a.push(e[o].y);return a.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,n){return""+n+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=A.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,n=A.angle(e[0],e[this.order],e[1]);this.clockwise=n>0}length(){return A.length(this.derivative.bind(this))}static getABC(e=2,n,i,a,o=.5){const s=A.projectionratio(o,e),l=1-s,u={x:s*n.x+l*a.x,y:s*n.y+l*a.y},c=A.abcratio(o,e);return{A:{x:i.x+(i.x-u.x)/c,y:i.y+(i.y-u.y)/c},B:i,C:u,S:n,E:a}}getABC(e,n){n=n||this.get(e);let i=this.points[0],a=this.points[this.order];return ee.getABC(this.order,i,n,a,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let n=0,i,a;n<e;n++)a=n/(e-1),i=this.compute(a),i.t=a,this._lut.push(i);return this._lut}on(e,n){n=n||5;const i=this.getLUT(),a=[];for(let o=0,s,l=0;o<i.length;o++)s=i[o],A.dist(s,e)<n&&(a.push(s),l+=o/i.length);return a.length?t/=a.length:!1}project(e){const n=this.getLUT(),i=n.length-1,a=A.closest(n,e),o=a.mpos,s=(o-1)/i,l=(o+1)/i,u=.1/i;let c=a.mdist,d=s,h=d,p;c+=1;for(let m;d<l+u;d+=u)p=this.compute(d),m=A.dist(e,p),m<c&&(c=m,h=d);return h=h<0?0:h>1?1:h,p=this.compute(h),p.t=h,p.d=c,p}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?A.computeWithRatios(e,this.points,this.ratios,this._3d):A.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,n=[e[0]],i=e.length;for(let a=1,o,s;a<i;a++)o=e[a],s=e[a-1],n[a]={x:(i-a)/i*o.x+a/i*s.x,y:(i-a)/i*o.y+a/i*s.y};return n[i]=e[i-1],new ee(n)}derivative(e){return A.compute(e,this.dpoints[0],this._3d)}dderivative(e){return A.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new ee(A.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return A.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return A.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const n=this.derivative(e),i=Gt(n.x*n.x+n.y*n.y);return{t:e,x:-n.y/i,y:n.x/i}}__normal3(e){const n=this.derivative(e),i=this.derivative(e+.01),a=Gt(n.x*n.x+n.y*n.y+n.z*n.z),o=Gt(i.x*i.x+i.y*i.y+i.z*i.z);n.x/=a,n.y/=a,n.z/=a,i.x/=o,i.y/=o,i.z/=o;const s={x:i.y*n.z-i.z*n.y,y:i.z*n.x-i.x*n.z,z:i.x*n.y-i.y*n.x},l=Gt(s.x*s.x+s.y*s.y+s.z*s.z);s.x/=l,s.y/=l,s.z/=l;const u=[s.x*s.x,s.x*s.y-s.z,s.x*s.z+s.y,s.x*s.y+s.z,s.y*s.y,s.y*s.z-s.x,s.x*s.z-s.y,s.y*s.z+s.x,s.z*s.z];return{t:e,x:u[0]*n.x+u[1]*n.y+u[2]*n.z,y:u[3]*n.x+u[4]*n.y+u[5]*n.z,z:u[6]*n.x+u[7]*n.y+u[8]*n.z}}hull(e){let n=this.points,i=[],a=[],o=0;for(a[o++]=n[0],a[o++]=n[1],a[o++]=n[2],this.order===3&&(a[o++]=n[3]);n.length>1;){i=[];for(let s=0,l,u=n.length-1;s<u;s++)l=A.lerp(e,n[s],n[s+1]),a[o++]=l,i.push(l);n=i}return a}split(e,n){if(e===0&&n)return this.split(n).left;if(n===1)return this.split(e).right;const i=this.hull(e),a={left:this.order===2?new ee([i[0],i[3],i[5]]):new ee([i[0],i[4],i[7],i[9]]),right:this.order===2?new ee([i[5],i[4],i[2]]):new ee([i[9],i[8],i[6],i[3]]),span:i};return a.left._t1=A.map(0,0,1,this._t1,this._t2),a.left._t2=A.map(e,0,1,this._t1,this._t2),a.right._t1=A.map(e,0,1,this._t1,this._t2),a.right._t2=A.map(1,0,1,this._t1,this._t2),n?(n=A.map(n,e,1,0,1),a.right.split(n).left):a}extrema(){const e={};let n=[];return this.dims.forEach((function(i){let a=function(s){return s[i]},o=this.dpoints[0].map(a);e[i]=A.droots(o),this.order===3&&(o=this.dpoints[1].map(a),e[i]=e[i].concat(A.droots(o))),e[i]=e[i].filter(function(s){return s>=0&&s<=1}),n=n.concat(e[i].sort(A.numberSort))}).bind(this)),e.values=n.sort(A.numberSort).filter(function(i,a){return n.indexOf(i)===a}),e}bbox(){const e=this.extrema(),n={};return this.dims.forEach((function(i){n[i]=A.getminmax(this,i,e[i])}).bind(this)),n}overlaps(e){const n=this.bbox(),i=e.bbox();return A.bboxoverlap(n,i)}offset(e,n){if(typeof n<"u"){const i=this.get(e),a=this.normal(e),o={c:i,n:a,x:i.x+a.x*n,y:i.y+a.y*n};return this._3d&&(o.z=i.z+a.z*n),o}if(this._linear){const i=this.normal(0),a=this.points.map(function(o){const s={x:o.x+e*i.x,y:o.y+e*i.y};return o.z&&i.z&&(s.z=o.z+e*i.z),s});return[new ee(a)]}return this.reduce().map(function(i){return i._linear?i.offset(e)[0]:i.scale(e)})}simple(){if(this.order===3){const a=A.angle(this.points[0],this.points[3],this.points[1]),o=A.angle(this.points[0],this.points[3],this.points[2]);if(a>0&&o<0||a<0&&o>0)return!1}const e=this.normal(0),n=this.normal(1);let i=e.x*n.x+e.y*n.y;return this._3d&&(i+=e.z*n.z),Ft(Dg(i))<jg/3}reduce(){let e,n=0,i=0,a=.01,o,s=[],l=[],u=this.extrema().values;for(u.indexOf(0)===-1&&(u=[0].concat(u)),u.indexOf(1)===-1&&u.push(1),n=u[0],e=1;e<u.length;e++)i=u[e],o=this.split(n,i),o._t1=n,o._t2=i,s.push(o),n=i;return s.forEach(function(c){for(n=0,i=0;i<=1;)for(i=n+a;i<=1+a;i+=a)if(o=c.split(n,i),!o.simple()){if(i-=a,Ft(n-i)<a)return[];o=c.split(n,i),o._t1=A.map(n,0,1,c._t1,c._t2),o._t2=A.map(i,0,1,c._t1,c._t2),l.push(o),n=i;break}n<1&&(o=c.split(n,1),o._t1=A.map(n,0,1,c._t1,c._t2),o._t2=c._t2,l.push(o))}),l}translate(e,n,i){i=typeof i=="number"?i:n;const a=this.order;let o=this.points.map((s,l)=>(1-l/a)*n+l/a*i);return new ee(this.points.map((s,l)=>({x:s.x+e.x*o[l],y:s.y+e.y*o[l]})))}scale(e){const n=this.order;let i=!1;if(typeof e=="function"&&(i=e),i&&n===2)return this.raise().scale(i);const a=this.clockwise,o=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):e,i?i(1):e);const s=i?i(0):e,l=i?i(1):e,u=[this.offset(0,10),this.offset(1,10)],c=[],d=A.lli4(u[0],u[0].c,u[1],u[1].c);if(!d)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(h){const p=c[h*n]=A.copy(o[h*n]);p.x+=(h?l:s)*u[h].n.x,p.y+=(h?l:s)*u[h].n.y}),i?([0,1].forEach(function(h){if(!(n===2&&h)){var p=o[h+1],m={x:p.x-d.x,y:p.y-d.y},g=i?i((h+1)/n):e;i&&!a&&(g=-g);var b=Gt(m.x*m.x+m.y*m.y);m.x/=b,m.y/=b,c[h+1]={x:p.x+g*m.x,y:p.y+g*m.y}}}),new ee(c)):([0,1].forEach(h=>{if(n===2&&h)return;const p=c[h*n],m=this.derivative(h),g={x:p.x+m.x,y:p.y+m.y};c[h+1]=A.lli4(p,g,d,o[h+1])}),new ee(c))}outline(e,n,i,a){if(n=n===void 0?e:n,this._linear){const y=this.normal(0),N=this.points[0],v=this.points[this.points.length-1];let C,R,_;i===void 0&&(i=e,a=n),C={x:N.x+y.x*e,y:N.y+y.y*e},_={x:v.x+y.x*i,y:v.y+y.y*i},R={x:(C.x+_.x)/2,y:(C.y+_.y)/2};const O=[C,R,_];C={x:N.x-y.x*n,y:N.y-y.y*n},_={x:v.x-y.x*a,y:v.y-y.y*a},R={x:(C.x+_.x)/2,y:(C.y+_.y)/2};const $=[_,R,C],W=A.makeline($[2],O[0]),U=A.makeline(O[2],$[0]),Q=[W,new ee(O),U,new ee($)];return new Zt(Q)}const o=this.reduce(),s=o.length,l=[];let u=[],c,d=0,h=this.length();const p=typeof i<"u"&&typeof a<"u";function m(y,N,v,C,R){return function(_){const O=C/v,$=(C+R)/v,W=N-y;return A.map(_,0,1,y+O*W,y+$*W)}}o.forEach(function(y){const N=y.length();p?(l.push(y.scale(m(e,i,h,d,N))),u.push(y.scale(m(-n,-a,h,d,N)))):(l.push(y.scale(e)),u.push(y.scale(-n))),d+=N}),u=u.map(function(y){return c=y.points,c[3]?y.points=[c[3],c[2],c[1],c[0]]:y.points=[c[2],c[1],c[0]],y}).reverse();const g=l[0].points[0],b=l[s-1].points[l[s-1].points.length-1],S=u[s-1].points[u[s-1].points.length-1],T=u[0].points[0],k=A.makeline(S,g),P=A.makeline(b,T),w=[k].concat(l).concat([P]).concat(u);return new Zt(w)}outlineshapes(e,n,i){n=n||e;const a=this.outline(e,n).curves,o=[];for(let s=1,l=a.length;s<l/2;s++){const u=A.makeshape(a[s],a[l-s],i);u.startcap.virtual=s>1,u.endcap.virtual=s<l/2-1,o.push(u)}return o}intersects(e,n){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof ee&&(e=e.reduce()),this.curveintersects(this.reduce(),e,n)):this.selfintersects(n)}lineIntersects(e){const n=Zi(e.p1.x,e.p2.x),i=Zi(e.p1.y,e.p2.y),a=Qi(e.p1.x,e.p2.x),o=Qi(e.p1.y,e.p2.y);return A.roots(this.points,e).filter(s=>{var l=this.get(s);return A.between(l.x,n,a)&&A.between(l.y,i,o)})}selfintersects(e){const n=this.reduce(),i=n.length-2,a=[];for(let o=0,s,l,u;o<i;o++)l=n.slice(o,o+1),u=n.slice(o+2),s=this.curveintersects(l,u,e),a.push(...s);return a}curveintersects(e,n,i){const a=[];e.forEach(function(s){n.forEach(function(l){s.overlaps(l)&&a.push({left:s,right:l})})});let o=[];return a.forEach(function(s){const l=A.pairiteration(s.left,s.right,i);l.length>0&&(o=o.concat(l))}),o}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,n,i,a){const o=(a-i)/4,s=this.get(i+o),l=this.get(a-o),u=A.dist(e,n),c=A.dist(e,s),d=A.dist(e,l);return Ft(c-u)+Ft(d-u)}_iterate(e,n){let i=0,a=1,o;do{o=0,a=1;let s=this.get(i),l,u,c,d,h=!1,p=!1,m,g=a,b=1;do if(p=h,d=c,g=(i+a)/2,l=this.get(g),u=this.get(a),c=A.getccenter(s,l,u),c.interval={start:i,end:a},h=this._error(c,s,i,a)<=e,m=p&&!h,m||(b=a),h){if(a>=1){if(c.interval.end=b=1,d=c,a>1){let T={x:c.x+c.r*Mg(c.e),y:c.y+c.r*Pg(c.e)};c.e+=A.angle({x:c.x,y:c.y},T,this.get(1))}break}a=a+(a-i)/2}else a=g;while(!m&&o++<100);if(o>=100)break;d=d||c,n.push(d),i=b}while(a<1);return n}}const uo=(r,e,n,i)=>{i=i!=null?i:-n;const[a,o]=co(r);if(!a||!o)return;if(a[0]===o[0]||a[1]===o[1]||e===x.Diagonal&&Math.abs(a[1]-o[1])===Math.abs(a[0]-o[0])){const w=Math.abs(n);return ho(a,o,w)}const[s,l]=Dr(r);if(!s||!l)return;const u=new ee([...s,...l]),[c,d]=[u.scale(n),u.scale(i)],h=po(a,s,o,u,c,d);if(!h)return;const{mA:[p,m],mB:[g,b],endA:[S,T],endB:[k,P]}=h;return["M ".concat(p," ").concat(m," ").concat(c.toSVG().replace("M","L")," L ").concat(S," ").concat(T),"M ".concat(g," ").concat(b," ").concat(d.toSVG().replace("M","L")," L ").concat(k," ").concat(P)]},Bg=(r,e,n,i)=>{i=i!=null?i:2.5;const[a,o]=co(r);if(!a||!o)return;if(a[0]===o[0]||a[1]===o[1]||Math.abs(Math.abs(a[1]-o[1])-Math.abs(a[0]-o[0]))<.001){const R=Math.abs(n),[_,O]=ho(a,o,R);return{outline:Ig(a,o,R),pA:_,pB:O}}const[s,l]=Dr(r);if(!s||!l)return;const u=new ee([...s,...l]),[c,d]=[u.scale(n),u.scale(i)],h=po(a,s,o,u,c,d);if(!h)return;const{mA:[p,m],mB:[g,b],endA:[S,T],endB:[k,P]}=h,[w,y]=Dr(d.toSVG().replace("M","L")),[N,v]=$g(w,y);return{outline:"M ".concat(p," ").concat(m," ").concat(c.toSVG().replace("M","L")," L ").concat(S," ").concat(T," L ").concat(k," ").concat(P," L ").concat(N.join(" ")," C ").concat(v.join(" ")," L ").concat(g," ").concat(b," Z"),pA:"M ".concat(p," ").concat(m," ").concat(c.toSVG().replace("M","L")," L ").concat(S," ").concat(T),pB:"M ".concat(g," ").concat(b," ").concat(d.toSVG().replace("M","L")," L ").concat(k," ").concat(P)}},co=r=>{var i,a,o,s;const e=(a=(i=r.match(/M\s*[+-]?([0-9]*[.])?[0-9]+\s*[+-]?([0-9]*[.])?[0-9]+/))==null?void 0:i.at(0))==null?void 0:a.replace(/M\s*/,"").split(" ").map(l=>Number(l)),n=(s=(o=r.match(/L\s*[+-]?([0-9]*[.])?[0-9]+\s*[+-]?([0-9]*[.])?[0-9]+\s*$/))==null?void 0:o.at(0))==null?void 0:s.replace(/L\s*/,"").split(" ").map(l=>Number(l));return[e,n]},ho=(r,e,n)=>{const[i,a,o,s]=[r[0],r[1],e[0],e[1]],l=Math.abs((s-a)/(o-i));if(l===1/0)return["M ".concat(i+n," ").concat(a," L ").concat(o+n," ").concat(s),"M ".concat(i-n," ").concat(a," L ").concat(o-n," ").concat(s)];if(l===0)return["M ".concat(i," ").concat(a+n," L ").concat(o," ").concat(s+n),"M ".concat(i," ").concat(a-n," L ").concat(o," ").concat(s-n)];{const u=1/l,c=n/Math.sqrt(u*u+1),d=c*u*-Math.sign((o-i)*(s-a));return["M ".concat(i+c," ").concat(a+d," L ").concat(o+c," ").concat(s+d),"M ".concat(i-c," ").concat(a-d," L ").concat(o-c," ").concat(s-d)]}},Ig=(r,e,n)=>{const[i,a,o,s]=[r[0],r[1],e[0],e[1]],l=Math.abs((s-a)/(o-i));if(l===1/0)return"M ".concat(i+n," ").concat(a," L ").concat(o+n," ").concat(s," L ").concat(o-n," ").concat(s," L ").concat(i-n," ").concat(a," Z");if(l===0)return"M ".concat(i," ").concat(a+n," L ").concat(o," ").concat(s+n," L ").concat(o," ").concat(s-n," L ").concat(i," ").concat(a-n," Z");{const u=1/l,c=n/Math.sqrt(u*u+1),d=c*u*-Math.sign((o-i)*(s-a));return"M ".concat(i+c," ").concat(a+d," L ").concat(o+c," ").concat(s+d," L ").concat(o-c," ").concat(s-d," L ").concat(i-c," ").concat(a-d," Z")}},Dr=r=>{var i,a,o,s;const e=(a=(i=r.match(/L\s*[+-]?([0-9]*[.])?[0-9]+\s*[+-]?([0-9]*[.])?[0-9]+/))==null?void 0:i.at(0))==null?void 0:a.replace(/L\s*/,"").split(" ").map(l=>Number(l)),n=(s=(o=r.match(/C\s*[+-]?([0-9]*[.])?[0-9]+\s*[+-]?([0-9]*[.])?[0-9]+\s*[+-]?([0-9]*[.])?[0-9]+\s*[+-]?([0-9]*[.])?[0-9]+\s*[+-]?([0-9]*[.])?[0-9]+\s*[+-]?([0-9]*[.])?[0-9]+/g))==null?void 0:o.at(0))==null?void 0:s.replace(/C\s*/,"").split(" ").map(l=>Number(l));return[e,n]},$g=(r,e)=>[[e[4],e[5]],[e[2],e[3],e[0],e[1],r[0],r[1]]],po=(r,e,n,i,a,o)=>{const s=[a.points.at(0).x,a.points.at(0).y],l=[o.points.at(0).x,o.points.at(0).y];if(!r)return;const[u,c]=fn(r[0],e[0],s[0],r[1],e[1],s[1]),[d,h]=fn(r[0],e[0],l[0],r[1],e[1],l[1]),p=[a.points.at(-1).x,a.points.at(-1).y],m=[o.points.at(-1).x,o.points.at(-1).y],g=[i.points.at(-1).x,i.points.at(-1).y];if(!n)return;const[b,S]=fn(p[0],g[0],n[0],p[1],g[1],n[1]),[T,k]=fn(m[0],g[0],n[0],m[1],g[1],n[1]);return{mA:[u,c],mB:[d,h],endA:[b,S],endB:[T,k]}},fn=(r,e,n,i,a,o)=>{const[s,l]=[r+n,i+o],[u,c]=[s-e,l-a];return[u,c]},zg=1,Nb=(r,e)=>{const{type:n,parallelIndex:i}=e.attributes;if(n===x.Simple||i<0)return{normal:[e],parallel:[]};const{source:a,target:o}=e,s=[],l=[];for(const u of r.edgeEntries(a,o)){const{type:c,parallelIndex:d}=u.attributes;if(c===x.Simple||d<0){s.push(u);continue}const{startFrom:h}=u.attributes[c];fo(c,a,h,u)&&l.push(u)}return{normal:s,parallel:l}},Fg=(r,e,n,i,a)=>{let o=!1;if(r===x.Diagonal)(Math.abs(i-e)<Math.abs(a-n)&&(i<e&&a<n||i>e&&a>n)||Math.abs(i-e)>Math.abs(a-n)&&(i>e&&a<n||i<e&&a>n))&&(o=!0);else if(r===x.Perpendicular)(i>e&&a<n||i<e&&a>n)&&(o=!0);else if(r===x.RotatePerpendicular){const[s,l,u,c]=[e*Math.SQRT1_2+n*Math.SQRT1_2,-e*Math.SQRT1_2+n*Math.SQRT1_2,i*Math.SQRT1_2+a*Math.SQRT1_2,-i*Math.SQRT1_2+a*Math.SQRT1_2];(u>s&&c<l||u<s&&c>l)&&(o=!0)}return o},Sb=r=>{var p;let e=r.at(0);if(!e)return{};for(const m of r)m.attributes.parallelIndex<e.attributes.parallelIndex&&(e=m);const n=e.attributes.type,i=e.attributes[n],a=Math.max(zg,i.roundCornerFactor),[o,s,l,u]=[e.sourceAttributes.x,e.sourceAttributes.y,e.targetAttributes.x,e.targetAttributes.y],c=Ro[n].generatePath(o,l,s,u,{...i,roundCornerFactor:a}),d=Fg(n,o,s,l,u),h={};for(const m of r){const g=m.attributes.parallelIndex>0?m.attributes.parallelIndex:0;if(g===0){h[m.edge]=c;continue}const b=g*5,S=["M ".concat(o," ").concat(s+b," L ").concat(l," ").concat(u+b),"M ".concat(o," ").concat(s-b," L ").concat(l," ").concat(u-b)],[T,k]=(p=uo(c,n,b))!=null?p:S;h[m.edge]=d?T:k}return h},fo=(r,e,n,i)=>{const a=i.attributes.type;return r===i.attributes.type&&e===i.source&&n===i.attributes[a].startFrom?!0:r===i.attributes.type&&e===i.target&&n!==i.attributes[a].startFrom},Cb=(r,e,n,i,a)=>{if(e===x.Simple)return-1;const o=[];for(const l of r.edgeEntries(n,i))fo(e,n,a,l)&&o.push(l.attributes.parallelIndex);o.sort();let s=0;for(const l of o){if(l>s)break;s=l+1}return s},ii=(r,e,n)=>{if(e===x.Simple)return n;const i=r.getEdgeAttribute(n,"parallelIndex");if(i<0)return n;const{startFrom:a}=r.getEdgeAttribute(n,e),[o,s]=r.extremities(n);let l=i,u=n;for(const c of r.edgeEntries(o,s)){const d=c.attributes;(e===d.type&&o===c.source&&d[e].startFrom===a&&d.parallelIndex>=0&&d.parallelIndex<l||e===d.type&&o===c.target&&d[e].startFrom!==a&&d.parallelIndex>=0&&d.parallelIndex<l)&&(l=d.parallelIndex,u=c.edge)}return u},Gg=5,Hg=1/0,Ug=r=>{let e=0;for(const n of r.edgeEntries())n.attributes.parallelIndex>=0&&(e+=1);return e},Vg={telemetry:{app:!0,project:!0},preference:{unlockSimplePathAttempts:3,toolsPanel:{expand:!0},autoParallel:!0,randomStationsNames:"none",gridLines:!1,snapLines:!0}},go=Xn({name:"app",initialState:Vg,reducers:{setTelemetryApp:(r,e)=>{r.telemetry.app=e.payload},setTelemetryProject:(r,e)=>{r.telemetry.project=e.payload},setUnlockSimplePath:(r,e)=>{r.preference.unlockSimplePathAttempts=e.payload},setToolsPanelExpansion:(r,e)=>{r.preference.toolsPanel.expand=e.payload},setAutoParallel:(r,e)=>{r.preference.autoParallel=e.payload},setRandomStationsNames:(r,e)=>{r.preference.randomStationsNames=e.payload},setGridLines:(r,e)=>{r.preference.gridLines=e.payload},setSnapLines:(r,e)=>{r.preference.snapLines=e.payload}}}),{setTelemetryApp:Wg,setTelemetryProject:qg,setUnlockSimplePath:Jg,setToolsPanelExpansion:Kg,setAutoParallel:mo,setRandomStationsNames:Yg,setGridLines:Zg,setSnapLines:Qg}=go.actions,Xg=go.reducer,em=49,tm={present:new q().export(),past:[],future:[],svgViewBoxZoom:100,svgViewBoxMin:{x:0,y:0}},yo=da("undo"),bo=da("redo"),wo=Xn({name:"param",initialState:tm,reducers:{setFullState:(r,e)=>structuredClone(e.payload),saveGraph:(r,e)=>{r.future=[],r.past.push(r.present),r.past.length>em&&r.past.shift(),r.present=structuredClone(e.payload)},setSvgViewBoxZoom:(r,e)=>{r.svgViewBoxZoom=e.payload},setSvgViewBoxMin:(r,e)=>{r.svgViewBoxMin=e.payload}},extraReducers:r=>{r.addCase(yo,e=>{if(e.past.length===0)return;const n=e.past.pop();e.future.unshift(e.present),e.present=n,window.graph.clear(),window.graph.import(structuredClone(yi(n)))}).addCase(bo,e=>{if(e.future.length===0)return;const n=e.future.shift();e.past.push(e.present),e.present=n,window.graph.clear(),window.graph.import(structuredClone(yi(n)))})}}),{setFullState:nm,saveGraph:jr,setSvgViewBoxZoom:Rb,setSvgViewBoxMin:_b}=wo.actions,rm=wo.reducer,im={selected:new Set,active:void 0,refresh:{nodes:Date.now(),edges:Date.now()},mode:"free",lastTool:void 0,keepLastPath:!1,theme:[J.Shanghai,"sh1","#E3002B",H.white],paletteAppClip:{input:void 0,output:void 0},count:{stations:0,miscNodes:0,lines:0,masters:0,parallel:0},stationNames:{},globalAlerts:{}},Br=ha("runtime/refreshNodes",async(r,{getState:e,dispatch:n})=>{const i=e();n(sm());let[a,o,s]=[0,0,0];window.graph.forEachNode((u,c)=>{u.startsWith("stn")?a+=1:u.startsWith("misc_node")&&(o+=1),c.type===Le.Master&&(s+=1)}),n(am({stations:a,miscNodes:o,masters:s}));const l=i.account.activeSubscriptions.RMP_CLOUD?Gh:Fh;s>l&&n(vo({status:"warning",message:"".concat(en.t("header.settings.proLimitExceed.master")," ").concat(en.t("header.settings.proLimitExceed.solution"))}))}),Dn=ha("runtime/refreshEdges",async(r,{getState:e,dispatch:n})=>{const i=e();n(lm());const a=window.graph.size,o=Ug(window.graph);n(om({lines:a,parallel:o}));const s=i.account.activeSubscriptions.RMP_CLOUD?Hg:Gg;o>=s&&n(mo(!1)),o>s&&n(vo({status:"warning",message:"".concat(en.t("header.settings.proLimitExceed.parallel")," ").concat(en.t("header.settings.proLimitExceed.solution"))}))}),ai=Xn({name:"runtime",initialState:im,reducers:{setSelected:(r,e)=>{r.selected=e.payload},addSelected:(r,e)=>{r.selected.add(e.payload)},removeSelected:(r,e)=>{r.selected.delete(e.payload)},clearSelected:r=>{r.selected=new Set},setActive:(r,e)=>{r.active=e.payload},setRefreshNodes:r=>{r.refresh.nodes=Date.now()},setRefreshEdges:r=>{r.refresh.edges=Date.now()},setMode:(r,e)=>{r.mode!=="free"&&(r.lastTool=r.mode),r.mode=e.payload},setKeepLastPath:(r,e)=>{r.keepLastPath=e.payload},setTheme:(r,e)=>{r.theme=e.payload},openPaletteAppClip:(r,e)=>{r.paletteAppClip.input=e.payload,r.paletteAppClip.output=void 0},closePaletteAppClip:r=>{r.paletteAppClip.input=void 0},onPaletteAppClipEmit:(r,e)=>{r.paletteAppClip.input=void 0,r.paletteAppClip.output=e.payload},setNodesCount:(r,e)=>{const{stations:n,miscNodes:i,masters:a}=e.payload;r.count.stations=n,r.count.miscNodes=i,r.count.masters=a},setEdgesCount:(r,e)=>{const{lines:n,parallel:i}=e.payload;r.count.lines=n,r.count.parallel=i},setStationNames:(r,e)=>{r.stationNames[e.payload.cityName]=e.payload.names},setGlobalAlert:(r,e)=>{const{status:n,message:i,url:a,linkedApp:o}=e.payload;r.globalAlerts[n]={message:i,url:a,linkedApp:o}},closeGlobalAlert:(r,e)=>{delete r.globalAlerts[e.payload]}},extraReducers:r=>{r.addCase(yo,e=>{e.refresh.nodes=Date.now(),e.refresh.edges=Date.now()}).addCase(bo,e=>{e.refresh.nodes=Date.now(),e.refresh.edges=Date.now()})}}),{setNodesCount:am,setEdgesCount:om}=ai.actions,{setSelected:oi,addSelected:Ab,removeSelected:Eb,clearSelected:Tb,setActive:Lb,setRefreshNodes:sm,setRefreshEdges:lm,setMode:kb,setKeepLastPath:Ob,setTheme:Mb,openPaletteAppClip:um,closePaletteAppClip:cm,onPaletteAppClipEmit:dm,setStationNames:Pb,setGlobalAlert:vo,closeGlobalAlert:Db}=ai.actions,hm=ai.reducer,si=(r,e,n)=>e===0?r:pm(r,e);function pm(r,e,n){function i(R,_,O){var $=_.x-R.x,W=_.y-R.y,U=Math.sqrt($*$+W*W);return a(R,_,Math.min(1,O/U))}function a(R,_,O){return{x:R.x+(_.x-R.x)*O,y:R.y+(_.y-R.y)*O}}function o(R,_){R.length>2&&(R[R.length-2]=_.x,R[R.length-1]=_.y)}function s(R){return{x:parseFloat(R[R.length-2]),y:parseFloat(R[R.length-1])}}var l=r.split(/[,\s]/).reduce(function(R,_){var O=_.match("([a-zA-Z])(.+)");return O?(R.push(O[1]),R.push(O[2])):R.push(_),R},[]),u=l.reduce(function(R,_){return parseFloat(_)==_&&R.length?R[R.length-1].push(_):R.push([_]),R},[]),c=[];if(u.length>1){var d=s(u[0]),h=null;u[u.length-1][0]=="Z"&&u[0].length>2&&(h=["L",d.x,d.y],u[u.length-1]=h),c.push(u[0]);for(var p=1;p<u.length;p++){var m=c[c.length-1],g=u[p],b=g==h?u[1]:u[p+1];if(b&&m&&m.length>2&&g[0]=="L"&&b.length>2&&b[0]=="L"){var S=s(m),T=s(g),k=s(b),P,w;P=i(T,S,e),w=i(T,k,e),o(g,P),g.origPoint=T,c.push(g);var y=a(P,T,.5),N=a(T,w,.5),v=["C",y.x,y.y,N.x,N.y,w.x,w.y];v.origPoint=T,c.push(v)}else c.push(g)}if(h){var C=s(c[c.length-1]);c.push(["Z"]),o(c[0],C)}}else c=u;return c.reduce(function(R,_){return R+_.join(" ")+" "},"")}const fm=(r,e,n,i,a=He)=>{const{startFrom:o=He.startFrom,offsetFrom:s=He.offsetFrom,offsetTo:l=He.offsetTo,roundCornerFactor:u=He.roundCornerFactor}=a,[c,d,h,p]=o==="from"?[r,n,e,i]:[e,i,r,n],m=Math.abs(h-c)<Math.abs(p-d)?"vertical":"horizontal",[g,b]=o==="from"?[s,l]:[l,s],S=m==="horizontal"?0:g,T=m==="horizontal"?g:0,k=b*Math.SQRT1_2,P=b*Math.SQRT1_2*((h-c)*(p-d)<0?1:-1),[w,y,N,v]=[c+S,d+T,h+k,p+P],C=m==="horizontal"?N+Math.abs(v-y)*(N-w>0?-1:1):w,R=m==="horizontal"?y:v+Math.abs(N-w)*(v-y>0?-1:1),[_,O,$,W]=o==="from"?[w,y,N,v]:[N,v,w,y];return si("M ".concat(_," ").concat(O," L ").concat(C," ").concat(R," L ").concat($," ").concat(W),u)},He={startFrom:"from",offsetFrom:0,offsetTo:0,roundCornerFactor:10},gm=r=>{var h,p,m;const{id:e,attrs:n,handleAttrsUpdate:i,recalculateParallelIndex:a,parallelIndex:o}=r,{t:s}=V(),l=Et(),u=ii(window.graph,x.Diagonal,e),c=o>=0&&u!==e,d=[{type:"select",label:s("panel.details.lines.common.startFrom"),value:n.startFrom,options:{from:s("panel.details.lines.common.from"),to:s("panel.details.lines.common.to")},onChange:g=>{a(e,g),n.startFrom=g,i(e,n)},minW:"full"},{type:"input",label:s("panel.details.lines.common.offsetFrom"),value:((h=n.offsetFrom)!=null?h:He.offsetFrom).toString(),variant:"number",onChange:g=>{Number.isNaN(g)&&(g="0"),n.offsetFrom=Number(g),i(e,n)},isDisabled:c,minW:"full"},{type:"input",label:s("panel.details.lines.common.offsetTo"),value:((p=n.offsetTo)!=null?p:He.offsetTo).toString(),variant:"number",onChange:g=>{Number.isNaN(g)&&(g="0"),n.offsetTo=Number(g),i(e,n)},isDisabled:c,minW:"full"},{type:"input",label:s("panel.details.lines.common.roundCornerFactor"),value:((m=n==null?void 0:n.roundCornerFactor)!=null?m:He.roundCornerFactor).toString(),variant:"number",onChange:g=>{(Number.isNaN(g)||Number(g)<0)&&(g="0"),n.roundCornerFactor=Number(g),i(e,n)},isDisabled:c,minW:"full"}];return c&&d.unshift({type:"custom",label:s("panel.details.lines.common.parallelDisabled"),component:f.jsxs(vt,{size:"sm",variant:"link",onClick:()=>l(oi(new Set([u]))),children:[s("panel.details.lines.common.changeInBaseLine")," ",u]})}),f.jsx(Z,{fields:d})},mm=f.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:f.jsx("path",{d:"M9,18V12L15,6",stroke:"currentColor",fill:"none"})}),ym={generatePath:fm,icon:mm,defaultAttrs:He,attrsComponent:gm,metadata:{displayName:"panel.details.lines.diagonal.displayName"}},bm=(r,e,n,i,a=Ue)=>{const{startFrom:o=Ue.startFrom,offsetFrom:s=Ue.offsetFrom,offsetTo:l=Ue.offsetTo,roundCornerFactor:u=Ue.roundCornerFactor}=a,[c,d]=o==="from"?[s,l]:[l,s],[h,p,m,g]=o==="from"?[0,c,d,0]:[c,0,0,d],b=o==="from"?e+m:r+h,S=o==="from"?n+p:i+g;return si("M ".concat(r+h," ").concat(n+p," L ").concat(b," ").concat(S," L ").concat(e+m," ").concat(i+g),u)},Ue={startFrom:"from",offsetFrom:0,offsetTo:0,roundCornerFactor:18.33},wm=r=>{var h,p,m;const{id:e,attrs:n,handleAttrsUpdate:i,recalculateParallelIndex:a,parallelIndex:o}=r,{t:s}=V(),l=Et(),u=ii(window.graph,x.Perpendicular,e),c=o>=0&&u!==e,d=[{type:"select",label:s("panel.details.lines.common.startFrom"),value:n.startFrom,options:{from:s("panel.details.lines.common.from"),to:s("panel.details.lines.common.to")},onChange:g=>{a(e,g),n.startFrom=g,i(e,n)},minW:"full"},{type:"input",label:s("panel.details.lines.common.offsetFrom"),value:((h=n.offsetFrom)!=null?h:Ue.offsetFrom).toString(),variant:"number",onChange:g=>{Number.isNaN(g)&&(g="0"),n.offsetFrom=Number(g),i(e,n)},isDisabled:c,minW:"full"},{type:"input",label:s("panel.details.lines.common.offsetTo"),value:((p=n.offsetTo)!=null?p:Ue.offsetTo).toString(),variant:"number",onChange:g=>{Number.isNaN(g)&&(g="0"),n.offsetTo=Number(g),i(e,n)},isDisabled:c,minW:"full"},{type:"input",label:s("panel.details.lines.common.roundCornerFactor"),value:((m=n==null?void 0:n.roundCornerFactor)!=null?m:Ue.roundCornerFactor).toString(),variant:"number",onChange:g=>{(Number.isNaN(g)||Number(g)<0)&&(g="0"),n.roundCornerFactor=Number(g),i(e,n)},isDisabled:c,minW:"full"}];return c&&d.unshift({type:"custom",label:s("panel.details.lines.common.parallelDisabled"),component:f.jsxs(vt,{size:"sm",variant:"link",onClick:()=>l(oi(new Set([u]))),children:[s("panel.details.lines.common.changeInBaseLine")," ",u]})}),f.jsx(Z,{fields:d})},vm=f.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:f.jsx("path",{d:"M6,6H18V18",stroke:"currentColor",fill:"none"})}),xm={generatePath:bm,icon:vm,defaultAttrs:Ue,attrsComponent:wm,metadata:{displayName:"panel.details.lines.perpendicular.displayName"}},Nm=(r,e,n,i,a=Ve)=>{const{startFrom:o=Ve.startFrom,offsetFrom:s=Ve.offsetFrom,offsetTo:l=Ve.offsetTo,roundCornerFactor:u=Ve.roundCornerFactor}=a,[c,d]=o==="from"?[s,l]:[l,s],[h,p,m,g]=o==="from"?[0,c,d,0]:[c,0,0,d],[b,S,T,k]=[r*Math.SQRT1_2+n*Math.SQRT1_2,-r*Math.SQRT1_2+n*Math.SQRT1_2,e*Math.SQRT1_2+i*Math.SQRT1_2,-e*Math.SQRT1_2+i*Math.SQRT1_2],[P,w,y,N]=[b+h,S+p,T+m,k+g],[v,C,R,_]=[P*Math.SQRT1_2-w*Math.SQRT1_2,P*Math.SQRT1_2+w*Math.SQRT1_2,y*Math.SQRT1_2-N*Math.SQRT1_2,y*Math.SQRT1_2+N*Math.SQRT1_2],O=o==="from"?T+m:b+h,$=o==="from"?S+p:k+g,[W,U]=[O*Math.SQRT1_2-$*Math.SQRT1_2,O*Math.SQRT1_2+$*Math.SQRT1_2];return si("M ".concat(v," ").concat(C," L ").concat(W," ").concat(U," L ").concat(R," ").concat(_),u)},Ve={startFrom:"from",offsetFrom:0,offsetTo:0,roundCornerFactor:18.33},Sm=r=>{var h,p,m;const{id:e,attrs:n,handleAttrsUpdate:i,recalculateParallelIndex:a,parallelIndex:o}=r,{t:s}=V(),l=Et(),u=ii(window.graph,x.RotatePerpendicular,e),c=o>=0&&u!==e,d=[{type:"select",label:s("panel.details.lines.common.startFrom"),value:n.startFrom,options:{from:s("panel.details.lines.common.from"),to:s("panel.details.lines.common.to")},onChange:g=>{a(e,g),n.startFrom=g,i(e,n)},minW:"full"},{type:"input",label:s("panel.details.lines.common.offsetFrom"),value:((h=n.offsetFrom)!=null?h:Ve.offsetFrom).toString(),variant:"number",onChange:g=>{Number.isNaN(g)&&(g="0"),n.offsetFrom=Number(g),i(e,n)},isDisabled:c,minW:"full"},{type:"input",label:s("panel.details.lines.common.offsetTo"),value:((p=n.offsetTo)!=null?p:Ve.offsetTo).toString(),variant:"number",onChange:g=>{Number.isNaN(g)&&(g="0"),n.offsetTo=Number(g),i(e,n)},isDisabled:c,minW:"full"},{type:"input",label:s("panel.details.lines.common.roundCornerFactor"),value:((m=n==null?void 0:n.roundCornerFactor)!=null?m:Ve.roundCornerFactor).toString(),variant:"number",onChange:g=>{(Number.isNaN(g)||Number(g)<0)&&(g="0"),n.roundCornerFactor=Number(g),i(e,n)},isDisabled:c,minW:"full"}];return c&&d.unshift({type:"custom",label:s("panel.details.lines.common.parallelDisabled"),component:f.jsxs(vt,{size:"sm",variant:"link",onClick:()=>l(oi(new Set([u]))),children:[s("panel.details.lines.common.changeInBaseLine")," ",u]})}),f.jsx(Z,{fields:d})},Cm=f.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:f.jsx("path",{d:"M9,6L15,12L9,18",stroke:"currentColor",fill:"none"})}),Rm={generatePath:Nm,icon:Cm,defaultAttrs:Ve,attrsComponent:Sm,metadata:{displayName:"panel.details.lines.rotatePerpendicular.displayName"}};var F=(r=>(r.ShmetroBasic="shmetro-basic",r.ShmetroBasic2020="shmetro-basic-2020",r.ShmetroInt="shmetro-int",r.ShmetroOutOfSystemInt="shmetro-osysi",r.ShanghaiSuburbanRailway="sh-sub-rwy",r.GzmtrBasic="gzmtr-basic",r.GzmtrInt="gzmtr-int",r.GzmtrInt2024="gzmtr-int-2024",r.BjsubwayBasic="bjsubway-basic",r.BjsubwayInt="bjsubway-int",r.MTR="mtr",r.SuzhouRTBasic="suzhourt-basic",r.SuzhouRTInt="suzhourt-int",r.KunmingRTBasic="kunmingrt-basic",r.KunmingRTInt="kunmingrt-int",r.MRTBasic="mrt-basic",r.MRTInt="mrt-int",r.JREastBasic="jr-east-basic",r.JREastImportant="jr-east-imp",r.FoshanMetroBasic="foshan-metro-basic",r.QingdaoMetroStation="qingdao-metro-basic",r.TokyoMetroBasic="tokyo-metro-basic",r.TokyoMetroInt="tokyo-metro-int",r.LondonTubeBasic="london-tube-basic",r.LondonTubeInt="london-tube-int",r.LondonRiverServicesInt="london-river-int",r.GuangdongIntercityRailway="gd-intercity-rwy",r.ChongqingRTBasic="chongqingrt-basic",r.ChongqingRTInt="chongqingrt-int",r.ChongqingRTBasic2021="chongqingrt-basic-2021",r.ChongqingRTInt2021="chongqingrt-int-2021",r.ChengduRTBasic="chengdurt-basic",r.ChengduRTInt="chengdurt-int",r))(F||{});const jb=["shmetro-basic-2020","gzmtr-basic","suzhourt-basic","kunmingrt-basic","mrt-basic","foshan-metro-basic","qingdao-metro-basic","chongqingrt-basic","chongqingrt-basic-2021","chongqingrt-int-2021","chengdurt-basic"],Bb={names:["","Stn"]},Ib=()=>{const[r,e]=M.useState({width:void 0,height:void 0});return M.useEffect(()=>{function n(){e({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),r};function $b(){const{i18n:r}=V();return e=>{var n,i;return(i=(n=r.languages.map(a=>e[a]).find(a=>a!==void 0))!=null?n:e.en)!=null?i:"(Translation Error)"}}const _m=r=>{const{theme:e,onThemeApplied:n}=r!=null?r:{},{theme:i,paletteAppClip:{input:a,output:o}}=ar(p=>p.runtime),s=pa(),[l,u]=M.useState(e!=null?e:i),[c,d]=M.useState(!1);M.useEffect(()=>{c&&(o?(u(o),d(!1),n&&n(o)):a||d(!1))},[a,o,c]);const h=M.useCallback(()=>{d(!0),s(um(l))},[s,l]);return{theme:l,requestThemeChange:h}};function zb(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"},child:[]}]})(r)}function Fb(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(r)}function Gb(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},child:[]}]})(r)}function Hb(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"},child:[]}]})(r)}function Ub(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},child:[]}]})(r)}function Vb(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},child:[]}]})(r)}function Wb(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(r)}function qb(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7 1.62-4.33L19.12 17h-3.24z"},child:[]}]})(r)}function Jb(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},child:[]},{tag:"path",attr:{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"},child:[]}]})(r)}function Kb(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"},child:[]}]})(r)}function Yb(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 7h9v2h-9zM13 15h9v2h-9zM16 11h6v2h-6zM13 12 8 7v4H2v2h6v4z"},child:[]}]})(r)}function Zb(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(r)}function Qb(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(r)}function Xb(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 13h2v-2H3v2zm4 8h2v-2H7v2zm6-18h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zm8 4h2v-2h-2v2zm8-8h2v-2h-2v2zm0-4h2V7h-2v2zm-4-4h2V3h-2v2zM7.83 5 7 4.17V3h2v2H7.83zm12 12-.83-.83V15h2v2h-1.17zm1.36 4.19L2.81 2.81 1.39 4.22 4.17 7H3v2h2V7.83l2 2V17h7.17l2 2H15v2h2v-1.17l2.78 2.78 1.41-1.42zM9 15v-3.17L12.17 15H9zm6-2.83V9h-3.17l-2-2H17v7.17l-2-2z"},child:[]}]})(r)}function ew(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16a8.002 8.002 0 0 1 7.6-5.5c1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"},child:[]}]})(r)}function tw(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13H5v-2h14v2z"},child:[]}]})(r)}function nw(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 12.4V7l-4-4H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.4l8.6-8.6zM15 15c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zM6 6h9v4H6V6zm13.99 10.25 1.77 1.77L16.77 23H15v-1.77l4.99-4.98zm3.26.26-.85.85-1.77-1.77.85-.85c.2-.2.51-.2.71 0l1.06 1.06c.2.2.2.52 0 .71z"},child:[]}]})(r)}function rw(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(r)}function iw(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"},child:[]}]})(r)}function aw(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"},child:[]}]})(r)}function ow(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"},child:[]}]})(r)}function sw(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"},child:[]}]})(r)}function Am(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"},child:[]}]})(r)}function lw(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"},child:[]}]})(r)}function uw(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"},child:[]}]})(r)}function cw(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"},child:[]}]})(r)}function dw(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"},child:[]}]})(r)}function hw(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"},child:[]}]})(r)}function pw(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"},child:[]}]})(r)}function fw(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"},child:[]}]})(r)}function gw(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},child:[]}]})(r)}function mw(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3 1 9l11 6 9-4.91V17h2V9L12 3z"},child:[]}]})(r)}function Em(r){return G({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3z"},child:[]}]})(r)}class Tm{static hexToRgb(e){return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16)]}static fade(e,n){return"rgba(".concat([...this.hexToRgb(e),n].join(","),")")}static euclideanDistance(e,n){return this.hexToRgb(e).reduce((i,a,o)=>i+Math.pow(a-this.hexToRgb(n)[o],2),0)}}function Lm(r){const{theme:e,onClick:n}=r,{t:i}=V();return f.jsx(Nn,{"aria-label":i("Color"),color:e[3],bg:e[2],size:"md",_hover:{bg:Tm.fade(e[2],.7)},icon:f.jsx(Am,{}),onClick:n})}const ne=r=>{var P;const{type:e,colorKey:n="color",defaultTheme:i}=r,a=Et(),{selected:o,paletteAppClip:{input:s,output:l}}=ar(w=>w.runtime),[u]=o,c=j.useCallback(()=>{a(Br()),a(Dn()),a(jr(d.current.export()))},[a,Br,Dn,jr]),d=j.useRef(window.graph),[h,p,m]=[].concat(Object.values(F)).concat(Object.values(Le)).find(w=>e===w)?[d.current.hasNode,d.current.getNodeAttribute,d.current.mergeNodeAttributes]:[d.current.hasEdge,d.current.getEdgeAttribute,d.current.mergeEdgeAttributes],g=w=>{if(u&&h.bind(d.current)(u)){const y=p.bind(d.current)(u,e);y[n]=w,m.bind(d.current)(u,{[e]:y}),c()}},S=u&&h.bind(d.current)(u)&&(u.startsWith("stn")||u.startsWith("misc_node")?d.current.getNodeAttribute(u,"type")===e:d.current.getEdgeAttribute(u,"style")===e)?((P=p.bind(d.current)(u,e))!=null?P:{[n]:i})[n]:i,{theme:T,requestThemeChange:k}=_m({theme:S,onThemeApplied:g});return f.jsx(f.Fragment,{children:f.jsx(Lm,{theme:T,onClick:k})})},km=r=>{const{id:e,path:n,styleAttrs:i,newLine:a,handlePointerDown:o}=r,{color:s=jn.color}=i!=null?i:jn,l=j.useCallback(u=>o(e,u),[e,o]);return f.jsx("path",{id:e,d:n,fill:"none",stroke:s[2],strokeWidth:"5",strokeLinecap:"round",cursor:"pointer",onPointerDown:a?void 0:l,pointerEvents:a?"none":void 0})},jn={color:[J.Shanghai,"sh1","#E4002B",H.white]},Om=r=>{const{t:e}=V(),n=[{type:"custom",label:e("color"),component:f.jsx(ne,{type:D.SingleColor,defaultTheme:jn.color})}];return f.jsx(Z,{fields:n})},Mm={component:km,defaultAttrs:jn,attrsComponent:Om,metadata:{displayName:"panel.details.lines.singleColor.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},Pm=r=>{const{id:e,path:n,handlePointerDown:i}=r,a=j.useCallback(o=>i(e,o),[e,i]);return f.jsxs("g",{id:e,onPointerDown:a,cursor:"pointer",children:[f.jsx("path",{d:n,fill:"none",stroke:"black",strokeWidth:"7",strokeLinecap:"round"}),f.jsx("path",{d:n,fill:"none",stroke:"white",strokeWidth:"4.33",strokeLinecap:"round"})]})},Dm={},jm=()=>{},Bm={component:Pm,defaultAttrs:Dm,attrsComponent:jm,metadata:{displayName:"panel.details.lines.shmetroVirtualInt.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular,x.Simple]}},Im=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{isEnd:o=xo.isEnd}=i,s=j.useCallback(u=>a(e,u),[e,a]),l=o?"round":void 0;return f.jsx("g",{id:"".concat(e,".pre"),onPointerDown:s,cursor:"pointer",children:f.jsx("path",{d:n,fill:"none",stroke:"#898989",strokeWidth:"5",strokeLinecap:l})})},$m=r=>{const{id:e,path:n,handlePointerDown:i}=r,a=j.useCallback(o=>i(e,o),[e,i]);return f.jsx("g",{id:e,onPointerDown:a,cursor:"pointer",children:f.jsx("path",{d:n,fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})})},xo={isEnd:!1},zm=r=>{const{id:e,attrs:n,handleAttrsUpdate:i}=r,{t:a}=V(),o=[{type:"switch",label:a("panel.details.lines.shanghaiSuburbanRailway.isEnd"),isChecked:n.isEnd,onChange:s=>{n.isEnd=s,i(e,n)},oneLine:!0,minW:"full"}];return f.jsx(Z,{fields:o})},Fm={component:$m,preComponent:Im,defaultAttrs:xo,attrsComponent:zm,metadata:{displayName:"panel.details.lines.shanghaiSuburbanRailway.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},Gm=r=>{const{id:e,path:n,handlePointerDown:i}=r,a=j.useCallback(o=>i(e,o),[e,i]);return f.jsx("path",{id:e,d:n,fill:"none",stroke:"#565656",strokeWidth:"3",strokeDasharray:"3",cursor:"pointer",onPointerDown:a})},Hm={},Um=()=>null,Vm={component:Gm,defaultAttrs:Hm,attrsComponent:Um,metadata:{displayName:"panel.details.lines.gzmtrVirtualInt.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular,x.Simple]}},No=9.25*2,So=1.3,Co=.57915,Wm=(No+So)*Co,qm=(No-So)*Co,Jm=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{color:o=Bn.color}=i!=null?i:Bn,s=j.useCallback(l=>a(e,l),[e,a]);return f.jsxs("g",{id:e,onPointerDown:s,cursor:"pointer",children:[f.jsx("path",{d:n,fill:"none",stroke:"black",strokeWidth:Wm}),f.jsx("path",{d:n,fill:"none",stroke:o[2],strokeWidth:qm,strokeLinecap:"round"})]})},Bn={color:[J.Guangzhou,"gz11","#ffb00a",H.black]},Km=r=>{const{t:e}=V(),n=[{type:"custom",label:e("color"),component:f.jsx(ne,{type:D.GZMTRLoop,defaultTheme:Bn.color})}];return f.jsx(Z,{fields:n})},Ym={component:Jm,defaultAttrs:Bn,attrsComponent:Km,metadata:{displayName:"panel.details.lines.gzmtrLoop.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},Zm=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{color:o=In.color}=i!=null?i:In,s=j.useCallback(l=>a(e,l),[e,a]);return f.jsxs("g",{id:e,onPointerDown:s,cursor:"pointer",children:[f.jsx("path",{d:n,fill:"none",stroke:o[2],strokeWidth:"5",strokeLinecap:"round"}),f.jsx("path",{d:n,fill:"none",stroke:o[3],strokeWidth:"4.67",strokeDasharray:"17.5"})]})},In={color:[J.Shanghai,"jsr","#000000",H.white]},Qm=r=>{const{t:e}=V(),n=[{type:"custom",label:e("color"),component:f.jsx(ne,{type:D.ChinaRailway,defaultTheme:In.color})}];return f.jsx(Z,{fields:n})},Xm={component:Zm,defaultAttrs:In,attrsComponent:Qm,metadata:{displayName:"panel.details.lines.chinaRailway.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},ey=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{color:o=$n.color}=i!=null?i:$n,s=j.useCallback(l=>a(e,l),[e,a]);return f.jsxs("g",{id:e,onPointerDown:s,cursor:"pointer",children:[f.jsx("path",{d:n,fill:"none",stroke:"white",strokeWidth:"6",strokeLinecap:"round"}),f.jsx("path",{d:n,fill:"none",stroke:o[2],strokeWidth:"5",strokeLinecap:"round"})]})},$n={color:[J.Beijing,"bj1","#c23a30",H.white]},ty=r=>{const{id:e,attrs:n,handleAttrsUpdate:i}=r,{t:a}=V(),o=[{type:"custom",label:a("color"),component:f.jsx(ne,{type:D.BjsubwaySingleColor,defaultTheme:$n.color})}];return f.jsx(Z,{fields:o})},ny={component:ey,defaultAttrs:$n,attrsComponent:ty,metadata:{displayName:"panel.details.lines.bjsubwaySingleColor.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},ry=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{color:o=zn.color}=i!=null?i:zn,s=j.useCallback(l=>a(e,l),[e,a]);return f.jsxs("g",{id:e,onPointerDown:s,cursor:"pointer",children:[f.jsx("path",{d:n,fill:"none",stroke:o[2],strokeWidth:"5"}),f.jsx("path",{d:n,fill:"none",stroke:"white",strokeWidth:"1.67"})]})},zn={color:[J.Beijing,"bj1","#c23a30",H.white]},iy=r=>{const{id:e,attrs:n,handleAttrsUpdate:i}=r,{t:a}=V(),o=[{type:"custom",label:a("color"),component:f.jsx(ne,{type:D.BjsubwayTram,defaultTheme:zn.color})}];return f.jsx(Z,{fields:o})},ay={component:ry,defaultAttrs:zn,attrsComponent:iy,metadata:{displayName:"panel.details.lines.bjsubwayTram.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},oy=r=>{const{id:e,type:n,path:i,styleAttrs:a,handlePointerDown:o}=r,{colorA:s=ut.colorA,colorB:l=ut.colorB}=a!=null?a:ut,u=j.useCallback(m=>o(e,m),[e,o]),[c,d]=j.useState(i),[h,p]=j.useState(i);return j.useEffect(()=>{const m=uo(i,n,-1.25,1.25);m&&(d(m[0]),p(m[1]))},[i]),f.jsxs("g",{id:e,onPointerDown:u,cursor:"pointer",children:[f.jsx("path",{d:c,fill:"none",stroke:s[2],strokeWidth:"2.5",strokeLinecap:"round"}),f.jsx("path",{d:h,fill:"none",stroke:l[2],strokeWidth:"2.5",strokeLinecap:"round"})]})},ut={colorA:[J.Shanghai,"maglevA","#008B9A",H.white],colorB:[J.Shanghai,"maglevB","#F5A74E",H.white]},sy=()=>{const{t:r}=V(),e=Et(),{selected:n}=ar(o=>o.runtime),[i]=n,a=j.useRef(window.graph);return f.jsx(Nn,{"aria-label":r("panel.details.lines.dualColor.swap"),icon:f.jsx(Em,{}),size:"sm",onClick:()=>{var l;const o=(l=a.current.getEdgeAttribute(i,D.DualColor))!=null?l:ut,s=o.colorA;o.colorA=o.colorB,o.colorB=s,a.current.mergeEdgeAttributes(i,{[D.DualColor]:o}),e(Dn()),e(jr(a.current.export()))}})},ly=r=>{const{t:e}=V(),n=[{type:"custom",label:e("panel.details.lines.dualColor.swap"),component:f.jsx(sy,{})},{type:"custom",label:e("panel.details.lines.dualColor.colorA"),component:f.jsx(ne,{type:D.DualColor,colorKey:"colorA",defaultTheme:ut.colorA})},{type:"custom",label:e("panel.details.lines.dualColor.colorB"),component:f.jsx(ne,{type:D.DualColor,colorKey:"colorB",defaultTheme:ut.colorB})}];return f.jsx(Z,{fields:n})},uy={component:oy,defaultAttrs:ut,attrsComponent:ly,metadata:{displayName:"panel.details.lines.dualColor.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},cy=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{color:o=Qt.color,width:s=Qt.width}=i!=null?i:Qt,l=j.useCallback(u=>a(e,u),[e,a]);return f.jsx("path",{id:e,d:n,fill:"none",stroke:o[2],strokeWidth:s,strokeLinecap:"round",cursor:"pointer",onPointerDown:l})},Qt={color:[J.Shanghai,"river","#B9E3F9",H.white],width:20},dy=r=>{var s;const{id:e,attrs:n,handleAttrsUpdate:i}=r,{t:a}=V(),o=[{type:"input",label:a("panel.details.lines.river.width"),variant:"number",value:((s=n.width)!=null?s:Qt.width).toString(),validator:l=>!Number.isNaN(l),onChange:l=>{n.width=Number(l),i(e,n)}}];return f.jsx(Z,{fields:o})},hy={component:cy,defaultAttrs:Qt,attrsComponent:dy,metadata:{displayName:"panel.details.lines.river.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular,x.Simple]}},py=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{color:o=Fn.color}=i!=null?i:Fn,s=j.useCallback(l=>a(e,l),[e,a]);return f.jsx("path",{id:e,d:n,fill:"none",stroke:o[2],strokeWidth:"5",strokeLinecap:"butt",strokeDasharray:"5 2.5",cursor:"pointer",onPointerDown:s})},Fn={color:[J.Hongkong,"twl","#E2231A",H.white]},fy=r=>{const{id:e,attrs:n,handleAttrsUpdate:i}=r,{t:a}=V(),o=[{type:"custom",label:a("color"),component:f.jsx(ne,{type:D.MTRRaceDays,defaultTheme:Fn.color})}];return f.jsx(Z,{fields:o})},gy={component:py,defaultAttrs:Fn,attrsComponent:fy,metadata:{displayName:"panel.details.lines.mtrRaceDays.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},my=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{color:o=Gn.color}=i!=null?i:Gn,s=j.useCallback(l=>a(e,l),[e,a]);return f.jsx("path",{id:e,d:n,fill:"none",stroke:o[2],strokeWidth:"2.5",strokeLinecap:"round",cursor:"pointer",onPointerDown:s})},Gn={color:[J.Hongkong,"lrl","#CD9700",H.white]},yy=r=>{const{id:e,attrs:n,handleAttrsUpdate:i}=r,{t:a}=V(),o=[{type:"custom",label:a("color"),component:f.jsx(ne,{type:D.MTRLightRail,defaultTheme:Gn.color})}];return f.jsx(Z,{fields:o})},by={component:my,defaultAttrs:Gn,attrsComponent:yy,metadata:{displayName:"panel.details.lines.mtrLightRail.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},wy=r=>{const{id:e,path:n,handlePointerDown:i}=r,a=j.useCallback(o=>i(e,o),[e,i]);return f.jsx("path",{id:e,d:n,fill:"none",stroke:"black",strokeWidth:"1.33",strokeDasharray:"2.66 1.33",cursor:"pointer",onPointerDown:a})},vy={},xy=()=>{},Ny={component:wy,defaultAttrs:vy,attrsComponent:xy,metadata:{displayName:"panel.details.lines.mtrUnpaidArea.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular,x.Simple]}},Sy=r=>{const{id:e,path:n,handlePointerDown:i}=r,a=j.useCallback(o=>i(e,o),[e,i]);return f.jsx("path",{id:e,d:n,fill:"none",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",cursor:"pointer",onPointerDown:a})},Cy={},Ry=()=>{},_y={component:Sy,defaultAttrs:Cy,attrsComponent:Ry,metadata:{displayName:"panel.details.lines.mtrPaidArea.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular,x.Simple]}},Ay=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{color:o=Hn.color}=i!=null?i:Hn,s=j.useCallback(u=>a(e,u),[e,a]),l=ca("white","var(--chakra-colors-gray-800)");return f.jsxs("g",{id:e,onPointerDown:s,cursor:"pointer",children:[f.jsx("path",{d:n,fill:"none",stroke:o[2],strokeWidth:"5",strokeDasharray:"2 2"}),f.jsx("path",{d:n,fill:"none",stroke:l,strokeWidth:"3.4"})]})},Hn={color:[J.Beijing,"bj1","#c23a30",H.white]},Ey=r=>{const{id:e,attrs:n,handleAttrsUpdate:i}=r,{t:a}=V(),o=[{type:"custom",label:a("color"),component:f.jsx(ne,{type:D.BjsubwayDotted,defaultTheme:Hn.color})}];return f.jsx(Z,{fields:o})},Ty={component:Ay,defaultAttrs:Hn,attrsComponent:Ey,metadata:{displayName:"panel.details.lines.bjsubwayDotted.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},Ly=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{color:o=Un.color}=i!=null?i:Un,s=j.useCallback(l=>a(e,l),[e,a]);return f.jsx("path",{id:e,d:n,fill:"none",stroke:o[2],strokeWidth:"5",strokeDasharray:"0 10",strokeLinecap:"round",cursor:"pointer",onPointerDown:s})},Un={color:[J.Singapore,"ewl","#009739",H.white]},ky=r=>{const{id:e,attrs:n,handleAttrsUpdate:i}=r,{t:a}=V(),o=[{type:"custom",label:"color",component:f.jsx(ne,{type:D.MRTUnderConstruction,defaultTheme:Un.color})}];return f.jsx(Z,{fields:o})},Oy={component:Ly,defaultAttrs:Un,attrsComponent:ky,metadata:{displayName:"panel.details.lines.mrtUnderConstruction.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},My=r=>{const{id:e,path:n,handlePointerDown:i}=r,a=j.useCallback(o=>i(e,o),[e,i]);return f.jsx("path",{id:e,d:n,fill:"none",stroke:"black",strokeWidth:"5",strokeDasharray:"0 10 10 10",strokeLinecap:"round",cursor:"pointer",onPointerDown:a})},Py={},Dy=r=>null,jy={component:My,defaultAttrs:Py,attrsComponent:Dy,metadata:{displayName:"panel.details.lines.mrtSentosaExpress.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},By=r=>{const{id:e,path:n,styleAttrs:i,newLine:a,handlePointerDown:o}=r,{color:s=Vn.color}=i!=null?i:Vn,l=j.useCallback(u=>o(e,u),[e,o]);return f.jsxs("g",{id:e,onPointerDown:l,cursor:"pointer",children:[f.jsx("path",{d:n,fill:"none",stroke:"black",strokeWidth:"5.1"}),f.jsx("path",{d:n,fill:"none",stroke:s[2],strokeWidth:"4.9"})]})},Vn={color:[J.Tokyo,"jy","#9ACD32",H.black]},Iy=r=>{const{id:e,attrs:n,handleAttrsUpdate:i}=r,{t:a}=V(),o=[{type:"custom",label:a("color"),component:f.jsx(ne,{type:D.JREastSingleColor,defaultTheme:Vn.color})}];return f.jsx(Z,{fields:o})},$y={component:By,defaultAttrs:Vn,attrsComponent:Iy,metadata:{displayName:"panel.details.lines.jrEastSingleColor.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},zy=5,me=zy*Math.SQRT1_2,Ir=.25,gn=(me*Math.SQRT2-Ir)/2*Math.SQRT2,Fy=r=>{const{id:e,type:n,path:i,styleAttrs:a,newLine:o,handlePointerDown:s}=r,{color:l=Wn.color}=a!=null?a:Wn,u=j.useCallback(h=>s(e,h),[e,s]),[c,d]=j.useState({outline:i,pA:i,pB:i});return j.useEffect(()=>{const h=Bg(i,n,-2.5,2.5);h&&d(h)},[i]),f.jsxs("g",{id:e,onPointerDown:u,cursor:"pointer",children:[f.jsxs("defs",{children:[f.jsxs("clipPath",{id:"jr_east_fill_pattern_clip_path",patternUnits:"userSpaceOnUse",children:[f.jsx("polygon",{points:"0,0 0,".concat(gn," ").concat(gn,",0")}),f.jsx("polygon",{points:"".concat(me,",").concat(me," ").concat(me-gn,",").concat(me," ").concat(me,",").concat(me-gn)})]}),f.jsxs("pattern",{id:"jr_east_".concat(e,"_fill_pattern_").concat(l[2]),width:me,height:me,patternUnits:"userSpaceOnUse",children:[f.jsx("rect",{width:me,height:me,fill:l[2]}),f.jsx("line",{x1:"0",y1:"0",x2:me,y2:me,stroke:"white",strokeWidth:Ir,strokeOpacity:"50%",clipPath:"url(#jr_east_fill_pattern_clip_path)"}),f.jsx("line",{x1:me,y1:"0",x2:"0",y2:me,stroke:"white",strokeWidth:Ir,strokeOpacity:"50%"})]})]}),f.jsx("path",{d:c.outline,fill:"url(#jr_east_".concat(e,"_fill_pattern_").concat(l[2],")")}),f.jsx("path",{d:c.pA,fill:"none",stroke:"black",strokeWidth:"0.1"}),f.jsx("path",{d:c.pB,fill:"none",stroke:"black",strokeWidth:"0.1"})]})},Wn={color:[J.Tokyo,"jy","#9ACD32",H.black]},Gy=r=>{const{id:e,attrs:n,handleAttrsUpdate:i}=r,{t:a}=V(),o=[{type:"custom",label:a("color"),component:f.jsx(ne,{type:D.JREastSingleColorPattern,defaultTheme:Wn.color})}];return f.jsx(Z,{fields:o})},Hy={component:Fy,defaultAttrs:Wn,attrsComponent:Gy,metadata:{displayName:"panel.details.lines.jrEastSingleColorPattern.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},Uy=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{color:o=qn.color}=i!=null?i:qn,s=j.useCallback(l=>a(e,l),[e,a]);return f.jsx("path",{id:e,d:n,fill:"none",stroke:o[2],strokeWidth:"2.157",strokeLinecap:"round",cursor:"pointer",onPointerDown:s})},qn={color:[J.Singapore,"lrt","#708573",H.white]},Vy=r=>{const e=[{type:"custom",label:"color",component:f.jsx(ne,{type:D.LRTSingleColor,defaultTheme:qn.color})}];return f.jsx(Z,{fields:e})},Wy={component:Uy,defaultAttrs:qn,attrsComponent:Vy,metadata:{displayName:"panel.details.lines.lrtSingleColor.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},qy=r=>{const{id:e,path:n,handlePointerDown:i}=r,a=j.useCallback(o=>i(e,o),[e,i]);return f.jsx("g",{id:"".concat(e,".pre"),onPointerDown:a,cursor:"pointer",children:f.jsx("path",{d:n,fill:"none",stroke:"black",strokeWidth:"7.5",strokeLinecap:"round"})})},Jy=r=>{const{id:e,path:n,handlePointerDown:i}=r,a=j.useCallback(o=>i(e,o),[e,i]);return f.jsx("g",{id:e,onPointerDown:a,cursor:"pointer",children:f.jsx("path",{d:n,fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"})})},Ky={},Yy=()=>{},Zy={component:Jy,preComponent:qy,defaultAttrs:Ky,attrsComponent:Yy,metadata:{displayName:"panel.details.lines.londonTubeInternalInt.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},Qy=r=>{const{id:e,path:n,handlePointerDown:i}=r,a=j.useCallback(o=>i(e,o),[e,i]);return f.jsx("path",{d:n,fill:"none",stroke:"black",strokeWidth:"5",strokeDasharray:"5 2.5",cursor:"pointer",onPointerDown:a})},Xy={},e0=()=>{},t0={component:Qy,defaultAttrs:Xy,attrsComponent:e0,metadata:{displayName:"panel.details.lines.londonTube10MinWalk.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},n0=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{color:o=Jn.color}=i!=null?i:Jn,s=j.useCallback(l=>a(e,l),[e,a]);return f.jsx("path",{id:e,d:n,fill:"none",stroke:o[2],strokeWidth:"5",cursor:"pointer",onPointerDown:s})},Jn={color:[J.London,"central","#DC241F",H.white]},r0=r=>{const{t:e}=V(),n=[{type:"custom",label:e("color"),component:f.jsx(ne,{type:D.LondonTubeTerminal,defaultTheme:Jn.color})}];return f.jsx(Z,{fields:n})},i0={component:n0,defaultAttrs:Jn,attrsComponent:r0,metadata:{displayName:"panel.details.lines.londonTubeTerminal.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},a0=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{colorBackground:o=st.colorBackground,colorForeground:s=st.colorForeground,limitedService:l=st.limitedService}=i!=null?i:st,u=j.useCallback(c=>a(e,c),[e,a]);return l?f.jsxs("g",{id:e,onPointerDown:u,cursor:"pointer",children:[f.jsx("path",{d:n,fill:"none",stroke:o[2],strokeWidth:"5",strokeLinecap:"round"}),f.jsx("path",{d:n,fill:"none",stroke:s[2],strokeWidth:"4.25",strokeLinecap:"round"}),f.jsx("path",{d:n,fill:"none",stroke:o[2],strokeWidth:"2",strokeDasharray:"7 3"})]}):f.jsxs("g",{id:e,onPointerDown:u,cursor:"pointer",children:[f.jsx("path",{d:n,fill:"none",stroke:o[2],strokeWidth:"5",strokeLinecap:"round"}),f.jsx("path",{d:n,fill:"none",stroke:s[2],strokeWidth:"2",strokeDasharray:"7 3"})]})},st={colorBackground:[J.London,"thameslink","#d28db0",H.white],colorForeground:[J.London,"white","#ffffff",H.black],limitedService:!1},o0=r=>{const{id:e,attrs:n,handleAttrsUpdate:i}=r,{t:a}=V(),o=[{type:"switch",label:a("panel.details.lines.londonRail.limitedService"),oneLine:!0,isChecked:n.limitedService,onChange:s=>{n.limitedService=s,i(e,n)},minW:"full"},{type:"custom",label:a("panel.details.lines.londonRail.colorBackground"),component:f.jsx(ne,{type:D.LondonRail,colorKey:"colorBackground",defaultTheme:st.colorBackground})},{type:"custom",label:a("panel.details.lines.londonRail.colorForeground"),component:f.jsx(ne,{type:D.LondonRail,colorKey:"colorForeground",defaultTheme:st.colorForeground})}];return f.jsx(Z,{fields:o})},s0={component:a0,defaultAttrs:st,attrsComponent:o0,metadata:{displayName:"panel.details.lines.londonRail.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},l0=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{color:o=Nt.color}=i!=null?i:Nt,s=j.useCallback(l=>a(e,l),[e,a]);return f.jsx("g",{id:"".concat(e,".pre"),onPointerDown:s,cursor:"pointer",children:f.jsx("path",{d:n,fill:"none",stroke:o[2],strokeWidth:"5"})})},u0=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{color:o=Nt.color}=i!=null?i:Nt,s=j.useCallback(l=>a(e,l),[e,a]);return f.jsx("g",{id:e,onPointerDown:s,cursor:"pointer",children:f.jsx("path",{d:n,fill:"none",stroke:o[3],strokeWidth:"1.67",strokeLinecap:"round"})})},Nt={color:[J.London,"elizabeth","#9364cc",H.white]},c0=r=>{const{t:e}=V(),n=[{type:"custom",label:e("color"),component:f.jsx(ne,{type:D.LondonSandwich,defaultTheme:Nt.color})}];return f.jsx(Z,{fields:n})},d0={component:u0,preComponent:l0,defaultAttrs:Nt,attrsComponent:c0,metadata:{displayName:"panel.details.lines.londonSandwich.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},h0=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{color:o=Kn.color}=i!=null?i:Kn,s=j.useCallback(l=>a(e,l),[e,a]);return f.jsxs("g",{id:e,onPointerDown:s,cursor:"pointer",children:[f.jsx("path",{d:n,fill:"none",stroke:o[2],strokeWidth:"5",strokeLinecap:"round"}),f.jsx("path",{d:n,fill:"none",stroke:o[3],strokeWidth:"3",strokeLinecap:"round",strokeDasharray:"0.001 6"})]})},Kn={color:[J.London,"rail","#d6ae00",H.white]},p0=r=>{const{t:e}=V(),n=[{type:"custom",label:e("color"),component:f.jsx(ne,{type:D.LondonLutonAirportDART,defaultTheme:Kn.color})}];return f.jsx(Z,{fields:n})},f0={component:h0,defaultAttrs:Kn,attrsComponent:p0,metadata:{displayName:"panel.details.lines.londonLutonAirportDART.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},g0=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{color:o=Yn.color}=i!=null?i:Yn,s=j.useCallback(l=>a(e,l),[e,a]);return f.jsxs("g",{id:e,onPointerDown:s,cursor:"pointer",children:[f.jsx("path",{d:n,fill:"none",stroke:o[2],strokeWidth:"5"}),f.jsx("path",{d:n,fill:"none",stroke:"white",strokeWidth:"3"}),f.jsx("path",{d:n,fill:"none",stroke:o[2],strokeWidth:"1"})]})},Yn={color:[J.London,"dangleway","#dc241f",H.white]},m0=r=>{const{t:e}=V(),n=[{type:"custom",label:e("color"),component:f.jsx(ne,{type:D.LondonIFSCloudCableCar,defaultTheme:Yn.color})}];return f.jsx(Z,{fields:n})},y0={component:g0,defaultAttrs:Yn,attrsComponent:m0,metadata:{displayName:"panel.details.lines.londonIFSCloudCableCar.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},b0=r=>{const{id:e,path:n,styleAttrs:i,handlePointerDown:a}=r,{color:o=$r.color}=i!=null?i:$r,s=j.useCallback(l=>a(e,l),[e,a]);return f.jsxs("g",{id:e,onPointerDown:s,cursor:"pointer",children:[f.jsx("path",{d:n,fill:"none",stroke:o[2],strokeWidth:"5",strokeLinecap:"round"}),f.jsx("path",{d:n,fill:"none",stroke:o[3],strokeWidth:"2.5",strokeDasharray:"7.5"})]})},$r={color:[J.Guangzhou,"ir","#2559a8",H.white]},w0=()=>{},v0={component:b0,defaultAttrs:$r,attrsComponent:w0,metadata:{displayName:"panel.details.lines.guangdongIntercityRailway.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},x0=r=>{const{id:e,path:n,styleAttrs:i,newLine:a,handlePointerDown:o}=r,{color:s=Zn.color}=i!=null?i:Zn,l=j.useCallback(u=>o(e,u),[e,o]);return f.jsx("path",{id:e,d:n,fill:"none",stroke:s[2],strokeWidth:"8",strokeLinecap:"round",cursor:"pointer",onPointerDown:a?void 0:l,pointerEvents:a?"none":void 0})},Zn={color:[J.Chongqing,"cq1","#E4002B",H.white]},N0=r=>{const{t:e}=V(),n=[{type:"custom",label:e("color"),component:f.jsx(ne,{type:D.ChongqingRTLoop,defaultTheme:Zn.color})}];return f.jsx(Z,{fields:n})},S0={component:x0,defaultAttrs:Zn,attrsComponent:N0,metadata:{displayName:"panel.details.lines.chongqingRTLoop.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},C0=r=>{const{id:e,path:n,styleAttrs:i,newLine:a,handlePointerDown:o}=r,{color:s=Qn.color}=i!=null?i:Qn,l=j.useCallback(u=>o(e,u),[e,o]);return f.jsx("path",{id:e,d:n,fill:"none",stroke:s[2],strokeWidth:"3",strokeLinecap:"round",cursor:"pointer",onPointerDown:a?void 0:l,pointerEvents:a?"none":void 0})},Qn={color:[J.Chongqing,"cq1","#E4002B",H.white]},R0=r=>{const{t:e}=V(),n=[{type:"custom",label:e("color"),component:f.jsx(ne,{type:D.ChongqingRTLineBadge,defaultTheme:Qn.color})}];return f.jsx(Z,{fields:n})},_0={component:C0,defaultAttrs:Qn,attrsComponent:R0,metadata:{displayName:"panel.details.lines.chongqingRTLineBadge.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},A0=r=>{const{id:e,path:n,newLine:i,handlePointerDown:a}=r,o=j.useCallback(s=>a(e,s),[e,a]);return f.jsx("path",{id:e,d:n,fill:"none",stroke:"#b4b4b5",strokeWidth:"5",strokeDasharray:"6 5",cursor:"pointer",onPointerDown:i?void 0:o,pointerEvents:i?"none":void 0})},E0=()=>{},T0={component:A0,attrsComponent:E0,defaultAttrs:{},metadata:{displayName:"panel.details.lines.chengduRTOutsideFareGates.displayName",supportLinePathType:[x.Diagonal,x.Perpendicular,x.RotatePerpendicular]}},Ro={[x.Diagonal]:ym,[x.Perpendicular]:xm,[x.RotatePerpendicular]:Rm,[x.Simple]:zh},L0={[D.SingleColor]:Mm,[D.ShmetroVirtualInt]:Bm,[D.ShanghaiSuburbanRailway]:Fm,[D.GzmtrVirtualInt]:Vm,[D.GZMTRLoop]:Ym,[D.ChinaRailway]:Xm,[D.BjsubwaySingleColor]:ny,[D.BjsubwayTram]:ay,[D.BjsubwayDotted]:Ty,[D.DualColor]:uy,[D.River]:hy,[D.MTRRaceDays]:gy,[D.MTRLightRail]:by,[D.MTRUnpaidArea]:Ny,[D.MTRPaidArea]:_y,[D.MRTUnderConstruction]:Oy,[D.MRTSentosaExpress]:jy,[D.JREastSingleColor]:$y,[D.JREastSingleColorPattern]:Hy,[D.LRTSingleColor]:Wy,[D.LondonTubeTerminal]:i0,[D.LondonTubeInternalInt]:Zy,[D.LondonTube10MinWalk]:t0,[D.LondonRail]:s0,[D.LondonSandwich]:d0,[D.LondonLutonAirportDART]:f0,[D.LondonIFSCloudCableCar]:y0,[D.GuangdongIntercityRailway]:v0,[D.ChongqingRTLoop]:S0,[D.ChongqingRTLineBadge]:_0,[D.ChengduRTOutsideFareGates]:T0},k0=52,Xi=async()=>JSON.stringify((await At(async()=>{const{default:r}=await import("./tutorial-dkSRd_hI.js");return{default:r}},[])).default),O0=async r=>{let e=!1;r||(r=await Xi(),e=!0);let n=JSON.parse(r);(!("version"in n)||!Number.isInteger(n.version))&&(n=JSON.parse(await Xi()),e=!0);let i=Number(n.version),a=JSON.stringify(n);for(;i in ea;)a=ea[i](a),i=Number(JSON.parse(a).version),e=!0;return e&&(console.warn("Upgrade save from version: ".concat(n.version," to version: ").concat(i)),localStorage.setItem(xe.PARAM_BACKUP,r)),a},M0=r=>{const{present:e,past:n,future:i,...a}=r,o={...a,graph:e,version:k0};return JSON.stringify(o)},ea={0:r=>{var e;return JSON.stringify({version:1,graph:(e=JSON.parse(r))==null?void 0:e.graph,svgViewBoxZoom:100,svgViewBoxMin:{x:0,y:0}})},1:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterNodes((i,a)=>i.startsWith("stn")&&a.type!==F.GzmtrInt).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);o&&"transfer"in o&&delete o.transfer,n.mergeNodeAttributes(i,{[a]:o})}),JSON.stringify({...e,version:2,graph:n.export()})},2:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterNodes((i,a)=>i.startsWith("stn")).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);(o==null?void 0:o.nameOffsetX)==="middle"&&(o==null?void 0:o.nameOffsetY)==="middle"&&(o.nameOffsetX="right",o.nameOffsetY="top"),(o==null?void 0:o.nameOffsetY)==="up"&&(o.nameOffsetY="top"),n.mergeNodeAttributes(i,{[a]:o})}),JSON.stringify({...e,version:3,graph:n.export()})},3:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterEdges((i,a,o,s,l,u,c)=>i.startsWith("line")).forEach(i=>{const a=n.getEdgeAttribute(i,"color");n.removeEdgeAttribute(i,"color"),n.mergeEdgeAttributes(i,{style:D.SingleColor,[D.SingleColor]:{color:a}})}),n.filterEdges((i,a,o,s,l,u,c)=>i.startsWith("misc_edge")).forEach(i=>{const a="line_".concat(jh(10)),[o,s]=n.extremities(i),l=n.getEdgeAttribute(i,"type"),u=l;n.addDirectedEdgeWithKey(a,o,s,{visible:!0,zIndex:0,type:x.Simple,[l]:structuredClone(Ro[x.Simple].defaultAttrs),style:u,[u]:structuredClone(L0[u].defaultAttrs),reconcileId:""}),n.dropEdge(i)}),JSON.stringify({...e,version:4,graph:n.export()})},4:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterNodes((i,a)=>i.startsWith("stn")&&(a.type===F.GzmtrBasic||a.type===F.GzmtrInt)).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);o.open=!0,o.secondaryNames=["",""],n.mergeNodeAttributes(i,{[a]:o})}),JSON.stringify({...e,version:5,graph:n.export()})},5:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterEdges((i,a,o,s,l,u,c)=>i.startsWith("line")&&a.type===x.Simple).forEach(i=>{var o;const a=(o=n.getEdgeAttribute(i,x.Simple))!=null?o:{offset:0};a.offset=0,n.mergeEdgeAttributes(i,{[x.Simple]:a})}),JSON.stringify({...e,version:6,graph:n.export()})},6:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterNodes((i,a)=>i.startsWith("stn")&&a.type===F.GzmtrBasic).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);o.tram=!1,n.mergeNodeAttributes(i,{[a]:o})}),JSON.stringify({...e,version:7,graph:n.export()})},7:r=>JSON.stringify({...JSON.parse(r),version:8}),8:r=>JSON.stringify({...JSON.parse(r),version:9}),9:r=>JSON.stringify({...JSON.parse(r),version:10}),10:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterNodes((i,a)=>i.startsWith("misc_node")&&a.type===Le.Text).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);o.color=[J.Shanghai,"jsr","#000000",H.white],n.mergeNodeAttributes(i,{[a]:o})}),JSON.stringify({...e,version:11,graph:n.export()})},11:r=>JSON.stringify({...JSON.parse(r),version:12}),12:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterNodes((i,a)=>i.startsWith("misc_node")&&a.type===Le.Text).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);o.rotate=0,o.italic=!1,n.mergeNodeAttributes(i,{[a]:o})}),JSON.stringify({...e,version:13,graph:n.export()})},13:r=>JSON.stringify({...JSON.parse(r),version:14}),14:r=>JSON.stringify({...JSON.parse(r),version:15}),15:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterNodes((i,a)=>i.startsWith("misc_node")&&a.type===Le.Text).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);o.italic=o.italic?"italic":"normal",o.bold="normal",n.mergeNodeAttributes(i,{[a]:o})}),JSON.stringify({...e,version:16,graph:n.export()})},16:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterNodes((i,a)=>i.startsWith("misc_node")&&a.type===Le.Facilities).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);let s=0;switch(o.type){case"airport":case"maglev":case"disney":case"railway":s+=25/2;break;case"hsr":case"airport_hk":case"disney_hk":s+=19/2;break}n.updateNodeAttribute(i,"y",l=>(l!=null?l:0)+s)}),JSON.stringify({...e,version:17,graph:n.export()})},17:r=>JSON.stringify({...JSON.parse(r),version:18}),18:r=>JSON.stringify({...JSON.parse(r),version:19}),19:r=>JSON.stringify({...JSON.parse(r),version:20}),20:r=>JSON.stringify({...JSON.parse(r),version:21}),21:r=>JSON.stringify({...JSON.parse(r),version:22}),22:r=>JSON.stringify({...JSON.parse(r),version:23}),23:r=>JSON.stringify({...JSON.parse(r),version:24}),24:r=>{const e=JSON.parse(r),n=new q;return n.import(e.graph),n.filterNodes((i,a)=>i.startsWith("stn")&&a.type===F.GzmtrInt||i.startsWith("misc_node")&&a.type===Le.GzmtrLineBadge).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);o.tram=!1,n.mergeNodeAttributes(i,{[a]:o})}),JSON.stringify({...e,version:25,graph:n.export()})},25:r=>JSON.stringify({...JSON.parse(r),version:26}),26:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterNodes((i,a)=>i.startsWith("misc_node")&&a.type===Le.GzmtrLineBadge).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);o.span=!0,n.mergeNodeAttributes(i,{[a]:o})}),JSON.stringify({...e,version:27,graph:n.export()})},27:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterNodes((i,a)=>i.startsWith("stn")&&a.type===F.GzmtrInt).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);for(let s=0;s<o.transfer.length;s=s+1)for(let l=0;l<o.transfer[s].length;l=l+1)o.transfer[s][l].push("gz");n.mergeNodeAttributes(i,{[a]:o})}),JSON.stringify({...e,version:28,graph:n.export()})},28:r=>JSON.stringify({...JSON.parse(r),version:29}),29:r=>JSON.stringify({...JSON.parse(r),version:30}),30:r=>JSON.stringify({...JSON.parse(r),version:31}),31:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterEdges((i,a)=>a.style===D.ChinaRailway).forEach(i=>{const a=n.getEdgeAttributes(i)[D.ChinaRailway];n.mergeEdgeAttributes(i,{[D.ChinaRailway]:{...a,color:[J.Shanghai,"jsr","#000000",H.white]}})}),JSON.stringify({...e,version:32,graph:n.export()})},32:r=>JSON.stringify({...JSON.parse(r),version:33}),33:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.forEachDirectedEdge(i=>{n.setEdgeAttribute(i,"parallelIndex",-1),n.updateEdgeAttribute(i,"zIndex",a=>Math.max(-10,(a!=null?a:0)-5))}),n.forEachNode(i=>{n.updateNodeAttribute(i,"zIndex",a=>Math.min(10,(a!=null?a:0)+5))}),JSON.stringify({...e,version:34,graph:n.export()})},34:r=>JSON.stringify({...JSON.parse(r),version:35}),35:r=>JSON.stringify({...JSON.parse(r),version:36}),36:r=>JSON.stringify({...JSON.parse(r),version:37}),37:r=>JSON.stringify({...JSON.parse(r),version:38}),38:r=>JSON.stringify({...JSON.parse(r),version:39}),39:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterNodes((i,a)=>i.startsWith("misc_node")&&a.type===Le.Facilities).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);o.type==="qingdao_airport"?o.type="airport_qingdao":o.type==="qingdao_coach_station"?o.type="coach_station_qingdao":o.type==="qingdao_cruise_terminal"?o.type="cruise_terminal_qingdao":o.type==="qingdao_railway"?o.type="railway_qingdao":o.type==="qingdao_tram"&&(o.type="tram_qingdao"),n.mergeNodeAttributes(i,{[a]:o})}),JSON.stringify({...e,version:40,graph:n.export()})},40:r=>JSON.stringify({...JSON.parse(r),version:41}),41:r=>{const e=JSON.parse(r),n=new q;n.import(e==null?void 0:e.graph);const i=a=>a.map(o=>o.replaceAll("\\","\n"));return n.forEachNode((a,o)=>{const s=n.getNodeAttribute(a,"type");let l;(s===F.BjsubwayBasic||s===F.BjsubwayInt||s===F.FoshanMetroBasic||s===F.GuangdongIntercityRailway||s===F.GzmtrBasic||s===F.GzmtrInt||s===F.JREastBasic||s===F.JREastImportant||s===F.KunmingRTBasic||s===F.KunmingRTInt||s===F.MRTBasic||s===F.MRTInt||s===F.MTR||s===F.ShanghaiSuburbanRailway||s===F.ShmetroBasic2020||s===F.ShmetroBasic||s===F.ShmetroInt||s===F.ShmetroOutOfSystemInt||s===F.SuzhouRTBasic||s===F.SuzhouRTInt||s===F.TokyoMetroBasic||s===F.TokyoMetroInt)&&(l=i(o[s].names)),l&&(o[s].names=l,n.mergeNodeAttributes(a,o))}),JSON.stringify({...e,version:42,graph:n.export()})},42:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterNodes((i,a)=>i.startsWith("stn")&&a.type===F.GzmtrInt2024).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);o.columns=2,o.topHeavy=!1,o.osiPosition="none",o.preferVertical&&o.transfer.flat().length===2&&(o.columns=1),delete o.preferVertical,n.mergeNodeAttributes(i,{[a]:o})}),JSON.stringify({...e,version:43,graph:n.export()})},43:r=>JSON.stringify({...JSON.parse(r),version:44}),44:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterNodes((i,a)=>i.startsWith("stn")&&a.type===F.ChongqingRTBasic).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);o.isLoop=!1,n.mergeNodeAttributes(i,{[a]:o})}),JSON.stringify({...e,version:45,graph:n.export()})},45:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterNodes((i,a)=>i.startsWith("stn")&&a.type===F.LondonTubeBasic).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);o.terminalNameRotate=o.rotate,n.mergeNodeAttributes(i,{[a]:o})}),JSON.stringify({...e,version:46,graph:n.export()})},46:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterNodes((i,a)=>i.startsWith("stn")&&a.type===F.ChongqingRTInt).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);o.textDistance=["near","near"],n.mergeNodeAttributes(i,{[a]:o})}),JSON.stringify({...e,version:47,graph:n.export()})},47:r=>JSON.stringify({...JSON.parse(r),version:48}),48:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterNodes((i,a)=>i.startsWith("misc_node")&&a.type===Le.Text).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);o.outline=0,n.mergeNodeAttributes(i,{[a]:o})}),JSON.stringify({...e,version:49,graph:n.export()})},49:r=>{const e=JSON.parse(r),n=new q;return n.import(e==null?void 0:e.graph),n.filterNodes((i,a)=>i.startsWith("stn")&&a.type===F.ChongqingRTInt2021).forEach(i=>{const a=n.getNodeAttribute(i,"type"),o=n.getNodeAttribute(i,a);o.color=o.rapidColor,o.rapidColor=void 0,n.mergeNodeAttributes(i,{[a]:o})}),JSON.stringify({...e,version:50,graph:n.export()})},50:r=>JSON.stringify({...JSON.parse(r),version:51}),51:r=>JSON.stringify({...JSON.parse(r),version:52})};_s();const P0=As({account:Sh,app:Xg,param:rm,runtime:hm}),D0=(r={})=>Es({reducer:P0,middleware:e=>e({serializableCheck:!1}),preloadedState:r}),ae=D0();ae.subscribe(async()=>{await kh(ae.getState().param.present),localStorage.setItem(xe.PARAM,M0(ae.getState().param)),localStorage.setItem(xe.APP,JSON.stringify(ae.getState().app)),localStorage.setItem(xe.LOGIN_STATE,JSON.stringify(ae.getState().account))});const Et=()=>pa(),ar=Ts,j0=j.lazy(()=>At(()=>import("./page-header-CcskfmtK.js"),__vite__mapDeps([0,1,2,3,4]))),B0=j.lazy(()=>At(()=>import("./tools-Bm5h3a04.js").then(r=>r.t),__vite__mapDeps([5,1,2,6,3]))),I0=j.lazy(()=>At(()=>import("./svg-wrapper-GLpi06Aj.js"),__vite__mapDeps([7,1,2,3,8,6]))),$0=j.lazy(()=>At(()=>import("./details-C29BtJc2.js"),__vite__mapDeps([9,1,2,8,3,4,5,6]))),z0=j.lazy(()=>At(()=>import("./rmg-palette-app-clip-CJf5_diC.js"),__vite__mapDeps([10,1,2])));function F0(){const r=Et(),{paletteAppClip:{input:e}}=ar(o=>o.runtime),{t:n}=V(),[i,a]=j.useState(!1);return j.useEffect(()=>{we.isStandaloneWindow()&&!window.localStorage.getItem(xe.DO_NOT_SHOW_RMT_MSG)&&a(!0)},[]),f.jsx(gh,{children:f.jsx(zd,{children:f.jsxs(j.Suspense,{fallback:f.jsx("p",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:"Rail Map Painter protocol... checked"}),children:[f.jsx(j0,{}),i&&f.jsxs(zr,{status:"info",variant:"solid",size:"xs",pl:3,pr:1,py:1,zIndex:"1",children:[f.jsx(Fr,{}),f.jsxs(Xe,{children:[f.jsx(Ut,{href:"/?app=rmp",isExternal:!0,fontWeight:"bold",children:n("rmtPromotion")})," ",f.jsx(Ut,{as:"button",ml:"auto",textDecoration:"underline",onClick:()=>a(!1),children:n("close")})," | ",f.jsx(Ut,{as:"button",textDecoration:"underline",onClick:()=>{a(!1),window.localStorage.setItem(xe.DO_NOT_SHOW_RMT_MSG,"true")},children:n("noShowAgain")})]})]}),f.jsx(Ld,{allowReset:!0,children:f.jsxs(ke,{direction:"row",height:"100%",overflow:"hidden",sx:{position:"relative"},children:[f.jsx(B0,{}),f.jsx(I0,{}),f.jsx($0,{})]})}),f.jsx(z0,{isOpen:!!e,onClose:()=>r(cm()),defaultTheme:e,onSelect:o=>r(dm(o))})]})})})}const G0=()=>{pc.createRoot(document.getElementById("root")).render(f.jsx(j.StrictMode,{children:f.jsx(Ls,{store:ae,children:f.jsx(ks,{i18n:en,children:f.jsx(F0,{})})})}))};var ta;const mn=JSON.parse((ta=localStorage.getItem(xe.LOGIN_STATE))!=null?ta:"{}");var na;const oe=JSON.parse((na=localStorage.getItem(xe.APP))!=null?na:"{}"),H0=localStorage.getItem(xe.PARAM);"telemetry"in oe&&("app"in oe.telemetry&&ae.dispatch(Wg(oe.telemetry.app)),"project"in oe.telemetry&&ae.dispatch(qg(oe.telemetry.project))),"preference"in oe&&("unlockSimplePathAttempts"in oe.preference&&ae.dispatch(Jg(oe.preference.unlockSimplePathAttempts)),"toolsPanel"in oe.preference&&"expand"in oe.preference.toolsPanel&&ae.dispatch(Kg(oe.preference.toolsPanel.expand)),"autoParallel"in oe.preference&&ae.dispatch(mo(oe.preference.autoParallel)),"randomStationsNames"in oe.preference&&ae.dispatch(Yg(oe.preference.randomStationsNames)),"gridLines"in oe.preference&&ae.dispatch(Zg(oe.preference.gridLines)),"snapLines"in oe.preference&&ae.dispatch(Qg(oe.preference.snapLines))),"state"in mn&&ae.dispatch(Yt(mn.state)),"activeSubscriptions"in mn&&ae.dispatch(Mn(mn.activeSubscriptions));we.ready().then(async()=>{const r=await O0(H0),{version:e,graph:n,...i}=JSON.parse(r);window.graph=q.from(n);const a={...i,present:n,past:[],future:[]};ae.dispatch(nm(a)),ae.dispatch(Br()),ae.dispatch(Dn()),G0(),we.injectUITools(),Ph(ae)});export{gw as $,Tb as A,Rb as B,J as C,_b as D,wh as E,Lh as F,sw as G,Hb as H,aw as I,mw as J,Xi as K,wb as L,H as M,Th as N,xe as O,ct as P,Vb as Q,tb as R,F as S,Od as T,K0 as U,oi as V,cb as W,_m as X,Lm as Y,Jg as Z,lb as _,V0 as __vite_legacy_guard,ow as a,en as a$,Mh as a0,Hg as a1,Gg as a2,Ob as a3,mo as a4,vh as a5,Zg as a6,Qg as a7,Yb as a8,hw as a9,fb as aA,kb as aB,ub as aC,Lb as aD,Eb as aE,Ab as aF,db as aG,Le as aH,Mm as aI,gb as aJ,Fh as aK,Y0 as aL,Xb as aM,Pd as aN,nb as aO,rb as aP,ib as aQ,ab as aR,jb as aS,Mb as aT,fw as aU,pw as aV,zb as aW,Kg as aX,$b as aY,vb as aZ,ne as a_,uw as aa,dw as ab,cw as ac,mb as ad,Yg as ae,qg as af,Jb as ag,Kb as ah,lt as ai,eb as aj,Q0 as ak,iw as al,ew as am,qb as an,xb as ao,Wb as ap,Gb as aq,yo as ar,bo as as,Db as at,Pb as au,ob as av,ii as aw,Nb as ax,Sb as ay,L0 as az,Ub as b,bh as b0,yh as b1,Bb as b2,Z0 as b3,Zb as b4,um as b5,Qb as b6,Fb as b7,tw as b8,gd as b9,Id as ba,yb as bb,bb as bc,Et as c,ar as d,hb as e,rw as f,nw as g,lw as h,sb as i,Z as j,vo as k,x as l,Cb as m,jh as n,D as o,Ro as p,Ib as q,we as r,M0 as s,pb as t,X0 as u,Br as v,Dn as w,jr as x,J0 as y,O0 as z};
