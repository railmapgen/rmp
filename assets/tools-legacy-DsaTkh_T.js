System.register(["./chakra-legacy-nXMG1WKf.js","./react-legacy-n6CMfwan.js","./index-legacy-C5Ybctvx.js","./misc-nodes-legacy-BGW8Y0I-.js","./localized-order-legacy-CcESqjMI.js"],function(e,s){"use strict";var a,l,i,t,n,o,r,c,d,x,h,j,p,u,m,f,g,v,y,b,C,k,w,M,I,$,D,P,L,N,S,T,O,z,A,R,V,U,_,q,F;return{setters:[e=>{a=e.R,l=e.j,i=e.h,t=e.v,n=e.aI,o=e.aJ,r=e.aK,c=e.B,d=e.aL,x=e.aM,h=e.O,j=e.y,p=e.az,u=e.aw,m=e.aN,f=e.U,g=e.aq},e=>{v=e.u,y=e.b},e=>{b=e.c,C=e.e,k=e.aE,w=e.a2,M=e.aF,I=e.aG,$=e.aH,D=e.aI,P=e.aJ,L=e.a3,N=e.L,S=e.q,T=e.p,O=e.aK,z=e.aL,A=e.t,R=e.aM,V=e.b},e=>{U=e.b,_=e.s},e=>{q=e.l,F=e.a}],execute:function(){const s={justifyContent:"flex-start",p:0,w:"100%",h:10},W={p:2.5,h:10},B={p:0,display:"flex",flexDirection:"column"},E=l.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:l.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeDasharray:"2",fill:"none"})}),H=(e("default",()=>{var e,u;const{i18n:m,t:f}=v(),g=b(),{activeSubscriptions:R}=C(e=>e.account),{preference:{toolsPanel:{expand:V}}}=C(e=>e.app),{mode:J,lastTool:K,count:{masters:G}}=C(e=>e.runtime),Q=a("white","var(--chakra-colors-gray-800)"),X=y.useCallback(e=>{g(k(e))},[]),{theme:Y,requestThemeChange:Z}=w({onThemeApplied:X}),[ee,se]=y.useState(V),ae=(e,s)=>{const a=O[e],l=a.metadata.supportLinePathType.includes(s),i=!a.isPro||R.RMP_CLOUD;return l&&i},le=(e,s)=>{const a=S[e],l=O[s].metadata.supportLinePathType.includes(e),i=!a.isPro||R.RMP_CLOUD;return l&&i},ie=e=>g(P(`misc-node-${e}`)),{path:te,style:ne}=M(J),oe=!R.RMP_CLOUD&&G+1>I;return l.jsxs(i,{flexShrink:"0",direction:"column",width:V?450:10,maxWidth:"100%",height:"100%",bg:Q,zIndex:"5",transition:"width 0.3s ease-in-out",children:[l.jsx(t,{"aria-label":"Menu",leftIcon:ee?l.jsx($,{size:40,transform:"rotate(90)"}):l.jsx(D,{size:40,transform:"rotate(90)"}),onClick:()=>{V?se(!1):setTimeout(()=>se(!0),320),g(z(!V))},sx:s,children:ee?f("panel.tools.showLess"):void 0}),l.jsx(i,{className:"tools",overflow:"auto",children:l.jsxs(n,{width:"100%",allowMultiple:!0,defaultIndex:[0,2,3],children:[l.jsx(t,{"aria-label":"select",leftIcon:E,onClick:()=>g(P("select"===J?"free":"select")),variant:"select"===J?"solid":"outline",sx:s,children:ee?f("panel.tools.select"):void 0}),l.jsxs(o,{children:[l.jsxs(r,{sx:W,children:[ee&&l.jsx(c,{as:"span",flex:"1",textAlign:"left",children:f("panel.tools.section.lineDrawing")}),l.jsx(d,{})]}),l.jsxs(x,{sx:B,children:[l.jsxs(i,{children:[l.jsx(L,{theme:Y,onClick:Z}),l.jsx(h,{fontWeight:"600",pl:"1",alignSelf:"center",children:ee?f("color"):void 0})]}),Object.values(N).filter(e=>e!==N.Simple||R.RMP_CLOUD).map(e=>l.jsx(t,{"aria-label":e,leftIcon:S[e].icon,onClick:()=>(e=>{let{style:s}=M(J);!s&&K&&(s=M(K).style);const a=s&&ae(s,e)?s:A.SingleColor;g(P(`line-${e}/${a}`))})(e),variant:te===e?"solid":"outline",isDisabled:!!ne&&!le(e,ne),sx:s,children:ee?f(S[e].metadata.displayName):void 0},e)),l.jsx(t,{"aria-label":T.Virtual,leftIcon:U[T.Virtual].icon,onClick:()=>ie(T.Virtual),variant:J===`misc-node-${T.Virtual}`?"solid":"outline",sx:s,children:ee?f(U[T.Virtual].metadata.displayName):void 0})]})]}),l.jsxs(o,{children:[l.jsxs(r,{sx:W,children:[ee&&l.jsx(c,{as:"span",flex:"1",textAlign:"left",children:f("panel.tools.section.lineStyles")}),l.jsx(d,{})]}),l.jsxs(x,{sx:B,children:[Object.entries(O).map(([e,a])=>l.jsx(t,{"aria-label":e,leftIcon:l.jsx(c,{boxSize:"40px"}),onClick:()=>(e=>{let{path:s}=M(J);!s&&K&&(s=M(K).path);const a=s&&le(s,e)?s:N.Diagonal;g(P(`line-${a}/${e}`))})(e),variant:ne===e?"solid":"outline",isDisabled:!!te&&!ae(e,te),sx:s,children:ee?f(a.metadata.displayName):void 0},e)),l.jsx(H,{type:"line-styles",expand:ee})]})]}),l.jsxs(o,{children:[l.jsxs(r,{sx:W,children:[ee&&l.jsx(c,{as:"span",flex:"1",textAlign:"left",children:f("panel.tools.section.stations")}),l.jsx(d,{})]}),l.jsxs(x,{sx:B,children:[null===(e=q[m.language])||void 0===e?void 0:e.map(e=>l.jsx(t,{"aria-label":e,leftIcon:_[e].icon,onClick:()=>(e=>g(P(`station-${e}`)))(e),variant:J===`station-${e}`?"solid":"outline",sx:s,children:ee?f(_[e].metadata.displayName):void 0},e)),l.jsx(H,{type:"station",expand:ee})]})]}),l.jsxs(o,{children:[l.jsxs(r,{sx:W,children:[ee&&l.jsx(c,{as:"span",flex:"1",textAlign:"left",children:f("panel.tools.section.miscellaneousNodes")}),l.jsx(d,{})]}),l.jsxs(x,{sx:B,children:[l.jsxs(t,{"aria-label":T.Master,leftIcon:U[T.Master].icon,onClick:()=>ie(T.Master),variant:J===`misc-node-${T.Master}`?"solid":"outline",isDisabled:oe,sx:s,children:[ee?f(U[T.Master].metadata.displayName):void 0,ee?l.jsxs(l.Fragment,{children:[l.jsx(j,{ml:"1",colorScheme:"green",children:"New"}),l.jsx(p,{label:f("header.settings.proWithTrial"),children:l.jsx(j,{ml:"1",color:"gray.50",background:"radial-gradient(circle, #3f5efb, #fc466b)",mr:"auto",children:"PRO"})})]}):void 0]}),null===(u=F[m.language])||void 0===u?void 0:u.filter(e=>e!==T.Virtual&&e!==T.I18nText&&e!==T.Master).map(e=>l.jsx(t,{"aria-label":e,leftIcon:U[e].icon,onClick:()=>ie(e),variant:J===`misc-node-${e}`?"solid":"outline",sx:s,children:ee?f(U[e].metadata.displayName):void 0},e)),l.jsx(H,{type:"misc-node",expand:ee})]})]})]})})]})}),e=>{const{type:s,expand:a}=e,{t:i}=v(),t="misc-node"===s?"nodes":s;return l.jsxs(u,{children:[l.jsx(m.Provider,{value:{style:{padding:5},size:"40px"},children:l.jsx(R,{})}),a&&l.jsxs(l.Fragment,{children:[l.jsx(f,{color:"teal.500",href:`https://github.com/railmapgen/rmp/blob/main/docs/${t}.md`,isExternal:!0,children:i(`panel.tools.learnHowToAdd.${s}`)}),l.jsx(g,{as:V,color:"teal.500",mr:"auto"})]})]})})}}});
