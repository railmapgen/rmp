import{C as S,M as N,aV as A,aE as b,i as v,aW as be,c as je,d as we,V as Be,W as Ce,P as Ne,R as pe,D as Le,am as ve}from"./index-BBJvb10l.js";import{j as e,h as fe,aM as Te,a2 as Se,t as Pe}from"./chakra-BujJOmjW.js";import{b as d,u as T}from"./react-D4c9atUM.js";import{L as Ae,o as le,t as ue,p as _e,q as ze,r as ke,M as Me,v as Re}from"./master-manager-BMAeDyXv.js";const $e=c=>{const{id:n,x:t,y:i,handlePointerDown:o,handlePointerMove:l,handlePointerUp:a}=c,s=d.useCallback(m=>o(n,m),[n,o]),r=d.useCallback(m=>l(n,m),[n,l]),h=d.useCallback(m=>a(n,m),[n,a]);return e.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")rotate(45)"),onPointerDown:s,onPointerMove:r,onPointerUp:h,style:{cursor:"move"},className:"removeMe",children:[e.jsx("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"black"}),e.jsx("line",{x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"black"}),e.jsx("circle",{id:"virtual_circle_".concat(n),r:5,stroke:"black",fill:"white",fillOpacity:"0"})]})},Ue={},De=()=>{},Ie=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,transform:"rotate(45)",focusable:!1,children:[e.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),e.jsx("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:"currentColor"}),e.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"18",stroke:"currentColor"})]}),Ee={component:$e,icon:Ie,defaultAttrs:Ue,attrsComponent:De,metadata:{displayName:"panel.details.nodes.virtual.displayName",tags:[]}},We=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{num:r=V.num,color:h=V.color}=o!=null?o:V,[m,y]=r>=10?[22.67,10.75]:[21,10],p=d.useCallback(g=>l(n,g),[n,l]),f=d.useCallback(g=>a(n,g),[n,a]),u=d.useCallback(g=>s(n,g),[n,s]);return e.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:p,onPointerMove:f,onPointerUp:u,style:{cursor:"move"},children:[e.jsx("rect",{fill:h[2],width:m,height:"22.67"}),e.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:y,y:"19",fill:h[3],fontSize:"21.33",letterSpacing:"-1.75",children:r}),e.jsx("text",{className:"rmp-name__zh",x:m+2,y:"12",fontSize:"14.67",children:"号线"}),e.jsxs("text",{className:"rmp-name__en",x:m+4,y:"21.5",fontSize:"8",children:["Line ",r]})]})},V={num:1,color:[S.Shanghai,"sh1","#E4002B",N.white]},qe=c=>{var a;const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.num"),value:((a=t.num)!=null?a:V.num).toString(),validator:s=>!Number.isNaN(s),onChange:s=>{t.num=Number(s),i(n,t)}},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.ShmetroNumLineBadge,defaultTheme:V.color})}];return e.jsx(v,{fields:l})},Fe=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"10",height:"16"}),e.jsx("text",{x:"4",y:"18",fill:"white",children:"1"}),e.jsx("text",{x:"14",y:"10",fontSize:"5",children:"号线"}),e.jsx("text",{x:"14",y:"18",fontSize:"4",children:"Line 1"})]}),Oe={component:We,icon:Fe,defaultAttrs:V,attrsComponent:qe,metadata:{displayName:"panel.details.nodes.shmetroNumLineBadge.displayName",tags:[]}},He=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{names:r=oe.names,color:h=oe.color}=o!=null?o:oe,m=d.useRef(null),[y,p]=d.useState({width:12});d.useEffect(()=>p(m.current.getBBox()),[...r,p,m]);const f=d.useCallback(x=>l(n,x),[n,l]),u=d.useCallback(x=>a(n,x),[n,a]),g=d.useCallback(x=>s(n,x),[n,s]);return e.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:f,onPointerMove:u,onPointerUp:g,style:{cursor:"move"},children:[e.jsx("rect",{fill:h[2],x:"0",width:y.width+7,height:"21"}),e.jsxs("g",{ref:m,children:[e.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"hanging",x:(y.width+7)/2,y:"3",fontSize:"10",fill:h[3],letterSpacing:"-0.25",children:r[0]}),e.jsx("text",{className:"rmp-name__en",textAnchor:"middle",dominantBaseline:"hanging",x:(y.width+7)/2,y:"14",fontSize:"5",fill:h[3],letterSpacing:"-0.25",children:r[1]})]})]})},oe={names:["浦江线","Pujiang Line"],color:[S.Shanghai,"pjl","#B5B5B6",N.white]},Qe=c=>{const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:a=>{t.names[0]=a,i(n,t)},minW:"full"},{type:"input",label:o("panel.details.nodes.common.nameEn"),value:t.names[1],onChange:a=>{t.names[1]=a,i(n,t)},minW:"full"},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.ShmetroTextLineBadge,defaultTheme:oe.color})}];return e.jsx(v,{fields:l})},Ve=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),e.jsx("text",{x:"5",y:"11",fontSize:"5",fill:"white",children:"浦江线"}),e.jsx("text",{x:"3",y:"16",fontSize:"4",fill:"white",children:"Pujiang Line"})]}),Ge={component:He,icon:Ve,defaultAttrs:oe,attrsComponent:Qe,metadata:{displayName:"panel.details.nodes.shmetroTextLineBadge.displayName",tags:[]}},Xe=c=>{var g,x;const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{names:r=U.names,color:h=U.color,tram:m=U.tram,span:y=U.span}=o!=null?o:U,p=d.useCallback(j=>l(n,j),[n,l]),f=d.useCallback(j=>a(n,j),[n,a]),u=d.useCallback(j=>s(n,j),[n,s]);return e.jsx("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")scale(").concat(m?.5:1,")"),onPointerDown:p,onPointerMove:f,onPointerUp:u,style:{cursor:"move"},children:e.jsx(Ae,{zhName:(g=r.at(0))!=null?g:"",enName:(x=r.at(1))!=null?x:"",zhClassName:"rmp-name__zh",enClassName:"rmp-name__en",foregroundColour:h[3],backgroundColour:h[2],spanDigits:y})})},U={names:["1号线","Line 1"],color:[S.Guangzhou,"gz1","#F3D03E",N.black],tram:!1,span:!0},Ze=c=>{var a;const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:s=>{t.names[0]=s,i(n,t)},minW:"full"},{type:"input",label:o("panel.details.nodes.common.nameEn"),value:(a=t.names.at(1))!=null?a:U.names[1],onChange:s=>{t.names[1]=s,i(n,t)},minW:"full"},{type:"switch",label:o("panel.details.nodes.gzmtrLineBadge.tram"),oneLine:!0,isChecked:t.tram,onChange:s=>{t.tram=s,i(n,t)},minW:"full"},{type:"switch",label:o("panel.details.nodes.gzmtrLineBadge.span"),oneLine:!0,isChecked:t.span,onChange:s=>{t.span=s,i(n,t)},minW:"full"},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.GzmtrLineBadge,defaultTheme:U.color})}];return e.jsx(v,{fields:l})},Je=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"2",y:"5",width:"20",height:"14",rx:"1"}),e.jsx("text",{x:"6",y:"15",textAnchor:"middle",fontSize:"10",fill:"white",children:"1"}),e.jsx("text",{x:"15",y:"12",textAnchor:"middle",fontSize:"6",fill:"white",children:"号线"}),e.jsx("text",{x:"14.5",y:"17",textAnchor:"middle",fontSize:"4",fill:"white",children:"Line 1"})]}),Ke={component:Xe,icon:Je,defaultAttrs:U,attrsComponent:Ze,metadata:{displayName:"panel.details.nodes.gzmtrLineBadge.displayName",tags:[]}},ie=11.84375,Ye=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{num:r=G.num,color:h=G.color}=o!=null?o:G,m=d.useCallback(u=>l(n,u),[n,l]),y=d.useCallback(u=>a(n,u),[n,a]),p=d.useCallback(u=>s(n,u),[n,s]),f=h[3]===N.black?"#003670":N.white;return e.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:m,onPointerMove:y,onPointerUp:p,style:{cursor:"move"},children:[e.jsx("rect",{fill:h[2],x:"0",width:ie+21,height:"16",rx:"2"}),e.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:ie/2+2,y:"13.5",fill:f,fontSize:"15",letterSpacing:"-1.5",children:r}),e.jsx("text",{className:"rmp-name__zh",x:ie+(r>9?5.5:3),y:"8.5",fontSize:"7",fill:f,children:"号线"}),e.jsxs("text",{className:"rmp-name__en",x:ie+(r>9?6:4.5),y:"13.5",fontSize:"4",fill:f,children:["Line ",r]})]})},G={num:1,color:[S.Beijing,"bj1","#c23a30",N.white]},en=c=>{var a;const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.num"),value:((a=t.num)!=null?a:G.num).toString(),validator:s=>!Number.isNaN(s),onChange:s=>{t.num=Number(s),i(n,t)}},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.BjsubwayNumLineBadge,defaultTheme:G.color})}];return e.jsx(v,{fields:l})},nn=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),e.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),e.jsx("text",{x:"11",y:"11",fill:"white",fontSize:"5",children:"号线"}),e.jsx("text",{x:"11",y:"17",fill:"white",fontSize:"4",children:"Line 1"})]}),tn={component:Ye,icon:nn,defaultAttrs:G,attrsComponent:en,metadata:{displayName:"panel.details.nodes.bjsubwayNumLineBadge.displayName",tags:[]}},on=28.84375,an=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{names:r=X.names,color:h=X.color}=o!=null?o:X,m=d.useRef(null),[y,p]=d.useState({width:12});d.useEffect(()=>p(m.current.getBBox()),[...r,p,m]);const f=d.useCallback(w=>l(n,w),[n,l]),u=d.useCallback(w=>a(n,w),[n,a]),g=d.useCallback(w=>s(n,w),[n,s]),x=Math.max(on,y.width),j=h[3]===N.black?"#003670":N.white;return e.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:f,onPointerMove:u,onPointerUp:g,style:{cursor:"move"},children:[e.jsx("rect",{fill:h[2],x:"0",width:x+4,height:"16",rx:"2"}),e.jsxs("g",{ref:m,children:[e.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:(x+4)/2,y:"8",fontSize:"7",fill:j,children:r[0]}),e.jsx("text",{className:"rmp-name__en",textAnchor:"middle",x:(x+4)/2,y:"13.5",fontSize:"4",fill:j,children:r[1]})]})]})},X={names:["八通线","Batong Line"],color:[S.Beijing,"bj1","#c23a30",N.white]},sn=c=>{var a;const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:s=>{t.names[0]=s,i(n,t)}},{type:"input",label:o("panel.details.nodes.common.nameEn"),value:(a=t.names.at(1))!=null?a:X.names[1],onChange:s=>{t.names[1]=s,i(n,t)}},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.BjsubwayTextLineBadge,defaultTheme:X.color})}];return e.jsx(v,{fields:l})},ln=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12",rx:"2"}),e.jsx("text",{x:"3",y:"12",fontSize:"6",fill:"white",children:"八通线"}),e.jsx("text",{x:"3",y:"16",fontSize:"3.2",fill:"white",children:"Batong Line"})]}),rn={component:an,icon:ln,defaultAttrs:X,attrsComponent:sn,metadata:{displayName:"panel.details.nodes.bjsubwayTextLineBadge.displayName",tags:[]}},cn=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{num:r=I.num,branch:h=I.branch,color:m=I.color}=o!=null?o:I,y=d.useCallback(u=>l(n,u),[n,l]),p=d.useCallback(u=>a(n,u),[n,a]),f=d.useCallback(u=>s(n,u),[n,s]);return e.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:y,onPointerMove:p,onPointerUp:f,style:{cursor:"move"},children:[e.jsx("rect",{fill:m[2],width:"20",height:"20",rx:"2",ry:"2"}),e.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"middle",x:"10",y:"11.4",fill:m[3],fontSize:"15",letterSpacing:"-1",children:r}),h&&e.jsxs(e.Fragment,{children:[e.jsx("text",{className:"rmp-name__zh",x:20+2.5,y:"10",fontSize:"10",children:"支线"}),e.jsx("text",{className:"rmp-name__en",x:20+2.5,y:"18",fontSize:"5",fill:"gray",children:"Branch line"})]})]})},I={num:1,branch:!1,color:[S.Suzhou,"sz1","#78BA25",N.white]},dn=c=>{var a,s;const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.num"),value:((a=t.num)!=null?a:I.num).toString(),validator:r=>!Number.isNaN(r),onChange:r=>{t.num=Number(r),i(n,t)}},{type:"switch",label:o("panel.details.nodes.suzhouRTNumLineBadge.branch"),isChecked:(s=t==null?void 0:t.branch)!=null?s:I.branch,onChange:r=>{t.branch=r,i(n,t)}},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.SuzhouRTNumLineBadge,defaultTheme:I.color})}];return e.jsx(v,{fields:l})},mn=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"4",y:"4",width:"16",height:"16",rx:"3",ry:"3"}),e.jsx("text",{x:"12",y:"13.4",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"14",children:"1"})]}),hn={component:cn,icon:mn,defaultAttrs:I,attrsComponent:dn,metadata:{displayName:"panel.details.nodes.suzhouRTNumLineBadge.displayName",tags:[]}},un=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{num:r=Z.num,color:h=Z.color}=o!=null?o:Z,m=d.useCallback(u=>l(n,u),[n,l]),y=d.useCallback(u=>a(n,u),[n,a]),p=d.useCallback(u=>s(n,u),[n,s]),f=h[3];return e.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:m,onPointerMove:y,onPointerUp:p,style:{cursor:"move"},children:[e.jsx("rect",{fill:h[2],x:"0",width:"25",height:"15"}),e.jsxs("text",{className:"rmp-name__berlin",textAnchor:"middle",x:"12.5",y:"12.5",fill:f,fontSize:"14",letterSpacing:"1",children:["U",r]})]})},Z={num:1,color:[S.Berlin,"bu1","#62AD2D",N.white]},xn=c=>{var a;const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.num"),value:((a=t.num)!=null?a:Z.num).toString(),validator:s=>!Number.isNaN(s),onChange:s=>{t.num=Number(s),i(n,t)}},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.BerlinUBahnLineBadge,defaultTheme:Z.color})}];return e.jsx(v,{fields:l})},gn=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16"}),e.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"U1"})]}),pn={component:un,icon:gn,defaultAttrs:Z,attrsComponent:xn,metadata:{displayName:"panel.details.nodes.berlinUBahnLineBadge.displayName",tags:[]}},fn=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{num:r=J.num,color:h=J.color}=o!=null?o:J,[m,y]=r>=10?[6,19.75]:[10,20],p=d.useCallback(x=>l(n,x),[n,l]),f=d.useCallback(x=>a(n,x),[n,a]),u=d.useCallback(x=>s(n,x),[n,s]),g=h[3];return e.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:p,onPointerMove:f,onPointerUp:u,style:{cursor:"move"},children:[e.jsx("rect",{fill:h[2],x:"0",width:"30",height:"15",rx:"8"}),e.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:m,y:"12.5",fill:g,fontSize:"14",letterSpacing:"0",children:"S"}),e.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:y,y:"12.5",fill:g,fontSize:"14",letterSpacing:"-0.2",children:r})]})},J={num:1,color:[S.Berlin,"bs1","#DD6CA6",N.white]},yn=c=>{var a;const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.num"),value:((a=t.num)!=null?a:J.num).toString(),validator:s=>!Number.isNaN(s),onChange:s=>{t.num=Number(s),i(n,t)}},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.BerlinSBahnLineBadge,defaultTheme:J.color})}];return e.jsx(v,{fields:l})},bn=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"8"}),e.jsx("text",{x:"4.5",y:"16.5",fill:"white",fontSize:"14",children:"S1"})]}),jn={component:fn,icon:bn,defaultAttrs:J,attrsComponent:yn,metadata:{displayName:"panel.details.nodes.berlinSBahnLineBadge.displayName",tags:[]}},wn=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{num:r=K.num,color:h=K.color}=o!=null?o:K,m=d.useCallback(x=>l(n,x),[n,l]),y=d.useCallback(x=>a(n,x),[n,a]),p=d.useCallback(x=>s(n,x),[n,s]),f=h[3],u=Number.isInteger(r)?16:15,g=Number.isInteger(r)&&Number(r)>=10?-1.2:0;return e.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:m,onPointerMove:y,onPointerUp:p,style:{cursor:"move"},children:[e.jsx("rect",{fill:h[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),e.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"10",y:"10",fill:f,fontSize:u,letterSpacing:g,dominantBaseline:"central",children:r})]})},K={num:1,color:[S.Chongqing,"cq1","#e4002b",N.white]},Bn=c=>{var a;const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.num"),value:((a=t.num)!=null?a:K.num).toString(),onChange:s=>{t.num=s,i(n,t)}},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.ChongqingRTNumLineBadge,defaultTheme:K.color})}];return e.jsx(v,{fields:l})},Cn=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),e.jsx("text",{x:"8",y:"18",fill:"white",fontSize:"18",children:"1"})]}),Nn={component:wn,icon:Cn,defaultAttrs:K,attrsComponent:Bn,metadata:{displayName:"panel.details.nodes.chongqingRTNumLineBadge.displayName",tags:[]}},Ln=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{names:r=Y.names,color:h=Y.color}=o!=null?o:Y,m=d.useRef(null),y=d.useCallback(g=>l(n,g),[n,l]),p=d.useCallback(g=>a(n,g),[n,a]),f=d.useCallback(g=>s(n,g),[n,s]),u=h[3];return e.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:y,onPointerMove:p,onPointerUp:f,style:{cursor:"move"},children:[e.jsx("rect",{fill:h[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),e.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"10",y:"10.5",fill:u,fontSize:"6",letterSpacing:"0",children:r[0]}),e.jsx(le,{ref:m,text:r[1].split("\n"),className:"rmp-name__en",textAnchor:"middle",x:"10",y:"9.25",fill:u,fontSize:"2.5",letterSpacing:"0",lineHeight:2.25,grow:"down"})]})},Y={names:["空港线","Konggang Line"],color:[S.Chongqing,"cq3","#003da5",N.white]},vn=c=>{var a;const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:s=>{t.names[0]=s,i(n,t)}},{type:"input",label:o("panel.details.nodes.common.nameEn"),value:(a=t.names.at(1))!=null?a:Y.names[1],onChange:s=>{t.names[1]=s,i(n,t)}},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.ChongqingRTTextLineBadge,defaultTheme:Y.color})}];return e.jsx(v,{fields:l})},Tn=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),e.jsx("text",{x:"4.5",y:"12.5",fill:"white",fontSize:"5",children:"空港线"}),e.jsx("text",{x:"4.5",y:"15",fill:"white",fontSize:"2",children:"Konggang Line"})]}),Sn={component:Ln,icon:Tn,defaultAttrs:Y,attrsComponent:vn,metadata:{displayName:"panel.details.nodes.chongqingRTTextLineBadge.displayName",tags:[]}},Pn=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{num:r=ee.num,color:h=ee.color}=o!=null?o:ee,m=d.useCallback(j=>l(n,j),[n,l]),y=d.useCallback(j=>a(n,j),[n,a]),p=d.useCallback(j=>s(n,j),[n,s]),f=h[3],u=Number.isInteger(r)?Number(r)>=10?15:16:15,g=Number.isInteger(r)&&Number(r)>=10?-1:0,x=Number.isInteger(r)&&Number(r)>=10?9.5:10.5;return e.jsx("g",{transform:"translate(".concat(t,", ").concat(i,")"),children:e.jsxs("g",{transform:"translate(-10.5, -10.5)",children:[e.jsx("rect",{fill:h[2],x:"0",width:"21",height:"21",rx:"3",ry:"3"}),e.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x,y:"10.5",fill:f,fontSize:u,letterSpacing:g,dominantBaseline:"central",children:r}),e.jsx("rect",{id:"misc_node_connectable_".concat(n),onPointerDown:m,onPointerMove:y,onPointerUp:p,style:{cursor:"move",zIndex:1e3},x:0,y:0,width:21,height:21,fill:"white",opacity:0,stroke:"none"})]})})},ee={num:1,color:[S.Chongqing,"cq1","#e4002b",N.white]},An=c=>{const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.num"),value:(t!=null?t:ee).num,validator:a=>!Number.isNaN(a),onChange:a=>{Number.isNaN(Number(a))?t.num=a:t.num=Number(a),i(n,t)},minW:"full"},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.ChongqingRTNumLineBadge2021,defaultTheme:ee.color}),minW:"full"}];return e.jsx(v,{fields:l})},_n=e.jsxs("svg",{viewBox:"0 0 21 21",height:40,width:40,focusable:!1,style:{padding:3},children:[e.jsx("rect",{fill:"currentColor",x:"0",width:"21",height:"21",rx:"3",ry:"3"}),e.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("text",{textAnchor:"left",x:"7.5",y:"9.5",fill:"white",fontSize:"15",dominantBaseline:"central",children:"1"})]}),zn={component:Pn,icon:_n,defaultAttrs:ee,attrsComponent:An,metadata:{displayName:"panel.details.nodes.chongqingRTNumLineBadge2021.displayName",tags:[]}},kn=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{names:r=E.names,color:h=E.color,isRapid:m=E.isRapid}=o!=null?o:E,y=d.useRef(null),p=d.useCallback(w=>l(n,w),[n,l]),f=d.useCallback(w=>a(n,w),[n,a]),u=d.useCallback(w=>s(n,w),[n,s]),g=h[3],x=m?42:21,j=21;return e.jsx("g",{transform:"translate(".concat(t,", ").concat(i,")"),children:e.jsxs("g",{transform:"translate(".concat(-x/2,", ").concat(-21/2,")"),children:[e.jsx("rect",{fill:h[2],x:"0",width:x,height:j,rx:"3",ry:"3"}),e.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:x-3,height:j-3,rx:"2",ry:"2"}),e.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:x/2,y:j/2+.5,fill:g,fontSize:m?8:5,letterSpacing:"0",children:r[0]}),e.jsx(le,{ref:y,text:r[1].split("\n"),className:"rmp-name__en",textAnchor:"middle",x:x/2,y:j/2-+!m*.75,fill:g,fontSize:m?4:2.2,letterSpacing:"0",lineHeight:2.25,grow:"down"}),e.jsx("rect",{id:"misc_node_connectable_".concat(n),onPointerDown:p,onPointerMove:f,onPointerUp:u,style:{cursor:"move",zIndex:1e3},x:0,y:0,width:x,height:j,fill:"white",opacity:0,stroke:"none"})]})})},E={names:["空港线","Konggang Line"],color:[S.Chongqing,"cq3","#003da5",N.white],isRapid:!1},Mn=c=>{var a;const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:s=>{t.names[0]=s.toString(),i(n,t)},minW:"full"},{type:"textarea",label:o("panel.details.nodes.common.nameEn"),value:(a=t.names.at(1))!=null?a:E.names[1],onChange:s=>{t.names[1]=s.toString(),i(n,t)},minW:"full"},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.ChongqingRTTextLineBadge2021,defaultTheme:E.color}),minW:"full"},{type:"switch",label:o("panel.details.nodes.chongqingRTTextLineBadge2021.isRapid"),isChecked:(t!=null?t:E).isRapid,onChange:s=>{t.isRapid=s,i(n,t)},oneLine:!0,minW:"full"}];return e.jsx(v,{fields:l})},Rn=e.jsxs("svg",{viewBox:"0 0 21 21",height:40,width:40,focusable:!1,style:{padding:3},children:[e.jsx("rect",{fill:"currentColor",x:"0",width:"21",height:"21",rx:"3",ry:"3"}),e.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"10.5",y:"11",fill:"white",fontSize:"5",letterSpacing:"0",children:"空港线"}),e.jsx("text",{className:"rmp-name__en",textAnchor:"middle",x:"10.5",y:"13.75",fill:"white",fontSize:"2",letterSpacing:"0",children:"Konggang Line"})]}),$n={component:kn,icon:Rn,defaultAttrs:E,attrsComponent:Mn,metadata:{displayName:"panel.details.nodes.chongqingRTTextLineBadge2021.displayName",tags:[]}},re=11.84375,Un=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{num:r=H.num,color:h=H.color,isBranch:m=H.isBranch}=o!=null?o:H,y=d.useCallback(B=>l(n,B),[n,l]),p=d.useCallback(B=>a(n,B),[n,a]),f=d.useCallback(B=>s(n,B),[n,s]),u=h[3],g=m?10:re+(r>9?6.5:3),x=m?-1:0,j=m?11:re+(r>9?7:3.5),w=m?6:re/2+4;return e.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:y,onPointerMove:p,onPointerUp:f,style:{cursor:"move"},children:[e.jsx("rect",{fill:h[2],x:"0",width:re+21,height:"16",rx:"2"}),e.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:w,y:"13.5",fill:u,fontSize:"15",letterSpacing:"-1",children:r}),e.jsxs("text",{className:"rmp-name__zh",x:g,y:"9.5",fontSize:"6",fill:u,letterSpacing:x,children:["号线",m?"支线":""]}),e.jsxs("text",{className:"rmp-name__en",x:j,y:"13.5",fontSize:"3",fill:u,children:[m?"Branch":""," Line ",r]})]})},H={num:1,color:[S.Shenzhen,"sz1","#00b140",N.white],isBranch:!1},Dn=c=>{const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.num"),value:String(t.num),validator:a=>!Number.isNaN(a),onChange:a=>{t.num=Number(a),i(n,t)},minW:"full"},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.ShenzhenMetroNumLineBadge,defaultTheme:H.color}),minW:"full"},{type:"switch",label:o("panel.details.nodes.shenzhenMetroNumLineBadge.branch"),oneLine:!0,isChecked:t.isBranch,onChange:a=>{t.isBranch=a,i(n,t)},minW:"full"}];return e.jsx(v,{fields:l})},In=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),e.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),e.jsx("text",{x:"11",y:"14",fill:"white",fontSize:"5",children:"号线"}),e.jsx("text",{x:"12",y:"17",fill:"white",fontSize:"3",children:"Line 1"})]}),En={component:Un,icon:In,defaultAttrs:H,attrsComponent:Dn,metadata:{displayName:"panel.details.nodes.shenzhenMetroNumLineBadge.displayName",tags:[]}},Wn=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{num:r=ae.num,color:h=ae.color}=o!=null?o:ae,m=d.useCallback(g=>l(n,g),[n,l]),y=d.useCallback(g=>a(n,g),[n,a]),p=d.useCallback(g=>s(n,g),[n,s]),f=h[3],u=h[2];return e.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:m,onPointerMove:y,onPointerUp:p,style:{cursor:"move"},children:[e.jsx("circle",{r:"8",fill:u}),e.jsx("text",{className:"rmp-name__mrt",textAnchor:"middle",x:"0",y:"0",width:"12",height:"12",fill:f,fontSize:"12",dominantBaseline:"central",letterSpacing:"-0.2",children:r})]})},ae={num:1,color:[S.Singapore,"ewl","#009739",N.white]},qn=c=>{const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.num"),value:String(t.num),validator:a=>!Number.isNaN(a),onChange:a=>{t.num=Number(a),i(n,t)},minW:"full"},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.MRTDestinationNumbers,defaultTheme:ae.color}),minW:"full"}];return e.jsx(v,{fields:l})},Fn=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),e.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),On={component:Wn,icon:Fn,defaultAttrs:ae,attrsComponent:qn,metadata:{displayName:"panel.details.nodes.mrtDestinationNumbers.displayName",tags:[]}},Hn=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{lineCode:r=$.lineCode,color:h=$.color,lines:m=$.lines,name:y=$.name,isTram:p=$.isTram}=o!=null?o:$,f=d.useCallback(C=>l(n,C),[n,l]),u=d.useCallback(C=>a(n,C),[n,a]),g=d.useCallback(C=>s(n,C),[n,s]),x=22.85,j=12.935,w=h[3],B=h[2];return e.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:f,onPointerMove:u,onPointerUp:g,style:{cursor:"move"},children:[e.jsx("rect",{transform:"scale(1.8)",x:-22.85/2,y:-12.935/2,rx:"3",ry:"6",width:x,height:j,fill:B,stroke:"white",strokeWidth:"1"}),e.jsx("text",{className:"rmp-name__mrt",textAnchor:"middle",fill:w,fontSize:"15",dominantBaseline:"central",letterSpacing:"-0.2",children:r}),e.jsx("text",{className:"rmp-name__mrt",textAnchor:"left",x:"28",y:p?3.5:-3,fill:"black",fontSize:"10",letterSpacing:"-0.2",children:y}),!p&&m.split(",").map((C,M)=>e.jsx("g",{transform:"translate(".concat(34+14*M,", ").concat(4.5,")"),children:C.trim()!=="airport"?e.jsxs(e.Fragment,{children:[e.jsx("circle",{r:"6",fill:B}),e.jsx("text",{className:"rmp-name__mrt",textAnchor:"middle",fill:w,fontSize:"9",dominantBaseline:"central",letterSpacing:"-0.2",children:C})]}):e.jsxs("g",{transform:"translate(-6, -6) scale(4.5)",children:[e.jsx("path",{d:"M2.467 0H.226A.226.226 0 0 0 0 .226v2.241a.225.225 0 0 0 .226.225h2.241a.225.225 0 0 0 .225-.225V.226A.226.226 0 0 0 2.467 0",style:{fill:"#2d2a26"}}),e.jsx("path",{d:"M1.5.746v.3l.73.642a.08.08 0 0 1 .022.05v.12c0 .017-.012.025-.027.018L1.5 1.529l-.06.541.2.113a.03.03 0 0 1 .013.023V2.3a.01.01 0 0 1-.014.011l-.293-.091-.286.087a.01.01 0 0 1-.014-.007v-.09a.03.03 0 0 1 .013-.023l.2-.113-.059-.545-.724.348a.018.018 0 0 1-.028-.018v-.12a.07.07 0 0 1 .023-.05l.73-.642v-.3c0-.482.3-.482.3 0",style:{fill:"#fff",fillRule:"evenodd"}})]})},M))]})},$={lineCode:"EWL",name:"East-West Line",lines:"1, 2, 3, airport",isTram:!1,color:[S.Singapore,"ewl","#009739",N.white]},Qn=c=>{const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.nameEn"),value:t.name,onChange:a=>{t.name=a,i(n,t)},minW:"full"},{type:"input",label:o("panel.details.stations.common.lineCode"),value:t.lineCode,onChange:a=>{t.lineCode=a,i(n,t)},minW:"full"},{type:"switch",label:o("panel.details.nodes.mrtLineBadge.isTram"),isChecked:t.isTram,onChange:a=>{t.isTram=a,i(n,t)},minW:"full",oneLine:!0},...t.isTram?[]:[{type:"input",label:o("panel.details.nodes.common.num"),value:t.lines,onChange:a=>{t.lines=a,i(n,t)},minW:"full"}],{type:"custom",label:o("color"),component:e.jsx(A,{type:b.MRTLineBadge,defaultTheme:$.color}),minW:"full"}];return e.jsx(v,{fields:l})},Vn=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),e.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),Gn={component:Hn,icon:Vn,defaultAttrs:$,attrsComponent:Qn,metadata:{displayName:"panel.details.nodes.mrtLineBadge.displayName",tags:[]}},ce=4,xe=7,de=10,ye=5,Xn=5,k=Xn*Math.SQRT1_2,ge=.25,me=(k*Math.SQRT2-ge)/2*Math.SQRT2,Zn=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{names:r=D.names,num:h=D.num,color:m=D.color,crosshatchPatternFill:y=D.crosshatchPatternFill}=o!=null?o:D,p=d.useRef(null),[f,u]=d.useState({height:10,width:12});d.useEffect(()=>u(p.current.getBBox()),[...r,u,p]);const g=d.useCallback(w=>l(n,w),[n,l]),x=d.useCallback(w=>a(n,w),[n,a]),j=d.useCallback(w=>s(n,w),[n,s]);return e.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:g,onPointerMove:x,onPointerUp:j,style:{cursor:"move"},children:[e.jsxs("defs",{children:[e.jsxs("clipPath",{id:"jr_east_fill_pattern_clip_path",patternUnits:"userSpaceOnUse",children:[e.jsx("polygon",{points:"0,0 0,".concat(me," ").concat(me,",0")}),e.jsx("polygon",{points:"".concat(k,",").concat(k," ").concat(k-me,",").concat(k," ").concat(k,",").concat(k-me)})]}),e.jsxs("pattern",{id:"jr_east_".concat(n,"_fill_pattern_").concat(m[2]),width:k,height:k,patternUnits:"userSpaceOnUse",children:[e.jsx("rect",{width:k,height:k,fill:m[2]}),e.jsx("line",{x1:"0",y1:"0",x2:k,y2:k,stroke:"white",strokeWidth:ge,strokeOpacity:"33%",clipPath:"url(#jr_east_fill_pattern_clip_path)"}),e.jsx("line",{x1:k,y1:"0",x2:"0",y2:k,stroke:"white",strokeWidth:ge,strokeOpacity:"33%"})]})]}),e.jsx("rect",{fill:y?"url(#jr_east_".concat(n,"_fill_pattern_").concat(m[2],")"):m[2],x:"0",y:"-1",width:f.width+ce+10,height:f.height+1,rx:"1",stroke:"black",strokeWidth:"0.25"}),e.jsx("circle",{r:ce,cx:xe,cy:de/2+1,stroke:"black",strokeWidth:"0.25",fill:m[3]}),e.jsx("text",{x:xe,y:de/2+1.75,textAnchor:"middle",dominantBaseline:"middle",fill:m[3]==="#000"?"white":m[2],fontSize:h>9?7:8,className:"rmp-name__jreast_en",children:h}),e.jsx(le,{ref:p,text:r[0].split("\n"),x:xe+ce+1,y:"-1",fill:m[3],fontSize:de,lineHeight:de,grow:"down",className:"rmp-name__jreast_ja"}),e.jsx(le,{text:r[1].split("\n"),textAnchor:"middle",dominantBaseline:"hanging",x:(f.width+ce+10)/2,y:f.height+1,fontSize:ye,lineHeight:ye,baseOffset:0,grow:"down",className:"rmp-name__jreast_en"})]})},D={names:["山手線","Yamanote Line"],color:[S.Tokyo,"jy","#9ACD32",N.black],num:9,crosshatchPatternFill:!1},Jn=c=>{var a;const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.num"),value:String(t.num),validator:s=>!Number.isNaN(s),onChange:s=>{t.num=Number(s),i(n,t)},minW:"full"},{type:"textarea",label:o("panel.details.nodes.common.nameJa"),value:t.names[0],onChange:s=>{t.names[0]=s,i(n,t)},minW:"full"},{type:"textarea",label:o("panel.details.nodes.common.nameEn"),value:(a=t.names.at(1))!=null?a:D.names[1],onChange:s=>{t.names[1]=s,i(n,t)},minW:"full"},{type:"switch",label:o("panel.details.nodes.jrEastLineBadge.crosshatchPatternFill"),oneLine:!0,isChecked:t.crosshatchPatternFill,onChange:s=>{t.crosshatchPatternFill=s,i(n,t)},minW:"full"},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.JREastLineBadge,defaultTheme:D.color})}];return e.jsx(v,{fields:l})},Kn=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"1",y:"6",width:"22",height:"7"}),e.jsx("circle",{cx:"3.5",cy:"9.25",r:"2",fill:"white"}),e.jsx("text",{x:"3",y:"10.5",fontSize:"3",children:"9"}),e.jsx("text",{x:"6",y:"11.25",fontSize:"5",fill:"white",children:"山手線"}),e.jsx("text",{x:"1.5",y:"16",fontSize:"3",children:"Yamanote Line"})]}),Yn={component:Zn,icon:Kn,defaultAttrs:D,attrsComponent:Jn,metadata:{displayName:"panel.details.nodes.jrEastLineBadge.displayName",tags:[]}},et=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{num:r=F.num,numEn:h=F.numEn,color:m=F.color,showText:y=F.showText}=o!=null?o:F,p=d.useCallback(C=>l(n,C),[n,l]),f=d.useCallback(C=>a(n,C),[n,a]),u=d.useCallback(C=>s(n,C),[n,s]),g=m[3],[x,j,w,B]=Number(r)>=10?[-2.4,0,10.25,20]:[0,4,10,22];return e.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:p,onPointerMove:f,onPointerUp:u,style:{cursor:"move"},children:[e.jsx("rect",{fill:m[2],x:"0",width:"20",height:"20",rx:"2",ry:"2"}),e.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:j,y:w,fill:g,fontSize:B,fontWeight:"bold",letterSpacing:x,dominantBaseline:"central",children:r}),y&&e.jsxs(e.Fragment,{children:[e.jsx("text",{className:"rmp-name__zh",x:"22",y:"10.5",fontSize:"13",children:"号线"}),e.jsxs("text",{className:"rmp-name__en",x:"22.5",y:"19.5",fontSize:"8",children:["Line ",h]})]})]})},F={num:1,numEn:"1",showText:!0,color:[S.Qingdao,"qd1","#f7b000",N.white]},nt=c=>{const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.num"),value:t.num.toString(),onChange:a=>{t.num=Number(a),t.numEn=a,i(n,t)}},{type:"input",label:o("panel.details.nodes.qingdaoMetroNumLineBadge.numEn"),value:t.numEn.toString(),onChange:a=>{t.numEn=a,i(n,t)}},{type:"switch",label:o("panel.details.nodes.qingdaoMetroNumLineBadge.showText"),isChecked:t.showText,oneLine:!0,onChange:a=>{t.showText=a,i(n,t)}},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.QingdaoMetroNumLineBadge,defaultTheme:F.color})}];return e.jsx(v,{fields:l,minW:"full"})},tt=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"2",y:"6",rx:"1",ry:"1",width:"10",height:"10"}),e.jsx("text",{x:"4",y:"15",fill:"white",fontSize:"12",children:"1"}),e.jsx("text",{x:"12",y:"11.5",fill:"black",fontSize:"6",children:"号线"}),e.jsx("text",{x:"12",y:"15.5",fill:"black",fontSize:"4",children:"Line1"})]}),ot={component:et,icon:tt,defaultAttrs:F,attrsComponent:nt,metadata:{displayName:"panel.details.nodes.qingdaoMetroNumLineBadge.displayName",tags:[]}},at=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{names:r=se.names,color:h=se.color}=o!=null?o:se,m=d.useRef(null),[y,p]=d.useState({width:12});d.useEffect(()=>p(m.current.getBBox()),[...r,p,m]);const f=d.useCallback(x=>l(n,x),[n,l]),u=d.useCallback(x=>a(n,x),[n,a]),g=d.useCallback(x=>s(n,x),[n,s]);return e.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:f,onPointerMove:u,onPointerUp:g,style:{cursor:"move"},children:[e.jsx("rect",{rx:"2",ry:"2",fill:h[2],x:"0",width:y.width+7,height:"21"}),e.jsxs("g",{ref:m,children:[e.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"hanging",x:(y.width+7)/2,y:"3",fontSize:"8.63",fill:h[3],children:r[0]}),e.jsx("text",{className:"rmp-name__en",textAnchor:"middle",dominantBaseline:"hanging",x:(y.width+7)/2,y:"14",fontSize:"3.54",fill:h[3],children:r[1]})]})]})},se={names:["广清城际","Guangzhou-Qingyuan Intercity"],color:[S.Guangzhou,"ir","#2559a8",N.white]},st=c=>{var a;const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:s=>{t.names[0]=s,i(n,t)},minW:"full"},{type:"input",label:o("panel.details.nodes.common.nameEn"),value:(a=t.names.at(1))!=null?a:se.names[1],onChange:s=>{t.names[1]=s,i(n,t)},minW:"full"}];return e.jsx(v,{fields:l})},lt=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),e.jsx("text",{x:"4.5",y:"11",fontSize:"4",fill:"white",children:"广清城际"}),e.jsx("text",{x:"3",y:"16",fontSize:"2",fill:"white",children:"Guangzhou-Qingyuan Intercity"})]}),it={component:at,icon:lt,defaultAttrs:se,attrsComponent:st,metadata:{displayName:"panel.details.nodes.guangdongIntercityRailwayLineBadge.displayName",tags:[]}},q=5,he="M0,0 L".concat(-5*2,",").concat(-5*2," L").concat(Math.SQRT2*q-2*q,",").concat(2*-5," L").concat(Math.SQRT2*q,",0 L").concat(Math.SQRT2*q-2*q,",").concat(2*q," L").concat(2*-5,",").concat(2*q," Z"),rt=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{color:r=Q.color,rotate:h=Q.rotate,type:m=Q.type}=o!=null?o:Q,y=d.useCallback(u=>l(n,u),[n,l]),p=d.useCallback(u=>a(n,u),[n,a]),f=d.useCallback(u=>s(n,u),[n,s]);return e.jsx("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")rotate(").concat(h,")"),onPointerDown:y,onPointerMove:p,onPointerUp:f,style:{cursor:"move"},children:m==="continuation"?e.jsx("path",{id:"virtual_circle_".concat(n),fill:r[2],d:he}):m==="sandwich"?e.jsx("path",{transform:"scale(0.5)",id:"virtual_circle_".concat(n),stroke:"white",strokeWidth:"1",fill:r[2],d:he}):e.jsx("path",{transform:"scale(0.25)",id:"virtual_circle_".concat(n),fill:"white",d:he})})},Q={color:[S.London,"thameslink","#d28db0",N.white],rotate:0,type:"continuation"},ct=c=>{const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"select",label:o("panel.details.stations.common.rotate"),value:t.rotate,options:{0:"0",45:"45",90:"90",135:"135",180:"180",225:"225",270:"270",315:"315"},onChange:a=>{t.rotate=Number(a),i(n,t)},minW:"full"},{type:"select",label:o("panel.details.nodes.londonArrow.type"),value:t.type,options:{continuation:o("panel.details.nodes.londonArrow.continuation"),sandwich:o("panel.details.nodes.londonArrow.sandwich"),tube:o("panel.details.nodes.londonArrow.tube")},onChange:a=>{t.type=a,i(n,t)},minW:"full"},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.LondonArrow,defaultTheme:Q.color}),minW:"full"}];return e.jsx(v,{fields:l})},dt=e.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:e.jsx("path",{transform:"translate(14,12)scale(0.75)",fill:"currentColor",d:he})}),mt={component:rt,icon:dt,defaultAttrs:Q,attrsComponent:ct,metadata:{displayName:"panel.details.nodes.londonArrow.displayName",tags:[]}},ht=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{content:r=W.content,color:h=W.color,badgeType:m=W.badgeType}=o!=null?o:W,y=d.useCallback(j=>l(n,j),[n,l]),p=d.useCallback(j=>a(n,j),[n,a]),f=d.useCallback(j=>s(n,j),[n,s]),u=h[3],g=16,x=m=="suburban"?(r.toString().length-2)*g/2:0;return e.jsx("g",{transform:"translate(".concat(t,", ").concat(i,")"),children:e.jsxs("g",{transform:"translate(".concat(-12.5,", ").concat(-12.5,")"),children:[m=="normal"?e.jsxs(e.Fragment,{children:[e.jsx("rect",{fill:h[2],x:"0",width:"25",height:"25",rx:"12.5",ry:"12.5"}),e.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"12.5",y:"12.5",fill:u,fontSize:g,dominantBaseline:"central",children:r})]}):m=="suburban"?e.jsxs(e.Fragment,{children:[e.jsx("rect",{fill:h[2],x:-x/2,y:"0",width:20+x,height:"25",rx:"0",ry:"0"}),e.jsx("rect",{fill:h[2],x:19+x/2,y:"0",width:"6",height:"5",rx:"0",ry:"0"}),e.jsx("rect",{fill:h[2],x:19+x/2,y:"10",width:"6",height:"5",rx:"0",ry:"0"}),e.jsx("rect",{fill:h[2],x:19+x/2,y:"20",width:"6",height:"5",rx:"0",ry:"0"}),e.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:-x/2,y:"12.5",fill:u,fontSize:g,dominantBaseline:"central",children:r})]}):e.jsxs(e.Fragment,{children:[e.jsx("rect",{fill:h[2],x:"-1.25",y:"0",width:"27.5",height:"7.5",rx:"0",ry:"0"}),e.jsx("rect",{fill:h[2],x:"7.5",y:"0",width:"10",height:"25",rx:"0",ry:"0"}),e.jsx(le,{text:r.toString().split(""),lineHeight:10.5,x:12.5,y:6.5,fill:"white",fontSize:10,textAnchor:"middle",grow:"down",dominantBaseline:"middle"})]}),e.jsx("rect",{id:"misc_node_connectable_".concat(n),onPointerDown:y,onPointerMove:p,onPointerUp:f,style:{cursor:"move",zIndex:1e3},x:0-x/2,y:0,width:25+x,height:25,fill:"white",opacity:0,stroke:"none"})]})})},W={content:1,color:[S.Chengdu,"cd1","#222a8c",N.white],badgeType:"normal"},ut=c=>{const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.nodes.text.content"),value:(t!=null?t:W).content,validator:a=>!Number.isNaN(a),onChange:a=>{Number.isNaN(Number(a))?t.content=a:t.content=Number(a),i(n,t)},minW:"full"},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.ChengduRTLineBadge,defaultTheme:W.color}),minW:"full"},{type:"select",label:o("panel.details.nodes.chengduRTLineBadge.badgeType.displayName"),value:(t!=null?t:W).badgeType,options:{normal:o("panel.details.nodes.chengduRTLineBadge.badgeType.normal"),suburban:o("panel.details.nodes.chengduRTLineBadge.badgeType.suburban"),tram:o("panel.details.nodes.chengduRTLineBadge.badgeType.tram")},onChange:a=>{t.badgeType=a,i(n,t)},minW:"full"}];return e.jsx(v,{fields:l})},xt=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),e.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),gt={component:ht,icon:xt,defaultAttrs:W,attrsComponent:ut,metadata:{displayName:"panel.details.nodes.chengduRTLineBadge.displayName",tags:[]}},pt=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,{code:r=O.code,color:h=O.color,tram:m=O.tram}=o!=null?o:O,y=d.useCallback(g=>l(n,g),[n,l]),p=d.useCallback(g=>a(n,g),[n,a]),f=d.useCallback(g=>s(n,g),[n,s]),u=(r.length<=2?10:5.5*r.length)+6;return e.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")scale(").concat(m?.8:1,")"),onPointerDown:y,onPointerMove:p,onPointerUp:f,style:{cursor:"move"},children:[e.jsx("rect",{fill:h[2],x:-u/2,y:"-8",width:u,height:"16",rx:"2.5",ry:"2.5"}),e.jsx("g",{children:e.jsx("text",{className:"rmp-name__taipei",textAnchor:"middle",dominantBaseline:"central",fontSize:"10",fill:h[3],children:r})})]})},O={code:"BR",tram:!1,color:[S.Taipei,"br","#C48C31",N.white]},ft=c=>{var a;const{id:n,attrs:t,handleAttrsUpdate:i}=c,{t:o}=T(),l=[{type:"input",label:o("panel.details.stations.common.lineCode"),value:t.code,onChange:s=>{t.code=s,i(n,t)},minW:"full"},{type:"switch",label:o("panel.details.nodes.taipeiMetroLineBadge.tram"),isChecked:(a=t.tram)!=null?a:O.tram,onChange:s=>{t.tram=s,i(n,t)},oneLine:!0,minW:"full"},{type:"custom",label:o("color"),component:e.jsx(A,{type:b.TaiPeiMetroLineBadege,defaultTheme:O.color})}];return e.jsx(v,{fields:l})},yt=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("rect",{fill:"currentColor",x:"6",y:"6",width:"12",height:"12",rx:"2",ry:"2"}),e.jsx("text",{x:"12",y:"12",fontSize:"6",fill:"white",textAnchor:"middle",dominantBaseline:"central",children:"BR"})]}),bt={component:pt,icon:yt,defaultAttrs:O,attrsComponent:ft,metadata:{displayName:"panel.details.nodes.taipeiMetroLineBadge.displayName",tags:[]}},jt=c=>{const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,r=ze();o.content=r(o.contents);const h=ue.component;return e.jsx(h,{id:n,x:t,y:i,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s,attrs:o})},wt={contents:{},..._e},Bt={component:jt,icon:ue.icon,defaultAttrs:wt,attrsComponent:ue.attrsComponent,metadata:{displayName:"panel.details.nodes.i18nText.displayName",tags:[]}},Ct=c=>{var w;const{id:n,x:t,y:i,attrs:o,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=c,r=d.useCallback(B=>l(n,B),[n,l]),h=d.useCallback(B=>a(n,B),[n,a]),m=d.useCallback(B=>s(n,B),[n,s]),y=(B,...C)=>new Function(...C,"return ".concat(B)),p=(B,C,M)=>{var _;const L={};for(const z in B)if(Object.prototype.hasOwnProperty.call(B,z))try{L[z]=y(B[z].slice(1),...o.components.map(P=>P.label),"color")(...C.map((P,ne)=>M[ne]==="number"&&!Number.isNaN(Number(P))?Number(P):P),o.color?(_=o.color.value)!=null?_:o.color.defaultValue:"")}catch(P){L[z]=""}return L},f=o.nodeType==="MiscNode"?{onPointerDown:r,onPointerMove:h,onPointerUp:m,style:{cursor:"move"}}:{},u=B=>B.replace(/(^|,)\s*([^{},]+)/g,"$1 #".concat(n," $2")),g=B=>B.map(C=>{var _,z;const M=o.nodeType==="Station"&&o.core&&o.core===C.id?{id:"stn_core_".concat(n),onPointerDown:r,onPointerMove:h,onPointerUp:m,style:{cursor:"move"}}:{},L=p(C.attrs,o.components.map(P=>P.value),o.components.map(P=>P.type));return e.jsx("g",{transform:"translate(".concat((_=L.x)!=null?_:0,", ").concat((z=L.y)!=null?z:0,")"),children:d.createElement(C.type,{...L,x:0,y:0,...M},C.children?g(C.children):"_rmp_children_text"in L?C.type==="style"?u(L._rmp_children_text):L._rmp_children_text:null)},C.id)}),x=(w=o.transform)!=null?w:be,j=d.useMemo(()=>g(o.svgs),[o]);return d.createElement("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),...f},o.randomId?e.jsx("g",{transform:"translate(".concat(x.translateX,", ").concat(x.translateY,") scale(").concat(x.scale,") rotate(").concat(x.rotate,")"),children:j}):e.jsxs("g",{children:[e.jsx("circle",{r:"5.5"}),e.jsx("g",{transform:"translate(-4.7, -5) scale(0.8)",children:e.jsx("polygon",{points:"6,1 7.5,4.25 11,4.65 8.5,7.1 9.2,10.75 6,9 2.8,10.75 3.5,7.1 1,4.65 4.5,4.25",fill:"white"})})]}))},Nt={randomId:void 0,label:void 0,transform:be,nodeType:"MiscNode",svgs:[],components:[]},Lt=c=>{var j,w,B,C,M;const{id:n,attrs:t,handleAttrsUpdate:i}=c,o=je(),{paletteAppClip:{output:l}}=we(L=>L.runtime),{t:a}=T(),[s,r]=d.useState(!1),[h,m]=d.useState(!1),y=L=>{var z;const _=t.components.find(P=>P.id===L);return _?(z=_.value)!=null?z:_.defaultValue:void 0},p=L=>{L.components.forEach((_,z)=>{var P;L.components[z].value=(P=y(_.id))!=null?P:_.defaultValue}),L.color!==void 0&&(L.color.value=t.color?t.color.value:L.color.defaultValue),i(n,L)},f=t.components.map((L,_)=>{const{label:z,type:P,defaultValue:ne,value:R}=L;return P==="number"||P==="text"?{label:a(z),type:"input",value:R!=null?R:ne,onChange:te=>{t.components[_].value=te,i(n,{...t,components:t.components})}}:P==="switch"?{label:a(z),type:"switch",isChecked:R!==void 0?!!R:ne,onChange:te=>{t.components[_].value=te,i(n,{...t,components:t.components})}}:P==="textarea"?{label:a(z),type:"textarea",value:R!=null?R:ne,onChange:te=>{t.components[_].value=te,i(n,{...t,components:t.components})}}:{type:"input",label:"undefined",value:"none"}}),[u,g]=d.useState(!1);d.useEffect(()=>{t.color&&u&&l&&(t.color.value=l,i(n,{...t,color:t.color}),g(!1))},[l==null?void 0:l.toString()]);const x=[{type:"custom",label:a("color"),component:e.jsx(Be,{theme:(j=t.color)==null?void 0:j.value,onClick:()=>{var L;g(!0),o(Ce((L=t.color)==null?void 0:L.value))}})}];return e.jsxs(e.Fragment,{children:[e.jsxs(fe,{direction:"row",mr:"auto",width:"100%",children:[e.jsx(Ne,{width:"100%",overflow:"hidden",label:a("panel.details.nodes.master.type"),children:e.jsxs(fe,{width:"100%",overflow:"hidden",children:[e.jsx(pe,{name:(w=t.label)!=null?w:a("panel.details.nodes.master.undefined"),fg:(B=t.labelColorFg)!=null?B:N.white,bg:(C=t.labelColorBg)!=null?C:"#000000",sx:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis"},mr:1}),e.jsx(pe,{name:(M=t.randomId)!=null?M:"UNDEFINED",fg:N.white,bg:t.randomId?"#19B3EA":"#000000",sx:{display:"inline-block"},mr:1})]})}),e.jsx(Te,{}),e.jsx(Se,{icon:e.jsx(Le,{}),onClick:()=>r(!0),"aria-label":"upload"})]}),e.jsx(Pe,{width:"100%",leftIcon:e.jsx(ve,{}),onClick:()=>m(!0),children:a("header.settings.procedures.masterManager.title")}),t.randomId&&e.jsx(v,{fields:f,minW:"full"}),t.randomId&&t.color!==void 0&&e.jsx(v,{fields:x,minW:"full"}),e.jsx(ke,{isOpen:s,onClose:()=>r(!1),onSubmit:p}),e.jsx(Me,{isOpen:h,onClose:()=>m(!1)})]})},vt=e.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[e.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),e.jsx("g",{transform:"translate(7.25, 7) scale(0.8)",children:e.jsx("polygon",{points:"6,1 7.5,4.25 11,4.65 8.5,7.1 9.2,10.75 6,9 2.8,10.75 3.5,7.1 1,4.65 4.5,4.25",fill:"currentColor"})})]}),Tt={component:Ct,icon:vt,defaultAttrs:Nt,attrsComponent:Lt,metadata:{displayName:"panel.details.nodes.master.displayName",tags:[]}},zt={[b.Virtual]:Ee,[b.ShmetroNumLineBadge]:Oe,[b.ShmetroTextLineBadge]:Ge,[b.GzmtrLineBadge]:Ke,[b.BjsubwayNumLineBadge]:tn,[b.BjsubwayTextLineBadge]:rn,[b.SuzhouRTNumLineBadge]:hn,[b.BerlinSBahnLineBadge]:jn,[b.BerlinUBahnLineBadge]:pn,[b.ChongqingRTNumLineBadge]:Nn,[b.ChongqingRTTextLineBadge]:Sn,[b.ChongqingRTNumLineBadge2021]:zn,[b.ChongqingRTTextLineBadge2021]:$n,[b.ShenzhenMetroNumLineBadge]:En,[b.MRTDestinationNumbers]:On,[b.MRTLineBadge]:Gn,[b.JREastLineBadge]:Yn,[b.QingdaoMetroNumLineBadge]:ot,[b.GuangdongIntercityRailwayLineBadge]:it,[b.LondonArrow]:mt,[b.ChengduRTLineBadge]:gt,[b.TaiPeiMetroLineBadege]:bt,[b.Facilities]:Re,[b.Text]:ue,[b.I18nText]:Bt,[b.Master]:Tt};export{zt as m};
